    
<H1><A name="MACHINE" id="MACHINE"></A>MACHINE</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MACHINE<BR></SPAN> Location: <SPAN style="font-style: italic;">SMSQ/E<BR></SPAN>
    This function returns a value corresponding to the type of
    system on which SuperBASIC is running.
    
    The values currently returned are:
    
    
<H3><SPAN style="font-style: italic;">MACHINE</SPAN>Machine Type</H3>

<P>
    0 ATARI ST / STM / STF / STFM
    
    1ORDINARY STE (1040) - NOT SUPPORTED!!!
    
    2 MEGA ST or ST / STM / STF / STFM with REAL-TIME
    CLOCK
    
    4 ATARI STACY
    
    6 ATARI STE
    
    8 MEGA STE
    
    10 GOLD CARD
    
    12 SUPER GOLD CARD
    
    16 FALCON
    
    24 ATARI TT 030
    
    28 QXL
    
    30 QPC
    
    On Standard QLs, <SPAN style="font-style: italic;">MACHINE</SPAN> returns the above value plus 1 if
    HERMES is fitted.
    
    On ATARI Computers, <SPAN style="font-style: italic;">MACHINE</SPAN> returns the above value plus 1 is
    a BLITTER CHIP is fitted.
    
    Users without SMSQ/E can use the command:
    
    <SPAN style="font-style: italic;">PRINT PEEK (SYS_VARS+HEX('a7')) &amp;&amp; BIN ('0011111')<BR></SPAN>
    This should return the same values (except that 0 will also
    be returned on a standard QL without any expansion board or a
    THOR computer). You can test for a THOR by using:
    
    <SPAN style="font-style: italic;">PRINT PEEK (SYS_VARS+HEX('84'))<BR></SPAN>
    which will be 0 on any other implementation. We do not
    know what it returns on the THOR range of computers.
    
    
<H3>Example:</H3>

<P>
    A program to test for the actual machine on which the
    program is running, as well as other interesting data:
    <SPAN style="font-style: italic;">100 v$=VER$:q$=QDOS$
    110 processor$='00':FPU=0:em_type=0
    120 IF v$&lt;&gt;'HBA'
    130 m_type=PEEK(SYS_BASE+HEX('A7'))
    140 em_type=m_type &amp;&amp; BIN('11100000')
    150 m_type=m_type &amp;&amp; BIN('00011111')
    160 SELect ON em_type
    170 =1:em_type=3
    180 =2:em_type=1
    190 =4:em_type=2
    200 END SELect
    210 IF v$='JSL1'
    220 PRINT 'MINERVA FITTED'<BR></SPAN>
    
<H3></H3>

<P><SPAN style="font-style: italic;">230 m_type=100 : processor$='08'
    240 ELSE
    250 IF m_type=0
    260 IF PEEK (SYS_BASE+HEX('84'))&lt;&gt;0
    270 IF q$(1)='4':PRINT 'THOR 1 Computer';
    280 IF q$(1)='5':PRINT 'THOR 20 Computer';
    290 IF q$(1)='6':PRINT 'THOR XVI Computer';
    300 IF q$(1) INSTR '456'=0:PRINT 'UNKNOWN THOR Computer'
    310 PRINT ' v';q$:STOP
    320 END IF
    330 END IF
    340 END IF
    350 ELSE
    360 m_type=MACHINE:processor$=PROCESSOR
    370 FPU=processor$(2):processor$=processor$(1)&amp;'0'
    380 em_type=DISP_TYPE
    390 END IF
    400 extra_chip=m_type MOD 2
    410 m_type=(m_type DIV 2)*2
    420 SELect ON m_type
    430 =0: IF v$='HBA'
    440 PRINT 'ATARI ST / STM / STF / STFM';
    450 ELSE :PRINT 'STANDARD QL - ROM VERSION ';v$ : processor$='08'
    460 END IF
    470 =2: PRINT 'MEGA ST or ST / STM / STF / STFM with REAL-TIME CLOCK';
    480 =4: PRINT 'ATARI STACY';
    490 =6: PRINT 'ATARI STE';
    500 =8: PRINT 'MEGA STE';
    510 =10: PRINT 'GOLD CARD';
    520 =12: PRINT 'SUPER GOLD CARD';
    530 =16: PRINT 'FALCON';
    540 =24: PRINT 'ATARI TT 030';
    550 =28: PRINT 'QXL'
    560 =30: PRINT 'QPC'
    570 END SELect
    580 SELect ON extra_chip
    590 =0: PRINT
    600 =1:
    610 SELect ON m_type
    620 =0,2,4,6,8,16,24:PRINT ' with BLITTER'
    630 SELect ON em_type
    640 =0: PRINT 'Original QL Emulator FITTED'
    650 =1: PRINT 'Extended Mode 4 Emulator FITTED'
    660 =2: PRINT 'QVME Emulator FITTED'
    670 =3: PRINT 'Monochrome Display Only'
    680 END SELect
    690 =REMAINDER :PRINT ' with HERMES'
    700 END SELect
    710 END SELect
    720 PRINT 'ROM VERSION - ';v$
    730 PRINT 'OS VERSION - ';q$
    735 IF m_type&lt;&gt;30
    740 PRINT 'PROCESSOR - 680';processor$;
    745 ELSE
    750 PRINT 'INTEL PROCESSOR';
    755 END IF
    760 SELect ON FPU
    765 =0 : PRINT<BR></SPAN>
    
<H3></H3>

<P><SPAN style="font-style: italic;">770 =1 : PRINT 'with Internal MMU'
    780 =2 : PRINT 'with 68851 MMU'
    790 =4 : PRINT 'with Internal FPU'
    800 =8 : PRINT 'with 68881 or 68882 FPU'
    810 END SELect<BR></SPAN>
    
<H3>NOTE 1:
    </H3>

<P>The machine type was only stored with on the ST/QL on Level
    E-20 drivers onwards. E-Init v1.07+ is also required.
    
    
<H3>NOTE 1:
    </H3>

<P>The wrong value was returned for the Mega ST prior to v1.33
    of E-Init.
    
    
<H3>CROSS-REFERENCE:
    </H3>

<P>See <A style="font-style: italic;" href="KeywordsP.html#PROCESSOR">PROCESSOR</A>, <A style="font-style: italic;" href="KeywordsD.html#DISP_TYPE">DISP_TYPE</A>, <A style="font-style: italic;" href="KeywordsV.html#VER$">VER$</A> and <A style="font-style: italic;" href="KeywordsQ.html#QDOS$">QDOS$</A>.
    
    <A style="font-style: italic;" href="KeywordsV.html#VER$(1)">VER$(1)</A> and <A style="font-style: italic;" href="KeywordsS.html#SYS_BASE">SYS_BASE</A> replace <A style="font-style: italic;" href="KeywordsS.html#SYS_VARS">SYS_VARS</A>.
    
    See also <A style="font-style: italic;" href="KeywordsA.html#A_MACHINE">A_MACHINE</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MAKE_DIR" id="MAKE_DIR"></A>MAKE_DIR</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MAKE_DIR subdirectory<BR></SPAN> Location: <SPAN style="font-style: italic;">Level-2 and Level-3 Drivers, THOR XVI<BR></SPAN>
    The command <SPAN style="font-style: italic;">MAKE_DIR</SPAN> creates a sub-directory which allows a
    group of files to be regarded as one unit when the contents of
    a medium are listed. Operations other than the standard <SPAN style="font-style: italic;">DIR</SPAN>,
    <SPAN style="font-style: italic;">WDIR</SPAN>, <SPAN style="font-style: italic;">WSTAT</SPAN> and <SPAN style="font-style: italic;">WDEL</SPAN>, are not affected.
    
    A file belongs to a sub-directory if the sub-directory's
    name appears as a prefix of the file, whether the file was
    created before or after the sub-directory.
    
    Sub-directories are only supported on Level-2 (or higher)
    floppy disks, hard disks and ramdisks. A sub-directory name
    can be any name but any underscore at its end will be ignored
    by <SPAN style="font-style: italic;">MAKE_DIR</SPAN>.
    
    If there is no medium in the given device, or if you do not
    specify a device name, the current default data device will be
    used (see <SPAN style="font-style: italic;">DATAD$</SPAN>).
    
    Sub-directories are identified by a "-&gt;" in directory
    listings and programs can identify them by examining their
    file type (255). Empty sub-directories can be deleted as
    normal files, but a sub-directory which is not empty, cannot
    be deleted: error -9 (in use) will be reported.
    
    Actually, sub-directories are normal files which hold a
    list of the files which are contained within them. The list
    consists of the standard file headers of these files, each
    being 64 bytes long. A sub-directory file never decreases in
    length if a file in the sub-directory has been deleted,
    instead, the file header is just marked as deleted by setting
    the name to a zero string.
    
    All normal operations are allowed on sub-directory files
    (except <SPAN style="font-style: italic;">RENAME</SPAN>), and they can be accessed using <SPAN style="font-style: italic;">OPEN_DIR</SPAN> and <SPAN style="font-style: italic;">FOP_DIR</SPAN>.
    
    
<H3>Example:</H3>

<P>
    If FLP1_ contains an empty disk and we then save the
    
    current SuperBASIC program as <SPAN style="font-style: italic;">flp1_my_prog_bas</SPAN> and a backup as
    
    <SPAN style="font-style: italic;">flp1_backup_bas:<BR></SPAN>
    <SPAN style="font-style: italic;">SAVE flp1_my_prog_bas
    
    SAVE flp1_backup_bas<BR></SPAN>
    a directory of flp1_, produced with <SPAN style="font-style: italic;">WDIR flp1_</SPAN> (for example),
    
    shows the following contents:
    
    my_prog_bas
    
    backup_bas
    
    Now, we create the sub-directory my (or my_) with
    
    <SPAN style="font-style: italic;">MAKE_DIR flp1_my_<BR></SPAN>
    
<H3></H3>

<P>
    or
    
    <SPAN style="font-style: italic;">MAKE_DIR flp1_my<BR></SPAN>
    (both forms are equivalent) and look at the directory
    
    again:
    
    my -&gt;
    
    backup_bas
    
    <SPAN style="font-style: italic;">MAKE_DIR</SPAN> created a new file "my" (not "my -&gt;") which is
    
    marked as a sub-directory with the "-&gt;" sign by the <SPAN style="font-style: italic;">DIR</SPAN>, <SPAN style="font-style: italic;">WDIR<BR></SPAN>
    and <SPAN style="font-style: italic;">WSTAT</SPAN> commands. The file type of my is 255,
    
    <SPAN style="font-style: italic;">PRINT FTYP(\flp1_my)<BR></SPAN>
    will return that. But where is my_prog_bas? It was moved
    
    into the sub-directory <SPAN style="font-style: italic;">my_</SPAN> and <SPAN style="font-style: italic;">DIR flp1_my_</SPAN> will show it again.
    
    
<H3>NOTE 1:</H3>

<P>
    The QUBIDE interface does not allow you to use <SPAN style="font-style: italic;">MAKE_DIR</SPAN> to
    create a sub-directory if any files already exist which would
    fall into that sub-directory.
    
    
<H3>NOTE 2:</H3>

<P>
    The level-2 device drivers introduced a new standard for
    subdirectories - other methods which were implemented in the
    past are not be recognised in this book.
    
    
<H3>NOTE 3:</H3>

<P>
    If a disk with a sub-directory is read by a level-1 device
    driver, the sub-directory appears as just another file and
    files which have been added to a sub-directory after its
    creation cannot be accessed or seen by the system. However,
    if a file had been created before the sub-directory, the
    level-1 device driver finds this file just as if the
    sub-directory did not exist. So, if you prepare a disk which
    should also be readable on level-1 device drivers, either
    don't use sub-directories or create them after everything
    else.
    
    
<H3>NOTE 4:</H3>

<P>
    Sub-directory names longer than 27 characters on Toolkit II
    may hang up the SuperBASIC interpreter. Since the system
    does not treat nested sub-directories differently, the above
    warning applies to long sub-directory prefixes as well.
    However, this lock up will only occur when creating sub-
    directories not when using them.
    
    This problem is fixed on SMS v2.85.
    
    
<H3>NOTE 5:</H3>

<P>
    A filename cannot be longer than 36 characters and as
    described above, sub-directories are prefixes which reduce the
    maximum possible length of a filename. If you try to create a
    file (eg. <SPAN style="font-style: italic;">SAVE</SPAN>) in a sub-directory so that the combined length
    of the file name and sub-directory are longer than 36
    characters, a 'not found' error will be returned.
    
    
<H3>WARNING 1:</H3>

<P>
    It is possible to create a sub-directory so that it cannot
    be removed any more (do not try this on a hard disk,
    you have been warned):
    
    <SPAN style="font-style: italic;">SAVE test_
    
    MAKE_DIR test<BR></SPAN>
    The file <SPAN style="font-style: italic;">test_</SPAN> has been moved into the <SPAN style="font-style: italic;">test</SPAN> directory, but it
    cannot be deleted to empty <SPAN style="font-style: italic;">test</SPAN>. - This has been fixed in
    drivers later than version 2.28.
    
    
<H3>WARNING 2:</H3>

<P>
    <SPAN style="font-style: italic;">MAKE_DIR net_</SPAN>, <SPAN style="font-style: italic;">MAKE_DIR "net"</SPAN> and similar commands lock-up the
    machine, so if you want you create a sub-directory called
    'net' in the current directory, use <SPAN style="font-style: italic;">MAKE_DIR DATAD$ &amp; "net"</SPAN>.
    
    
<H3>WARNING 3:</H3>

<P>
    <SPAN style="font-style: italic;">MAKE_DIR flp1__</SPAN>, or <SPAN style="font-style: italic;">MAKE_DIR flp1___</SPAN> and similar commands could
    create recursive directories until this was fixed in SMS
    v2.77.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsF.html#FMAKE_DIR">FMAKE_DIR</A> is a syntactical variation of <A style="font-style: italic;" href="KeywordsM.html#MAKE_DIR">MAKE_DIR</A>.
    
    <A style="font-style: italic;" href="KeywordsO.html#OPEN_DIR">OPEN_DIR</A> and <A style="font-style: italic;" href="KeywordsF.html#FOP_DIR">FOP_DIR</A> allow you to read directories of disks as
    well as sub-directories on level-2 drivers.
    
    The <A style="font-style: italic;" href="KeywordsD.html#DUP">DUP</A>, <A style="font-style: italic;" href="KeywordsD.html#DDOWN">DDOWN</A>, <A style="font-style: italic;" href="KeywordsD.html#DNEXT">DNEXT</A> and <A style="font-style: italic;" href="KeywordsD.html#DATA_USE">DATA_USE</A> commands are used to move
    around in a sub-directory tree.
    
    See <A style="font-style: italic;" href="KeywordsF.html#FOP_DIR">FOP_DIR</A> for a program which lists a sub-directory tree.
    
    To enable programs to read sub-directories which have not
    been written for that purpose, the <A style="font-style: italic;" href="KeywordsD.html#DEV_">DEV_</A> device exists (see
    <A style="font-style: italic;" href="KeywordsD.html#DEV_USE">DEV_USE</A>).
    
    The only legal way of identifying a sub-directory is by
    examining its file type as returned by <A style="font-style: italic;" href="KeywordsF.html#FTYP">FTYP</A> or <A style="font-style: italic;" href="KeywordsF.html#FILE_TYP">FILE_TYP</A> for
    example.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATADD" id="MATADD"></A>MATADD</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATADD sum,matrix1,matrix2<BR></SPAN> Location: <SPAN style="font-style: italic;">Math package<BR></SPAN>
    The command <SPAN style="font-style: italic;">MATADD</SPAN> adds the two matrices contained in the
    arrays <SPAN style="font-style: italic;">matrix1</SPAN> and <SPAN style="font-style: italic;">matrix2</SPAN>, setting the result in the array <SPAN style="font-style: italic;">sum</SPAN>.
    
    The parameters, <SPAN style="font-style: italic;">matrix1</SPAN>, <SPAN style="font-style: italic;">matrix2</SPAN> and <SPAN style="font-style: italic;">sum</SPAN>, must all be arrays of
    the same dimensions, the same size and the same type. They
    can be of any number type, viz. floating point or integer (%
    suffix), but not string and (we must stress this point)
    floating point and integer arguments must not be mixed.
    
    If these conditions are not satisfied, then <SPAN style="font-style: italic;">MATADD</SPAN> will break
    with a 'bad parameter' error (-15).
    
    Provided that the parameters follow this rule, the command
    <SPAN style="font-style: italic;">MATADD</SPAN> sets all of the elements of the <SPAN style="font-style: italic;">sum</SPAN> array to the sum of
    the respective elements of the two other arrays, <SPAN style="font-style: italic;">matrix1</SPAN> and
    <SPAN style="font-style: italic;">matrix2</SPAN>.
    
    
<H3>Example:</H3>

<P><SPAN style="font-style: italic;">100 DIM a%(10,10,80), b%(10,10,80), c%(10,10,80)
    110 MATRND a%,-5 TO 5: MATSEQ b%
    120 MATADD c%,a%,b%<BR></SPAN>
    
<H3>CROSS-REFERENCE:</H3>

<P>
    If you run this short example program (8000 internal
    loops!), you will notice the extraordinary speed of <A style="font-style: italic;" href="KeywordsM.html#MATADD">MATADD</A> which
    is representative of the other <A style="font-style: italic;" href="KeywordsM.html#MAT">MAT</A>... functions; <A style="font-style: italic;" href="KeywordsM.html#MATSUB">MATSUB</A> is almost
    equivalent to <A style="font-style: italic;" href="KeywordsM.html#MATADD">MATADD</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATCOUNT" id="MATCOUNT"></A>MATCOUNT</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATCOUNT (array, value)<BR></SPAN>
    or <SPAN style="font-style: italic;">MATCOUNT (array1, array2)<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    <SPAN style="font-style: italic;">MATCOUNT</SPAN> is a function which counts how often a certain
    value appears in the given <SPAN style="font-style: italic;">array</SPAN> where <SPAN style="font-style: italic;">array</SPAN> and <SPAN style="font-style: italic;">value</SPAN> can be of
    any type (even strings) as long as they are of the same type.
    
    The second syntax allows you to pass two arrays <SPAN style="font-style: italic;">array1</SPAN> and
    <SPAN style="font-style: italic;">array2</SPAN> of the same type and dimensions, <SPAN style="font-style: italic;">MATCOUNT</SPAN> will then compare
    these two arrays and return the number of different elements.
    
    
<H3>Example:</H3>

<P>
    The following programs compares two random integer arrays
    
    and will always print something around 33%:
    <SPAN style="font-style: italic;">100 DIM x%(1000), y%(1000)
    110 MATRND x%,2: MATRND y%,2
    120 PRINT MATCOUNT(x%,y%)/10;"%"<BR></SPAN>
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATCOUNT">MATCOUNT</A> comparisons are exact in that two numbers a and b
    are only regarded as equal if a=b in SuperBASIC terms. The
    same is true for strings, it means that their comparison is
    case-sensitive.
    
    <A style="font-style: italic;" href="KeywordsM.html#MATCOUNT1">MATCOUNT1</A> differs from <A style="font-style: italic;" href="KeywordsM.html#MATCOUNT">MATCOUNT</A> (see below) only in the fact
    that comparisons are based on the SuperBASIC operator ==
    instead of =.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATCOUNT1" id="MATCOUNT1"></A>MATCOUNT1</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATCOUNT1 (array, value)<BR></SPAN>
    or <SPAN style="font-style: italic;">MATCOUNT1 (array1, array2)<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    The function <SPAN style="font-style: italic;">MATCOUNT1</SPAN> is just a variation of <SPAN style="font-style: italic;">MATCOUNT</SPAN> which
    performs comparisons not as exact as <SPAN style="font-style: italic;">MATCOUNT</SPAN>. Numbers must only
    be almost equal, the absolute difference must be smaller than
    the absolute of the second number divided by 107:
    <SPAN style="font-style: italic;">
    ABS (a-b) &lt; ABS (b / 1E7)</SPAN>.
    
    This is the case if a==b.
    
    <SPAN style="font-style: italic;">MATCOUNT1</SPAN> is therefore the same as <SPAN style="font-style: italic;">MATCOUNT</SPAN> if integers are
    being dealt with.
    
    Comparison of strings is not case-sensitive, again this is
    analogous to the == operator: "QL"=="Ql" is true while
    "QL"="Ql" is not.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATCOUNT">MATCOUNT</A>, <A style="font-style: italic;" href="KeywordsM.html#MATEQU">MATEQU</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATEQU" id="MATEQU"></A>MATEQU</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATEQU array1,</SPAN> {<SPAN style="font-style: italic;">array2</SPAN> | <SPAN style="font-style: italic;">value</SPAN>} Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    The command <SPAN style="font-style: italic;">MATEQU</SPAN> sets up <SPAN style="font-style: italic;">array1</SPAN> in two different ways
    depending on the type of the second parameter:
    
    (1) If another array <SPAN style="font-style: italic;">array2</SPAN> of the same dimensions is
    supplied then each element of <SPAN style="font-style: italic;">array1</SPAN> is set to the corresponding
    element of <SPAN style="font-style: italic;">array2</SPAN>; or
    
    (2) If the second parameter is not an array but a constant,
    variable or expression then each element of <SPAN style="font-style: italic;">array1</SPAN> is set to the
    given <SPAN style="font-style: italic;">value</SPAN>.
    
    <SPAN style="font-style: italic;">array1</SPAN>, <SPAN style="font-style: italic;">array2</SPAN> and <SPAN style="font-style: italic;">value</SPAN> can be of any type: integer, floating
    point or string. <SPAN style="font-style: italic;">array1</SPAN> and <SPAN style="font-style: italic;">array2</SPAN> must however be of the same
    type and have the same number of dimensions.
    
    
<H3>Examples:</H3>

<P><SPAN style="font-style: italic;">DIM a$(4,8), a%(2,2,2,2,2), a(0), b$(4,8)
    MATEQU a$,"Hi there"
    MATEQU a%,6
    MATEQU a%,-PI
    test$=9.5: MATEQU a%,test$
    MATEQU a,9.5
    MATEQU a$,b$<BR></SPAN>
    
<H3>NOTE:</H3>

<P>
    Supercharge and Turbo users... sorry!
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATRND">MATRND</A>, <A style="font-style: italic;" href="KeywordsM.html#MATIDN">MATIDN</A>
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATDEV" id="MATDEV"></A>MATDEV</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATDEV array</SPAN>[<SPAN style="font-style: italic;">%</SPAN>] Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    This function takes any numeric array and calculates a
    number from its values which gives information about their
    standard deviation.
    
    
<H3>Example:</H3>

<P>
    <SPAN style="font-style: italic;">10 DIM x(10)
    
    20 PRINT MATDEV (x)<BR></SPAN>
    gives 0 because all elements of <SPAN style="font-style: italic;">x</SPAN> are equal. Add:
    <SPAN style="font-style: italic;">
    15 MATRND x,10<BR></SPAN>
    and the result be be around 3.2.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATMEAN">MATMEAN</A>
    
<H3></H3>

<P>
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATIDN" id="MATIDN"></A>MATIDN</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATIDN matrix<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    This command forces the square numeric array <SPAN style="font-style: italic;">matrix</SPAN> to be
    initialised so that the matrix is given the algebraic identity
    for matrices of that size. This gives the matrix the following
    format:
    
    1 0 0 . . . 0 0 0
    
    0 1 0 . . . 0 0 0
    
    0 0 1 . . . 0 0 0
    
    . . . . . .
    
    . . . . . .
    
    . . . . . .
    
    0 0 0 . . . 1 0 0
    
    0 0 0 . . . 0 1 0
    
    0 0 0 . . . 0 0 1
    
    All elements on the diagonal line from the top left corner
    to the bottom right corner are set to 1 and all other elements
    are set to 0. This forms the identity matrix, which means that
    when a matrix of the same size is multiplied by this, the
    resultant matrix is the same as the original matrix, ie.
    matrix1 * matrix = matrix1.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATMULT">MATMULT</A> multiplies matrices.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATINPUT" id="MATINPUT"></A>MATINPUT</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATINPUT array</SPAN> [{<SPAN style="font-style: italic;">\</SPAN> | <SPAN style="font-style: italic;">,</SPAN> | <SPAN style="font-style: italic;">;</SPAN> | <SPAN style="font-style: italic;">!</SPAN>}] Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    The command <SPAN style="font-style: italic;">MATINPUT</SPAN> reads each element of an <SPAN style="font-style: italic;">array</SPAN> in turn
    from #1, so that you have to type them all in.
    
    The modifiers '<SPAN style="font-style: italic;">;</SPAN>' and '<SPAN style="font-style: italic;">!</SPAN>' place the cursor behind the last
    entry whilst '<SPAN style="font-style: italic;">,</SPAN>' moves it to the next tab position. The default
    is '<SPAN style="font-style: italic;">\</SPAN>' which forces a new line between entries - the '<SPAN style="font-style: italic;">\</SPAN>' can be
    omitted.
    
    
<H3>Example:</H3>

<P><SPAN style="font-style: italic;">100 DIM a(1,2)
    110 MATINPUT a,<BR></SPAN>
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATREAD">MATREAD</A>, <A style="font-style: italic;" href="KeywordsM.html#MATRND">MATRND</A>, <A style="font-style: italic;" href="KeywordsF.html#FOR">FOR</A>
    
<H3></H3>

<P>
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATINV" id="MATINV"></A>MATINV</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATINV matrix2,matrix1<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    The command <SPAN style="font-style: italic;">MATINV</SPAN> takes the array <SPAN style="font-style: italic;">matrix1</SPAN>, inverts it and
    stores the result in <SPAN style="font-style: italic;">matrix2</SPAN>.
    
    Inverting is a mathematical term and produces a result from
    a matrix which is similar to finding the reciprocal of a
    number, namely, the relation is expressed by the fact that the
    product of a number and its reciprocal is one and the product
    of a matrix and its inverse matrix is the identity matrix:
    <SPAN style="font-style: italic;">n=10: DIM A(n,n), B(n,n), C(n,n)
    MATRND A<BR></SPAN>
    <SPAN style="font-style: italic;">A</SPAN> is a random matrix
    <SPAN style="font-style: italic;">MATINV A,B<BR></SPAN>
    make <SPAN style="font-style: italic;">B</SPAN> the inverted matrix of <SPAN style="font-style: italic;">A<BR></SPAN> <SPAN style="font-style: italic;">MATMULT C,A,B<BR></SPAN>
    multiply <SPAN style="font-style: italic;">A</SPAN> with <SPAN style="font-style: italic;">B</SPAN> and store the result in <SPAN style="font-style: italic;">C<BR></SPAN>
    <SPAN style="font-style: italic;">C</SPAN> will be almost identical to the matrix <SPAN style="font-style: italic;">ONE</SPAN> defined with:
    <SPAN style="font-style: italic;">DIM ONE(n,n): MATIDN ONE<BR></SPAN>
    <SPAN style="font-style: italic;">C</SPAN> and <SPAN style="font-style: italic;">ONE</SPAN> do not have exactly the same values because of the
    limited precision of the QL maths package.
    
    Two conditions are absolutely necessary for <SPAN style="font-style: italic;">MATINV</SPAN> to work:
    
    (a) <SPAN style="font-style: italic;">DET (matrix1) &lt;&gt; 0<BR></SPAN>
    (b) <SPAN style="font-style: italic;">matrix1</SPAN> and <SPAN style="font-style: italic;">matrix2</SPAN> must be square matrices
    
    
<H3>Example:</H3>

<P>
    A matrix <SPAN style="font-style: italic;">A</SPAN> and an array <SPAN style="font-style: italic;">b</SPAN> form a so-called "linear equation
    
    system" which has a solution <SPAN style="font-style: italic;">x</SPAN> which is an array like <SPAN style="font-style: italic;">b</SPAN>.
    
    This example will find the solutions <SPAN style="font-style: italic;">x(i)</SPAN> of the system, for
    
    any positive value of <SPAN style="font-style: italic;">n</SPAN> (the size of the matrix):
    <SPAN style="font-style: italic;">100 n=5
    110 DIM A(n,n), AINV(n,n), b(n), x(n)
    120 MATRND A: MATRND b
    130 :
    140 MATINV A,AINV
    150 MATSCALM AINV,b TO x
    160 PRINT "Solutions:"\x
    170 IF ABS(DET)&lt;1E-6 THEN PRINT "(dubious results)"
    180 :
    190 DEFine PROCedure MATSCALM (matrix,array1,array2)
    200 LOCal i,j
    210 FOR i=0 TO DIMN(matrix,1)
    220 array2(i)=0
    230 FOR j=0 TO DIMN(matrix,2)
    240 array2(i)=array2(i)+array1(j)*matrix(i,j)
    250 END FOR j
    260 END FOR i
    270 END DEFine MATSCALM<BR></SPAN>
    
<H3></H3>

<P>
    The method of solving a linear equation system by
    
    calculating the inverted matrix is known as Cramer's Rule.
    
    The advantage is that if the matrix <SPAN style="font-style: italic;">A</SPAN> is constant and only
    
    the array <SPAN style="font-style: italic;">b</SPAN> varies for other situations, <SPAN style="font-style: italic;">MATINV</SPAN> needs only be
    
    called once and not afterwards for each value of the array
    
    <SPAN style="font-style: italic;">b</SPAN>.
    
    
<H3>NOTE:</H3>

<P>
    Calculation time takes longer as the size of the matrix
    increases eg. the above example will take nearly an hour to
    calculate <SPAN style="font-style: italic;">n=100</SPAN>.
    
    <SPAN style="font-style: italic;">MATINV</SPAN> cannot be stopped with &lt;CTRL&gt;&lt;SPACE&gt; whilst number
    crunching.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    It is highly recommended to check if <A style="font-style: italic;" href="KeywordsD.html#DET">DET</A> is very close to
    zero after <A style="font-style: italic;" href="KeywordsM.html#MATINV">MATINV</A> has been executed, if this is the case, <A style="font-style: italic;" href="KeywordsM.html#MATINV">MATINV</A> may have found a result which does not exist:
    
    <A style="font-style: italic;" href="KeywordsI.html#IF%20ABS(DET)">IF ABS(DET)</A> <A style="font-style: italic;" href="KeywordsI.html#IF%20ABS(DET)">IF ABS(DET) &lt; 1E-6 THEN PRINT "dubious result" "&gt;&lt; 1E-6 THEN PRINT "dubious result"</A>
    This works because <A style="font-style: italic;" href="KeywordsM.html#MATINV">MATINV</A> calls <A style="font-style: italic;" href="KeywordsD.html#DET">DET</A> internally.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATMAX" id="MATMAX"></A>MATMAX</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATMAX (array</SPAN>[<SPAN style="font-style: italic;">%</SPAN>]<SPAN style="font-style: italic;">)<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    This function finds the largest value contained in an
    integer or floating point array.
    
    
<H3>NOTE:</H3>

<P>
    This cannot be compiled with Supercharge or Turbo.
    
    
<H3>WARNING:</H3>

<P>
    A string array makes <SPAN style="font-style: italic;">MATMAX</SPAN> hang the system.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATMIN">MATMIN</A> is the complementary function.
    
    See also <A style="font-style: italic;" href="KeywordsM.html#MAXIMUM">MAXIMUM</A> and <A style="font-style: italic;" href="KeywordsM.html#MAXIMUM%">MAXIMUM%</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATMEAN" id="MATMEAN"></A>MATMEAN</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATMEAN (array</SPAN>[<SPAN style="font-style: italic;">%</SPAN>]<SPAN style="font-style: italic;">)<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    This function returns the average of the array's elements,
    calculated by the sum of the elements divided by the number of
    elements.
    
    
<H3>NOTE:</H3>

<P>
    Don't compile with Supercharge or Turbo.
    
    
<H3>WARNING:</H3>

<P>
    Avoid string parameters!
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    See <A style="font-style: italic;" href="KeywordsM.html#MATSUM">MATSUM</A> for an example.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATMIN" id="MATMIN"></A>MATMIN</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATMIN (array</SPAN>[<SPAN style="font-style: italic;">%</SPAN>]<SPAN style="font-style: italic;">)<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    This function finds the smallest element in an integer or
    floating point array.
    
    
<H3>NOTE:</H3>

<P>
    Cannot be compiled with Supercharge or Turbo.
    
    
<H3>WARNING:</H3>

<P>
    A string array makes <SPAN style="font-style: italic;">MATMIN</SPAN> hang the system.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATMAX">MATMAX</A> is the opposite function.
    
    Refer also to <A style="font-style: italic;" href="KeywordsM.html#MINIMUM">MINIMUM</A> and <A style="font-style: italic;" href="KeywordsM.html#MINMUM%">MINMUM%</A> which are even quicker.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATMULT" id="MATMULT"></A>MATMULT</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATMULT product, matrix1, matrix2<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    The command <SPAN style="font-style: italic;">MATMULT</SPAN> performs multiplication on matrices of
    floating point type. The <SPAN style="font-style: italic;">matrix1</SPAN> is multiplied with <SPAN style="font-style: italic;">matrix2</SPAN> and the
    result stored in <SPAN style="font-style: italic;">product</SPAN>.
    
    Since a n x m matrix represents a linear transformation
    which takes n-dimensional vectors and produces m-dimensional
    vectors from them, the following conditions must be satisfied
    by the three matrices supplied to <SPAN style="font-style: italic;">MATMULT</SPAN>:
    
    (1) All matrices must be two-dimensional.
    
    (2) <SPAN style="font-style: italic;">DIMN (matrix1, 2) = DIMN (matrix2, 1)<BR></SPAN>
    (3) <SPAN style="font-style: italic;">DIMN (matrix1, 1) = DIMN (product, 1)<BR></SPAN>
    (4) <SPAN style="font-style: italic;">DIMN (matrix2, 2) = DIMN (product, 2)<BR></SPAN>
    The latter three conditions are obviously satisfied by
    square matrices.
    
    
<H3>Example:</H3>

<P>
    Multiplication of two matrices means that their effect on a
    
    vector is combined into one matrix. The following program
    
    demonstrates this on a simple square. The square <SPAN style="font-style: italic;">x</SPAN> is a
    
    list of four vectors. <SPAN style="font-style: italic;">x</SPAN> is first rotated with <SPAN style="font-style: italic;">ROT</SPAN> by 45ï¿½,
    
    the rotated square is stored in <SPAN style="font-style: italic;">y</SPAN>. Now this <SPAN style="font-style: italic;">y</SPAN> is squeezed
    
    in size by one half with <SPAN style="font-style: italic;">SQZ</SPAN> and stored in <SPAN style="font-style: italic;">z</SPAN>. Lines 240 to
    
    280 perform all this and show the process.
    
    After a keystroke, the matrix <SPAN style="font-style: italic;">ROTSQZ</SPAN> will be created as the
    
    product of <SPAN style="font-style: italic;">ROT</SPAN> and <SPAN style="font-style: italic;">SQZ</SPAN>. Again the original square is
    
    transformed but this time by <SPAN style="font-style: italic;">ROTSQZ</SPAN> which rotates and
    
    squeezes in one go. This is done by lines 300 to 350.
    
    Lines 100 to 220 initialise the matrices and set up the
    
    window for drawing. Due to the design of QL graphics, line
    
    100 can be freely omitted. At the bottom of the listing are
    
    three PROCedures:
    
    <SPAN style="font-style: italic;">MATVEC</SPAN> multiplies a vector with a matrix (ie. the vector is
    
    transformed by this matrix) and
    
    <SPAN style="font-style: italic;">MATVECS</SPAN> does the same for a list of vectors, just calling
    
    <SPAN style="font-style: italic;">MATVEC</SPAN> for each individual vector. <SPAN style="font-style: italic;">MATVEC(S)</SPAN> is written in a
    
    dimension independent way, just to show how that can be
    
    done; there is no check on the parameters, just to save
    
    space.
    
    <SPAN style="font-style: italic;">POLYDRAW</SPAN> draws a closed polygon from a supplied list of
    
    two-dimensional points.
    
    The program appears on the next page.
    <SPAN style="font-style: italic;">100 WINDOW 448,200,32,16
    110 SCALE 8,-5,-4: PAPER 0: CLS
    120 :
    130 DIM ROT(2,2): rc=1/SQRT(2)
    140 ROT(1,1)=rc: ROT(1,2)=rc
    150 ROT(2,1)=-rc: ROT(2,2)=rc
    160 DIM SQZ(2,2): SQZ(1,1)=.5: SQZ(2,2)=.5
    170 :
    180 DIM x(4,2), y(4,2), z(4,2)
    190 x(1,1)=-1: x(1,2)= 1
    200 x(2,1)= 1: x(2,2)= 1
    210 x(3,1)= 1: x(3,2)=-1
    220 x(4,1)=-1: x(4,2)=-1
    230 :
    240 INK 5: POLYDRAW x
    250 MATVECS y,ROT,x
    260 INK 3: POLYDRAW y
    270 MATVECS z,SQZ,y
    280 INK 7: POLYDRAW z
    290 :
    300 PAUSE: CLS
    310 DIM ROTSQZ(2,2)
    320 INK 5: POLYDRAW x
    330 MATMULT ROTSQZ,ROT,SQZ
    340 MATVECS z,ROTSQZ,x
    350 INK 7: POLYDRAW z
    360 :
    370 :
    380 DEFine PROCedure MATVECS (vectors2, matrix, vectors1)
    390 LOCal i
    400 FOR i=1 TO DIMN(vectors1)
    410 MATVEC vectors2(i),matrix,vectors1(i)
    420 END FOR i
    430 END DEFine MATVECS
    440 :
    450 DEFine PROCedure MATVEC (vector2, matrix, vector1)
    460 REMark vector2 = matrix * vector1
    470 LOCal i,j
    480 FOR i=1 TO DIMN(vector2)
    490 vector2(i)=0
    500 FOR j=1 TO DIMN(matrix,2)
    510 vector2(i)=vector2(i)+matrix(i,j)*vector1(j)
    520 END FOR j
    530 END FOR i
    540 END DEFine MATVEC
    550 :
    560 DEFine PROCedure POLYDRAW (vectors)
    570 LOCal i
    580 POINT vectors(1,1),vectors(1,2)
    590 FOR i=2 TO DIMN(vectors), 1
    600 LINE TO vectors(i,1),vectors(i,2)
    610 END FOR i
    620 END DEFine POLYDRAW<BR></SPAN>
    
<H3>NOTE:</H3>

<P>
    Normally the product of two matrices A*B is not the same as
    B*A, however, the matrices <SPAN style="font-style: italic;">ROT</SPAN> and <SPAN style="font-style: italic;">SQZ</SPAN> in the above example are
    an exception to this rule. Replace line 330 with:
    <SPAN style="font-style: italic;">330 MATMULT ROTSQZ,SQZ,ROT<BR></SPAN>
    and nothing will change.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    See <A style="font-style: italic;" href="KeywordsM.html#MATINV">MATINV</A> for another example of using <A style="font-style: italic;" href="KeywordsM.html#MATMULT">MATMULT</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATPLOT" id="MATPLOT"></A>MATPLOT</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATPLOT array</SPAN> [{<SPAN style="font-style: italic;">,</SPAN> | <SPAN style="font-style: italic;">;</SPAN>}] Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    This command takes a two-dimensional <SPAN style="font-style: italic;">array</SPAN> and draws the
    points set out by the <SPAN style="font-style: italic;">array</SPAN> (the first dimension identifies the
    number of points and the second the co-ordinates) to the
    default window used by <SPAN style="font-style: italic;">LINE</SPAN> (normally #1). The array must be
    declared in the following way (an array which does not fall
    into this category will cause an error):
    
    <SPAN style="font-style: italic;">DIM array (points,1)<BR></SPAN>
    <SPAN style="font-style: italic;">points</SPAN> is the total number of points (less one) set out in
    the <SPAN style="font-style: italic;">array</SPAN>, with <SPAN style="font-style: italic;">array(p,0)</SPAN> the x-coordinate and <SPAN style="font-style: italic;">array(p,1)</SPAN> the y-
    coordinate of point number <SPAN style="font-style: italic;">p-1</SPAN>.
    
    If a comma (<SPAN style="font-style: italic;">,</SPAN>) appears after the name of the array <SPAN style="font-style: italic;">MATPLOT<BR></SPAN> will connect each point with its successor by a line. On the
    other hand, if a semicolon (<SPAN style="font-style: italic;">;</SPAN>) appears after the name of the
    <SPAN style="font-style: italic;">array</SPAN>, an additional line is drawn between the first point and
    the last point. These lines are drawn using the QDOS line
    drawing routine and therefore suffer from the same problems as
    the <SPAN style="font-style: italic;">LINE</SPAN> command.
    
    For those of you still uncertain of the possible uses of
    this command, a little hint: the addition of a semicolon to
    the the parameter will always enclose the set of lines which
    have been set out, thereby making this command ideal for
    creating all types of shapes (for example dodecahedrons)!
    
    <SPAN style="font-style: italic;">MATPLOT</SPAN> supports <SPAN style="font-style: italic;">INK</SPAN>, <SPAN style="font-style: italic;">PAPER</SPAN>, <SPAN style="font-style: italic;">OVER</SPAN> and <SPAN style="font-style: italic;">FILL</SPAN>.
    
    
<H3>Example:</H3>

<P>
    The following fractal generator was written by John de
    
    Rivaz in SuperBASIC and optimised by Simon N. Goodwin.
    
    Originally, both the calculation and drawing was done in
    
    one loop which was a bit faster (10-20%) than the following
    
    version (this calculates all points in one loop and then
    
    uses <SPAN style="font-style: italic;">MATPLOT</SPAN> to draw them quickly, creating a second internal
    
    loop). Another disadvantage compared to the original
    
    version is the increase in memory usage because all points
    
    have to be stored:
    <SPAN style="font-style: italic;">100 MODE 4: WINDOW 512,256,0,0: PAPER 0: CLS
    110 SCALE 20,-14,-10: iterations=10000
    120 DIM pts(iterations-1,1): x=0: y=0
    130 FOR loop=0 TO iterations-1
    140 pts(loop,0)=x: pts(loop,1)=y
    150 sy=0: IF x&lt;0 THEN sy=-1: ELSE IF x THEN sy=1
    160 xx=y-sy*(ABS(x-.9))^.5: y=1.01-x: x=xx
    170 END FOR loop
    180 INK 7: MATPLOT pts<BR></SPAN>
    A nice modification of the above example would be to:
    
    (1) replace <SPAN style="font-style: italic;">MODE 4</SPAN> with <SPAN style="font-style: italic;">MODE 8</SPAN> in line 100;
    
    (2) delete line 180; and
    
    (3) add the block
    <SPAN style="font-style: italic;">180 REPeat loop
    190 FOR n=1 TO 7
    200 INK n
    210 MATPLOT pts
    220 END FOR n
    230 END REPeat loop<BR></SPAN>
    It's up to you to produce more variants!
    
    
<H3>NOTE:</H3>

<P>
    The output of <SPAN style="font-style: italic;">MATPLOT</SPAN> cannot be redirected to any other
    window and specifically any program which uses <SPAN style="font-style: italic;">MATPLOT</SPAN> (eg. the
    above example) cannot be compiled. So it is perhaps best to
    forget about <SPAN style="font-style: italic;">MATPLOT</SPAN>.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATPLOT_R">MATPLOT_R</A> draws the figure relative to the graphic cursor.
    <A href="KeywordsP.html#POINT">POINT</A> draws a single point to any screen, <A style="font-style: italic;" href="KeywordsB.html#BLOCK">BLOCK</A> can also be
    used to plot points, especially of variable size.
    <A href="KeywordsP.html#PLOT">PLOT</A>, <A style="font-style: italic;" href="KeywordsA.html#APOINT">APOINT</A> and <A style="font-style: italic;" href="KeywordsP.html#POINT_ABS">POINT_ABS</A> plot points in absolute co-ordinates,
    directly to screen memory, ignoring windows.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATPLOT_R" id="MATPLOT_R"></A>MATPLOT_R</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATPLOT_R array</SPAN> [{<SPAN style="font-style: italic;">,</SPAN> | <SPAN style="font-style: italic;">;</SPAN>}] Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    This command is the same as <SPAN style="font-style: italic;">MATPLOT</SPAN> except that the output is
    drawn relative to the graphic cursor.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsP.html#POINT">POINT</A> and all other commands related to graphics move the
    graphic cursor.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATPROD" id="MATPROD"></A>MATPROD</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATPROD (array)<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    The function <SPAN style="font-style: italic;">MATPROD</SPAN> returns the product of the <SPAN style="font-style: italic;">array</SPAN>'s values,
    so <SPAN style="font-style: italic;">array</SPAN> is not allowed to be a string array.
    
    
<H3>Example:</H3>

<P>
    Can you see why <SPAN style="font-style: italic;">MATPROD</SPAN> and <SPAN style="font-style: italic;">FACT</SPAN> return the same number for
    
    every <SPAN style="font-style: italic;">n</SPAN>?
    <SPAN style="font-style: italic;">100 n=8: DIM a%(n)
    110 MATSEQ a%
    120 PRINT MATPROD(a%) ;" = ";
    130 PRINT FACT(n+1)<BR></SPAN>
    
<H3>NOTE:</H3>

<P>
    <SPAN style="font-style: italic;">MATPROD</SPAN> is not compatible with Turbo and Supercharge.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATPROD">MATPROD</A> is almost identical to <A style="font-style: italic;" href="KeywordsM.html#MATSUM">MATSUM</A> except that it returns
    the product rather than the elements' sum; so have a look at
    <A style="font-style: italic;" href="KeywordsM.html#MATSUM">MATSUM</A> which is also more useful.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATREAD" id="MATREAD"></A>MATREAD</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATREAD array<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    The command <SPAN style="font-style: italic;">MATREAD</SPAN> initialises the <SPAN style="font-style: italic;">array</SPAN> (of any type) by
    reading each element from <SPAN style="font-style: italic;">DATA</SPAN> lines. Since <SPAN style="font-style: italic;">MATREAD</SPAN> does the same
    as the following routine:
    <SPAN style="font-style: italic;">FOR i1=0 TO DIMN(array,1)
    FOR i2=0 TO DIMN(array,2)
    ...
    READ array(i1, i2)
    ...
    END FOR i2
    END FOR i1<BR></SPAN>
    all of the normal errors of <SPAN style="font-style: italic;">READ</SPAN> may occur.
    
    
<H3>Example:</H3>

<P><SPAN style="font-style: italic;">100 DIM a%(3,2)
    110 MATREAD a%
    120 :
    130 DATA 1, 2, 3, 4
    140 DATA 5, 6, 7, 8
    150 DATA 9,10,11,12<BR></SPAN>
    is identical to <SPAN style="font-style: italic;">MATSEQ a%</SPAN>.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATINPUT">MATINPUT</A>
    
<H3></H3>

<P>
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATRND" id="MATRND"></A>MATRND</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATRND array<BR></SPAN>
    or <SPAN style="font-style: italic;">MATRND array%</SPAN> [[ <SPAN style="font-style: italic;">,minval%</SPAN>] <SPAN style="font-style: italic;">,maxval%</SPAN>] Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    This command initialises all of the elements of an integer
    or floating point <SPAN style="font-style: italic;">array</SPAN> with random numbers. Their default range
    depends on the type of array: for integer arrays, the values
    range from -32768 to 32767, whereas for floating point they
    range between 0 and 1.
    
    <SPAN style="font-style: italic;">MATRND</SPAN> selects the range itself if there is just one
    parameter, but for integer arrays only, an extended syntax
    allows you to specify another range (as in the second
    variant). If just a maximum value <SPAN style="font-style: italic;">maxval%</SPAN> is specified then
    values range from <SPAN style="font-style: italic;">0 to maxval%</SPAN>, if a minimum <SPAN style="font-style: italic;">minval%</SPAN> is additionally
    given then values range from <SPAN style="font-style: italic;">minval% to maxval%</SPAN>.
    
    <SPAN style="font-style: italic;">MATRND</SPAN> will reject any non-integer parameters for the second
    syntax.
    
    
<H3>Examples:</H3>

<P><SPAN style="font-style: italic;">DIM array%(4,3,2), array(1,2): min%=10
    MATRND array
    MATRND array%
    MATRND array%,100
    MATRND array%,min%,100<BR></SPAN>
    
<H3>NOTE:</H3>

<P>
    Like all other <SPAN style="font-style: italic;">MAT</SPAN>... commands, <SPAN style="font-style: italic;">MATRND</SPAN> cannot be compiled with
    Supercharge or Turbo.
    
    
<H3>WARNING:</H3>

<P>
    <SPAN style="font-style: italic;">MATRND</SPAN> allows a string array as a parameter. This leads to
    odd results and can possibly hang the machine.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    The random values chosen by <A style="font-style: italic;" href="KeywordsM.html#MATRND">MATRND</A> can be influenced by
    <A style="font-style: italic;" href="KeywordsR.html#RANDOMISE">RANDOMISE</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATSEQ" id="MATSEQ"></A>MATSEQ</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATSEQ array<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    The command <SPAN style="font-style: italic;">MATSEQ</SPAN> initialises the <SPAN style="font-style: italic;">array</SPAN> (which must be a
    numeric array) with a constantly increasing set of integer
    numbers: 1 2 3 4 5 6... There is not really much use for <SPAN style="font-style: italic;">MATSEQ<BR></SPAN> except for demonstration.
    
    <SPAN style="font-style: italic;">array</SPAN> can be either a floating point or integer variable.
    No strings are allowed.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATIDN">MATIDN</A> is a useful means of initialising an array, <A style="font-style: italic;" href="KeywordsM.html#MATEQU">MATEQU</A> can
    be used to set all elements of an array to a certain value. It
    is worth noting that any square matrix created with <A style="font-style: italic;" href="KeywordsM.html#MATSEQ">MATSEQ</A> cannot be inverted with <A style="font-style: italic;" href="KeywordsM.html#MATINV">MATINV</A> because the determinant <A style="font-style: italic;" href="KeywordsD.html#DET">DET</A> of
    that matrix is always zero:
    
    <A style="font-style: italic;" href="Keywords1.html#100%20n=30:%20DIM%20m(n,n),%20minv(n,n)">100 n=30: DIM m(n,n), minv(n,n)</A> <A href="Keywords1.html#110%20MATSEQ%20m">110 MATSEQ m</A> <A href="Keywords1.html#120%20MATINV%20minv,m">120 MATINV minv,m</A>
    always fails at line 120 because <A style="font-style: italic;" href="KeywordsD.html#DET(m)=0">DET(m)=0</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATSUB" id="MATSUB"></A>MATSUB</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATSUB difference,matrix1,matrix2<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    Provided that the parameters of the command <SPAN style="font-style: italic;">MATSUB</SPAN> fulfil the
    same conditions as for <SPAN style="font-style: italic;">MATADD</SPAN>, <SPAN style="font-style: italic;">MATSUB</SPAN> will store the difference
    between <SPAN style="font-style: italic;">matrix1</SPAN> and <SPAN style="font-style: italic;">matrix2</SPAN> in <SPAN style="font-style: italic;">difference</SPAN> {ie. <SPAN style="font-style: italic;">difference</SPAN>(...) =
    <SPAN style="font-style: italic;">matrix1</SPAN>(...) - <SPAN style="font-style: italic;">matrix2</SPAN>(...)}.
    
    Two or all of the parameters can be identical, so:
    
    <SPAN style="font-style: italic;">MATSUB a,a,a<BR></SPAN>
    and
    
    <SPAN style="font-style: italic;">MATSUB a,b,a<BR></SPAN>
    etc. are valid.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATADD">MATADD</A>!
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATSUM" id="MATSUM"></A>MATSUM</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATSUM (array</SPAN>[<SPAN style="font-style: italic;">%</SPAN>]<SPAN style="font-style: italic;">)<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    This function calculates the sum of all of the elements of
    the supplied <SPAN style="font-style: italic;">array</SPAN>.
    <SPAN style="font-style: italic;">
    array</SPAN> can be any floating point or integer array, but not a
    string array. The latter leads to error -15 (bad parameter).
    
    <SPAN style="font-style: italic;">array</SPAN> can be any number of dimensions, although the
    following example uses just one dimension for demonstration
    reasons.
    
    
<H3>Example:</H3>

<P>
    If you stored a lot of values, eg. temperatures, in an
    
    array and want to find the average temperature, you have to
    
    divide the sum of the temperatures by the number of values.
    
    Obviously the operation of adding temperatures can take
    
    quite some time for a large data base, so this is a point
    
    where <SPAN style="font-style: italic;">MATSUM</SPAN> helps:
    <SPAN style="font-style: italic;">100 values% = 200: DIM temp%(values%)
    110 :
    120 PRINT#0,"random initialisation..."
    130 MATRND temp%,-20,30
    140 PRINT#0,"equalising";
    150 FOR equalize = 1 TO 10
    160 FOR i = 0 TO values%-1
    170 temp%(i) = ( temp%(i) + temp%(i+1) ) / 2
    180 END FOR i
    190 PRINT#0,".";
    200 END FOR equalize
    210 :
    220 PRINT#0\\"drawing..."
    230 WINDOW 448,200,32,16: SCALE 100,0,0
    240 PAPER 3: CLS: INK 7: OVER 0
    250 dist = 160 / values%: yoff = 50
    260 FOR i = 0 TO values%-1
    270 x1 = i*dist: x2 = x1+dist
    280 y1 = temp%(i) + yoff: y2 = temp%(i+1) + yoff
    290 LINE x1,y1 TO x2,y2
    300 END FOR i
    310 :
    320 PRINT#0,"find medium..."
    330 tmed = MATSUM(temp%) / values%
    340 INK 3: OVER -1
    350 LINE 0,tmed+yoff TO x2,tmed+yoff<BR></SPAN>
    The important line is 330 where <SPAN style="font-style: italic;">MATSUM</SPAN> is used. Lines 150 to
    
    200 transform the random values to more realistic
    
    temperatures: you won't find any country where outside
    
    temperature jumps from -20 to +30 degrees Celsius in one
    
    day! The number of <SPAN style="font-style: italic;">equalize</SPAN> loops can be freely chosen. This
    
    is also true for <SPAN style="font-style: italic;">values%</SPAN>, the figure adapts itself to the
    
    number of values (see <SPAN style="font-style: italic;">dist</SPAN> in line 250).
    
    
<H3>NOTE:</H3>

<P>
    A program using <SPAN style="font-style: italic;">MATSUM</SPAN> cannot be compiled with Turbo or
    Super-charge.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATRND">MATRND</A> initialises an array with random values.
    <A href="KeywordsM.html#MATPROD">MATPROD</A> is very similar to <A style="font-style: italic;" href="KeywordsM.html#MATSUM">MATSUM</A> except that it finds the
    product of an array's elements.
    <A href="KeywordsM.html#MATMEAN">MATMEAN</A> finds the mean value of a matrix's values directly,
    so line 330 could be replaced with
    
    <A style="font-style: italic;" href="Keywords3.html#330%20tmed%20=%20MATMEAN(temp%)">330 tmed = MATMEAN(temp%)</A>
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MATTRN" id="MATTRN"></A>MATTRN</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MATTRN array1, array2<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    The command <SPAN style="font-style: italic;">MATTRN</SPAN> takes numeric arrays of two dimensions or
    string arrays of three dimensions and reads each row of <SPAN style="font-style: italic;">array2</SPAN>,
    placing it in the corresponding column of <SPAN style="font-style: italic;">array1</SPAN>.
    
    It is obligatory that both arrays have the same type and
    are exactly <SPAN style="font-style: italic;">DIM</SPAN>ed to the needs of <SPAN style="font-style: italic;">MATTRN</SPAN>. The first dimension of
    <SPAN style="font-style: italic;">array1</SPAN> must be equal to the second of <SPAN style="font-style: italic;">array2</SPAN> and the first
    dimension of <SPAN style="font-style: italic;">array2</SPAN> must be equal to the second of <SPAN style="font-style: italic;">array1</SPAN>.
    
    For strings, additionally, the third dimensions of both
    arrays have to be equal:
    
    <SPAN style="font-style: italic;">DIM array1(x,y), array2(y,x)
    
    DIM array1%(x,y), array2%(y,x)
    
    DIM array1$(x,y,z), array2$(y,x,z)<BR></SPAN>
    So <SPAN style="font-style: italic;">array1</SPAN> and <SPAN style="font-style: italic;">array2</SPAN> can only be of identical dimensions for
    square matrices. In all other cases the contents of <SPAN style="font-style: italic;">array1</SPAN> are
    not modified.
    
    
<H3>Example:</H3>

<P><SPAN style="font-style: italic;">100 DIM A%(2,3), B%(3,2)
    110 MATRND B%,9: PRINT B%!\
    120 MATTRN A%,B%: PRINT A%!\
    130 MATTRN B%,A%: PRINT B%!\<BR></SPAN>
    
<H3></H3>

<P>
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MAX" id="MAX"></A>MAX</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MAX (x</SPAN><SUP>1</SUP> <SUP>*</SUP>[<SPAN style="font-style: italic;">,x</SPAN><SUP>i</SUP>]<SUP>*</SUP>) Location: <SPAN style="font-style: italic;">Math Package, MINMAX2<BR></SPAN>
    This function must be given at least one number as a
    parameter - it will then return the highest value out of the
    given list of parameters.
    
    
<H3>Example:</H3>

<P>
    <SPAN style="font-style: italic;">PRINT MAX ( 2, 5, -10, 3.2 )<BR></SPAN>
    will print 5.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MIN">MIN</A>.
    
    See also <A style="font-style: italic;" href="KeywordsM.html#MAXIMUM">MAXIMUM</A> and <A style="font-style: italic;" href="KeywordsM.html#MATMAX">MATMAX</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MAXIMUM" id="MAXIMUM"></A>MAXIMUM</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MAXIMUM</SPAN> [ <SPAN style="font-style: italic;">( array )</SPAN> ]
    
    or <SPAN style="font-style: italic;">MAXIMUM (</SPAN> <SUP>*</SUP>[ <SPAN style="font-style: italic;">value</SPAN> ]<SUP>*</SUP> <SPAN style="font-style: italic;">)<BR></SPAN> Location: <SPAN style="font-style: italic;">Minmax (DIY Toolkit - Vol Z)<BR></SPAN>
    The effect of this function depends on the parameter
    supplied. It is however an extremely fast way of comparing
    values.
    
    If no parameter is supplied, then the greatest possible
    floating point number supported by the QL is returned - this
    is equivalent to 1.61585 e616.
    
    If a single parameter is supplied which is a single
    dimensional floating point array, then <SPAN style="font-style: italic;">MAXIMUM</SPAN> will return the
    value of the largest number stored within that array. If you
    want to compare the values of an integer array, then use
    <SPAN style="font-style: italic;">MAXIMUM%</SPAN> (a 'bad parameter' is generated with this function).
    
    If, however, you use the second variant to pass a list of
    values (either numbers or variables), then the highest value
    out of those parameters will be returned. Please note that
    you cannot pass an array in this instance - it is therefore
    the same as <SPAN style="font-style: italic;">MAX</SPAN>.
    
    
<H3>Example:</H3>

<P><SPAN style="font-style: italic;">PRINT MAXIMUM<BR></SPAN>
    Returns 1.61585e616
    <SPAN style="font-style: italic;">DIM x(3):x(0)=10:x(1)=200:x(2)=2.5:x(3)=50.4
    PRINT MAXIMUM (x)<BR></SPAN>
    Returns 200
    <SPAN style="font-style: italic;">PRINT MAXIMUM (100, ax ,21*10+ac)<BR></SPAN>
    Returns the highest value.
    
    
<H3>NOTE:</H3>

<P>
    This function cannot be compiled with Supercharge or Turbo
    if you intend to pass an array as the parameter.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATMAX">MATMAX</A>, <A style="font-style: italic;" href="KeywordsM.html#MAXIMUM%">MAXIMUM%</A> and <A style="font-style: italic;" href="KeywordsM.html#MAX">MAX</A> are similar.
    
    Refer also to <A style="font-style: italic;" href="KeywordsM.html#MINIMUM">MINIMUM</A> and <A style="font-style: italic;" href="KeywordsM.html#MINIMUM%">MINIMUM%</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MAXIMUM%" id="MAXIMUM%"></A>MAXIMUM%</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MAXIMUM%</SPAN> [ <SPAN style="font-style: italic;">( array% )</SPAN> ]
    
    or <SPAN style="font-style: italic;">MAXIMUM% (</SPAN> <SUP>*</SUP>[ <SPAN style="font-style: italic;">value</SPAN> ]<SUP>*</SUP> <SPAN style="font-style: italic;">)<BR></SPAN> Location: <SPAN style="font-style: italic;">Minmax (DIY Toolkit - Vol Z)<BR></SPAN>
    This function is exactly the same as <SPAN style="font-style: italic;">MAXIMUM</SPAN> except that it
    only accepts integer parameters and is therefore able to work
    much more quickly.
    
    As with <SPAN style="font-style: italic;">MAXIMUM</SPAN>, you can use this function to find the
    highest value in an array, provided that the first variant is
    used, and the array is a single dimensional integer array.
    
    If no parameter is supplied, then the greatest possible
    integer number supported by the QL is returned - this is
    equivalent to 32767.
    
    
<H3>Example:</H3>

<P><SPAN style="font-style: italic;">PRINT MAXIMUM%<BR></SPAN>
    Returns 32767
    <SPAN style="font-style: italic;">DIM x%(3):x%(0)=10:x%(1)=200:x%(2)=2:x%(3)=50
    PRINT MAXIMUM% (x%)<BR></SPAN>
    Returns 200
    <SPAN style="font-style: italic;">PRINT MAXIMUM% (100, ax ,21*10+ac)<BR></SPAN>
    Returns the highest value as an integer.
    
    
<H3>NOTE:</H3>

<P>
    This function cannot be compiled with Supercharge or Turbo
    if you intend to pass an array as the parameter.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATMAX">MATMAX</A>, <A style="font-style: italic;" href="KeywordsM.html#MAXIMUM">MAXIMUM</A> and <A style="font-style: italic;" href="KeywordsM.html#MAX">MAX</A> are similar.
    
    Refer also to <A style="font-style: italic;" href="KeywordsM.html#MINIMUM%">MINIMUM%</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MB" id="MB"></A>MB</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MB<BR></SPAN> Location: <SPAN style="font-style: italic;">Minerva<BR></SPAN>
    Early versions of Minerva (pre v1.97) did not have built-in
    MultiBASICs and they had to be <SPAN style="font-style: italic;">EXEC</SPAN>uted from disk. However, you
    could make them resident by linking in the file Mulib_rext
    with the <SPAN style="font-style: italic;">LRESPR</SPAN> command and then this command, <SPAN style="font-style: italic;">MB</SPAN> would be
    available to start up MultiBASIC interpreters.
    
    This is not a very convenient way of starting MultiBASICs
    as you cannot pass parameters to the MultiBASIC, nor can you
    use the command to run filter programs.
    
    
<H3>NOTE:</H3>

<P>
    This command is redudant on Minerva v1.97+, whereby
    MultiBASICs can be started up using <SPAN style="font-style: italic;">EXEC pipep</SPAN>.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    See <A style="font-style: italic;" href="KeywordsS.html#SBASIC">SBASIC</A> and <A style="font-style: italic;" href="KeywordsE.html#EW">EW</A>.
    
    Also see <A style="font-style: italic;" href="KeywordsQ.html#QUIT">QUIT</A>.
    
    Check out the appendix on Multiple BASICs.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MD" id="MD"></A>MD</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MD subdir<BR></SPAN> Location: <SPAN style="font-style: italic;">Beuletools (Needs Level-2 Drivers)<BR></SPAN>
    This command is just used as an abbreviation for the <SPAN style="font-style: italic;">MAKE_DIR<BR></SPAN> command on Level-2 (and higher) floppy/ winchester/ ramdisk
    drivers.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    An alternative would be to rename <A style="font-style: italic;" href="KeywordsM.html#MAKE_DIR">MAKE_DIR</A> with:
    
    <A style="font-style: italic;" href="KeywordsN.html#NEW_NAME">NEW_NAME "MAKE_DIR","MD"</A>
    See <A style="font-style: italic;" href="KeywordsM.html#MAKE_DIR">MAKE_DIR</A> !
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MERGE" id="MERGE"></A>MERGE</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MERGE device_filename<BR></SPAN>
    or <SPAN style="font-style: italic;">MERGE</SPAN> [<SPAN style="font-style: italic;">device_</SPAN>]<SPAN style="font-style: italic;">filename</SPAN> <SPAN style="font-style: italic;">(Toolkit II)<BR></SPAN> Location: <SPAN style="font-style: italic;">QL ROM, Toolkit II<BR></SPAN>
    This command is similar to <SPAN style="font-style: italic;">LOAD</SPAN> except that it does not
    clear the current program and variables out of memory prior to
    loading the given program file. Neither is the screen
    cleared, which enables loading pictures to be shown on screen
    whilst the main program loads. This means that any line
    numbers which appear in the program currently in memory and
    which are repeated in the program file will be overwritten by
    the lines in the program file, whereas any new lines will be
    inserted into the program in memory.
    
    Again, any lines without line numbers are automatically
    executed as they are loaded into memory. This could therefore
    be used within a program to execute a 'command file' stored on
    a directory device (however, see below).
    
    
<H3>Example:</H3>

<P>
    A short program - when typed in, save this using the
    
    command:
    
    <SPAN style="font-style: italic;">SAVE mdv1_test1_bas:<BR></SPAN> <SPAN style="font-style: italic;">10 REMark Test1
    20 PRINT 'The Sinclair QL'<BR></SPAN>
    Now, type <SPAN style="font-style: italic;">NEW</SPAN> and enter the following short program:
    <SPAN style="font-style: italic;">5 REMark Test
    20 PRINT 'An old program line'
    30 PRINT 'SuperComputer'<BR></SPAN>
    Now, enter the command:
    <SPAN style="font-style: italic;">MERGE mdv1_test1_bas<BR></SPAN>
    followed by:
    <SPAN style="font-style: italic;">LIST<BR></SPAN>
    and the following will now form the program in memory:
    <SPAN style="font-style: italic;">5 REMark Test
    10 REMark Test1
    20 PRINT 'The Sinclair QL'
    30 PRINT 'SuperComputer'<BR></SPAN>
    
<H3>NOTE 1:</H3>

<P>
    Unfortunately, if you <SPAN style="font-style: italic;">MERGE</SPAN> a file of direct commands (ie. a
    program file without line numbers), only the first line will
    be read and the file will be left open, making it impossible
    to change the disk/microdrive cartridge. Some compilers
    provide commands to ensure that the file is closed and all of
    the commands executed. Minerva and Toolkit II close the file,
    but still only the first command is executed, unless the <SPAN style="font-style: italic;">MERGE<BR></SPAN> command is used from within a program (in which case, the
    whole of the command file is executed).
    
    SMS ensures that <SPAN style="font-style: italic;">MERGE</SPAN> works in both of these circumstances.
    
    
<H3>NOTE 2:</H3>

<P>
    When writing command files, ensure that the lines are all
    checked thoroughly before saving them without the line
    numbers, since a 'bad line' error on such a file may crash the
    QL. However, if Toolkit II is present, this makes a safe
    recovery, reporting 'bad line'.
    
    
<H3>NOTE 3:</H3>

<P>
    <SPAN style="font-style: italic;">MERGE</SPAN> can become confused if used from within a <SPAN style="font-style: italic;">PROCedure</SPAN> or
    <SPAN style="font-style: italic;">FuNction</SPAN>. Minerva and Toolkit II both report 'Not Implemented'.
    
    
<H3>NOTE 4:</H3>

<P>
    On Minerva v1.86, <SPAN style="font-style: italic;">MERGE</SPAN> could become a little confused when
    used within a program.
    
    
<H3>NOTE 5:</H3>

<P>
    When used within a program <SPAN style="font-style: italic;">MERGE</SPAN> and <SPAN style="font-style: italic;">MRUN</SPAN> are the same.
    
    
<H3>NOTE 6:</H3>

<P>
    Since Toolkit II v2.22 (and on the Minerva version), <SPAN style="font-style: italic;">MERGE<BR></SPAN> has refused to try and load a file which does not have a file
    type of 0 - see <SPAN style="font-style: italic;">FTYP</SPAN>.
    
    
<H3>SMS NOTE:</H3>

<P>
    <SPAN style="font-style: italic;">MERGE</SPAN> follows the same rules for finding a program name as
    the <SPAN style="font-style: italic;">LOAD</SPAN> command.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MRUN">MRUN</A> is very similar. See <A style="font-style: italic;" href="KeywordsL.html#LOAD">LOAD</A> and <A style="font-style: italic;" href="KeywordsS.html#SAVE">SAVE</A>. <A style="font-style: italic;" href="KeywordsD.html#DO">DO</A> is also very
    similar to <A style="font-style: italic;" href="KeywordsM.html#MERGE">MERGE</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MIDINET" id="MIDINET"></A>MIDINET</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MIDINET<BR></SPAN> Location: <SPAN style="font-style: italic;">SMSQ/E, ATARI Emulators<BR></SPAN>
    A file MIDINET_rext is provided with SMSQ/E and the
    Emulators for the Atari computers which allows you to set up a
    Network using the MIDI ports provided on the Atari computers.
    
    Once the Network has been set up with the necessary leads,
    and MIDINET_rext been loaded on all computers in the Network,
    the command <SPAN style="font-style: italic;">MIDINET</SPAN> should be issued to start up the fileserver
    Job on each computer. This creates a background Job called
    'MIDINET' which is similar to the 'Server' Job created by
    <SPAN style="font-style: italic;">FSERVE</SPAN>.
    
    The two fileservers are very similar in operation in that
    they both allow other computers to access the resources of the
    Master machine over the Network.
    
    However, MIDINET has built-in protection for files which
    can prevent other users in a Network accessing sensitive
    files. This is implemented by means of recognising files
    which start with a specific series of characters:
    
<H3>Characters at start
    of filename:Effect</H3>

<P>*H or *hThese files cannot be accessed over the
    Network. Any attempt to use these files by
    a Slave Machine will return 'Not Found'
    errors.
    *RThese files are Read Only over the Network.
    *DThese files cannot be accessed over the
    Network and will return 'Not Implemented' -
    this prevents direct sector access.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MNET">MNET</A> is needed to control the Network.
    
    See also <A style="font-style: italic;" href="KeywordsF.html#FSERVE">FSERVE</A> and <A style="font-style: italic;" href="KeywordsS.html#SERNET">SERNET</A>.
    
    See the Appendix on Networks for further details.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MIN" id="MIN"></A>MIN</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MIN (x</SPAN><SUP>1</SUP> <SUP>*</SUP>[<SPAN style="font-style: italic;">,x</SPAN><SUP>i</SUP>]<SUP>*</SUP><SPAN style="font-style: italic;">)<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package, MINMAX2<BR></SPAN>
    This function must be given at least one number as a
    parameter - it will then return the lowest value out of the
    given list of parameters.
    
    
<H3>Example:</H3>

<P><SPAN style="font-style: italic;">100 INPUT "a ="!a
    110 INPUT "b ="!b
    120 FOR x=MIN(a,b) TO MAX(a,b): PRINT x<BR></SPAN>
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MAX">MAX</A> is <A style="font-style: italic;" href="KeywordsM.html#MIN">MIN</A>'s counterpart.
    
    Compare <A style="font-style: italic;" href="KeywordsM.html#MINIMUM">MINIMUM</A> and <A style="font-style: italic;" href="KeywordsM.html#MATMIN">MATMIN</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MINIMUM" id="MINIMUM"></A>MINIMUM</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MINIMUM</SPAN> [ <SPAN style="font-style: italic;">( array )</SPAN> ]
    
    or <SPAN style="font-style: italic;">MINIMUM (</SPAN> <SUP>*</SUP>[ <SPAN style="font-style: italic;">value</SPAN> ]<SUP>*</SUP> <SPAN style="font-style: italic;">)<BR></SPAN> Location: <SPAN style="font-style: italic;">Minmax (DIY Toolkit - Vol Z)<BR></SPAN>
    The effect of this function depends on the parameter
    supplied. It is however an extremely fast way of comparing
    values.
    
    If no parameter is supplied, then the smallest possible
    floating point number supported by the QL is returned - this
    is equivalent to -1e614.
    
    If a single parameter is supplied which is a single
    dimensional floating point array, then <SPAN style="font-style: italic;">MINIMUM</SPAN> will return the
    value of the smallest number stored within that array. If you
    want to compare the values of an integer array, then use <SPAN style="font-style: italic;">MINIMUM%<BR></SPAN> (a 'bad parameter' is generated with this function).
    
    If, however, you use the second variant to pass a list of
    values (either numbers or variables), then the smallest value
    out of those parameters will be returned. Please note that
    you cannot pass an array in this instance - it is therefore
    the same as <SPAN style="font-style: italic;">MIN</SPAN>.
    
    
<H3>Example:</H3>

<P><SPAN style="font-style: italic;">DIM x(3):x(0)=10:x(1)=200:x(2)=2.5:x(3)=50.4
    PRINT MINIMUM (x)<BR></SPAN>
    Returns 2.5
    
    
<H3>NOTE:</H3>

<P>
    This function cannot be compiled with Supercharge or Turbo
    if you intend to pass an array as the parameter.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATMIN">MATMIN</A>, <A style="font-style: italic;" href="KeywordsM.html#MINIMUM%">MINIMUM%</A> and <A style="font-style: italic;" href="KeywordsM.html#MIN">MIN</A> are similar.
    
    Refer also to <A style="font-style: italic;" href="KeywordsM.html#MAXIMUM">MAXIMUM</A> and <A style="font-style: italic;" href="KeywordsM.html#MAXIMUM%">MAXIMUM%</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MINIMUM%" id="MINIMUM%"></A>MINIMUM%</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MINIMUM%</SPAN> [ <SPAN style="font-style: italic;">( array% )</SPAN> ]
    
    or <SPAN style="font-style: italic;">MINIMUM% (</SPAN> <SUP>*</SUP>[ <SPAN style="font-style: italic;">value</SPAN> ]<SUP>*</SUP> <SPAN style="font-style: italic;">)<BR></SPAN> Location: <SPAN style="font-style: italic;">Minmax (DIY Toolkit - Vol Z)<BR></SPAN>
    This function is exactly the same as <SPAN style="font-style: italic;">MINIMUM</SPAN> except that it
    only accepts integer parameters and is therefore able to work
    much more quickly.
    
    As with <SPAN style="font-style: italic;">MINIMUM</SPAN>, you can use this function to find the
    smallest value in an array, provided that the first variant is
    used, and the array is a single dimensional integer array.
    
    If no parameter is supplied, then the smallest possible
    integer number supported by the QL is returned - this is
    equivalent to -32768.
    
    
<H3>NOTE:</H3>

<P>
    This function cannot be compiled with Supercharge or Turbo
    if you intend to pass an array as the parameter.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsM.html#MATMIN">MATMIN</A>, <A style="font-style: italic;" href="KeywordsM.html#MINIMUM">MINIMUM</A> and <A style="font-style: italic;" href="KeywordsM.html#MIN">MIN</A> are similar.
    
    Refer also to <A style="font-style: italic;" href="KeywordsM.html#MAXIMUM%">MAXIMUM%</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MISTake" id="MISTake"></A>MISTake</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MISTake<BR></SPAN> Location: <SPAN style="font-style: italic;">QL ROM<BR></SPAN>
    <SPAN style="font-style: italic;">MISTake</SPAN> is a keyword which will only rarely ever be found. It
    cannot be inserted into a program from the keyboard. Instead,
    it is generated internally whenever <SPAN style="font-style: italic;">LOAD</SPAN>, <SPAN style="font-style: italic;">LRUN</SPAN>, <SPAN style="font-style: italic;">MERGE</SPAN> or <SPAN style="font-style: italic;">MRUN<BR></SPAN> commands are used and a line in the file being loaded cannot
    be parsed (ie. if it would generate a 'bad line' error if
    typed in at the keyboard).
    
    Rather than reporting an error and stopping the loading
    process, the word <SPAN style="font-style: italic;">MISTake</SPAN> is inserted in the offending line after
    the line number. If you then try to <SPAN style="font-style: italic;">RUN</SPAN> the offending line, a
    'Bad Line' error will be generated (under SMS the error
    'MISTake in program' is reported.
    
    You can however <SPAN style="font-style: italic;">EDIT</SPAN> the offending line - you must delete
    the word <SPAN style="font-style: italic;">MISTake</SPAN> as well as correcting the error before the line
    will be accepted by the parser. Once this is done, then the
    program should run as normal.
    
    
<H3>NOTE:</H3>

<P>
    Unfortunately, QREF (from Liberation Software) cannot find
    lines containing <SPAN style="font-style: italic;">MISTake</SPAN> - in order to do this, you need a much
    more complex system such as MasterBasic+ (from Ergon
    Development).
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    Please see <A style="font-style: italic;" href="KeywordsL.html#LOAD">LOAD</A> and <A style="font-style: italic;" href="KeywordsM.html#MERGE">MERGE</A> about loading a SuperBASIC program
    in general.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MKF$" id="MKF$"></A>MKF$</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MKF$ (float)<BR></SPAN> Location: <SPAN style="font-style: italic;">BTool<BR></SPAN>
    This function returns a string containing the internal
    representation of a floating point number (which is stored as
    six bytes).
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsC.html#CVF">CVF</A>, <A style="font-style: italic;" href="KeywordsM.html#MKI$">MKI$</A>, <A style="font-style: italic;" href="KeywordsM.html#MKS$">MKS$</A>, <A style="font-style: italic;" href="KeywordsM.html#MKL$">MKL$</A>, <A style="font-style: italic;" href="KeywordsP.html#PEEK_F">PEEK_F</A>, <A style="font-style: italic;" href="KeywordsP.html#POKE_F">POKE_F</A>
    
<H3></H3>

<P>
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MKI$" id="MKI$"></A>MKI$</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MKI$ (integer%)</SPAN> <SPAN style="font-style: italic;">integer%=-32768...32767<BR></SPAN> Location: <SPAN style="font-style: italic;">BTool<BR></SPAN>
    The function <SPAN style="font-style: italic;">MKI$</SPAN> returns a string containing the internal
    representation of an integer number (which is stored as two
    bytes).
    
    
<H3>Example:</H3>

<P>
    <SPAN style="font-style: italic;">MKI$(11111)="+g"<BR></SPAN>
    because
    
    <SPAN style="font-style: italic;">CODE("+")*256 + CODE("g")=11111<BR></SPAN>
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsC.html#CVI%">CVI%</A> is the opposite function.
    <A href="KeywordsM.html#MKF$">MKF$</A>, <A style="font-style: italic;" href="KeywordsM.html#MKL$">MKL$</A>, <A style="font-style: italic;" href="KeywordsM.html#MKS$">MKS$</A>
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MKL$" id="MKL$"></A>MKL$</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MKL$ (longint)</SPAN> <SPAN style="font-style: italic;">longint=-2*INTMAX-1...2*INTMAX+1<BR></SPAN> Location: <SPAN style="font-style: italic;">BTool<BR></SPAN>
    This function returns a string containing the internal
    format of a long integer number (which is stored as four
    bytes).
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsC.html#CVL">CVL</A> is the complementary function.
    <A href="KeywordsM.html#MKI$">MKI$</A>, <A style="font-style: italic;" href="KeywordsM.html#MKF$">MKF$</A>, <A style="font-style: italic;" href="KeywordsM.html#MKS$">MKS$</A>
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MKS$" id="MKS$"></A>MKS$</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MKS$ (string$)<BR></SPAN> Location: <SPAN style="font-style: italic;">BTool<BR></SPAN>
    This function returns a string containing the internal
    format of a string {which is stored as two bytes indicating
    the length of the string (as returned by <SPAN style="font-style: italic;">MKI$</SPAN>) and the string
    itself}.
    
    
<H3>Example:</H3>

<P>
    <SPAN style="font-style: italic;">MKS$("Test") = CHR$(0)&amp;CHR$(4) &amp; "Test"<BR></SPAN>
    because
    <SPAN style="font-style: italic;">
    MKI$ (4)= CHR$(0)&amp;CHR$(4)<BR></SPAN>
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsC.html#CVS$">CVS$</A>, <A style="font-style: italic;" href="KeywordsM.html#MKI$">MKI$</A>, <A style="font-style: italic;" href="KeywordsM.html#MKF$">MKF$</A>, <A style="font-style: italic;" href="KeywordsM.html#MKL$">MKL$</A>
    
<H3></H3>

<P>
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MNET" id="MNET"></A>MNET</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MNET station<BR></SPAN> Location: <SPAN style="font-style: italic;">SMSQ/E, ATARI Emulators<BR></SPAN>
    This command is similar to the <SPAN style="font-style: italic;">NET</SPAN> command in that it sets
    the Network Station number of the machine on which it is
    issued. The only difference is that here it sets the station
    number for the MIDINET Network (as opposed to QNET).
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    See <A style="font-style: italic;" href="KeywordsM.html#MNET%">MNET%</A>, <A style="font-style: italic;" href="KeywordsM.html#MNET_USE">MNET_USE</A> and <A style="font-style: italic;" href="KeywordsN.html#NET">NET</A>.
    
    Also please see <A style="font-style: italic;" href="KeywordsM.html#MIDINET">MIDINET</A>, <A style="font-style: italic;" href="KeywordsS.html#SERNET">SERNET</A> and <A style="font-style: italic;" href="KeywordsF.html#FSERVE">FSERVE</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MNET%" id="MNET%"></A>MNET%</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MNET%<BR></SPAN> Location: <SPAN style="font-style: italic;">SMSQ/E, ATARI Emulators<BR></SPAN>
    This function returns the current station number of the
    computer as set with <SPAN style="font-style: italic;">MNET</SPAN>.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    See <A style="font-style: italic;" href="KeywordsM.html#MNET">MNET</A>.
    <A href="KeywordsN.html#NET_ID">NET_ID</A> is similar.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MNET_OFF" id="MNET_OFF"></A>MNET_OFF</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MNET_OFF<BR></SPAN> Location: <SPAN style="font-style: italic;">SMSQ/E, ATARI Emulators<BR></SPAN>
    This command turns the MIDINET driver off temporarily so
    that you can use the MIDI ports independently.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    See <A style="font-style: italic;" href="KeywordsM.html#MNET_ON">MNET_ON</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MNET_ON" id="MNET_ON"></A>MNET_ON</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MNET_ON<BR></SPAN> Location: <SPAN style="font-style: italic;">SMSQ/E, ATARI Emulators<BR></SPAN>
    This command switches the MIDINET driver back on after it
    has been disabled with <SPAN style="font-style: italic;">MNET_OFF</SPAN>.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    See <A style="font-style: italic;" href="KeywordsM.html#MNET_OFF">MNET_OFF</A>.
    Also see <A style="font-style: italic;" href="KeywordsM.html#MIDINET">MIDINET</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MNET_S%" id="MNET_S%"></A>MNET_S%</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MNET_S% (station)<BR></SPAN> Location: <SPAN style="font-style: italic;">SMSQ/E, ATARI Emulators<BR></SPAN>
    This function enables you to check whether a machine with
    the specified <SPAN style="font-style: italic;">station</SPAN> number is connected to the MIDINET. This
    can be useful to prevent the problem of the Network retrying
    several times before failing when asked to send or read data
    from a Network station which does not exist.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    See <A style="font-style: italic;" href="KeywordsM.html#MNET">MNET</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MNET_USE" id="MNET_USE"></A>MNET_USE</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MNET_USE id<BR></SPAN> Location: <SPAN style="font-style: italic;">SMSQ/E, ATARI Emulators<BR></SPAN>
    Due to the fact that MIDINET Networks can be run on
    computers alongside SERNET Networks and even QNET Networks, it
    may be necessary to alter the identification letter used to
    access facilties on other computers in the Network.
    
    The default letter <SPAN style="font-style: italic;">id</SPAN> is <SPAN style="font-style: italic;">n</SPAN> (as with <SPAN style="font-style: italic;">FSERVE</SPAN>), but this can be
    set to any other single letter by using this command.
    However, you should avoid letters which already appear as the
    first letter in another device driver (see <SPAN style="font-style: italic;">DEVLIST</SPAN>).
    
    
<H3>Example:</H3>

<P>
    <SPAN style="font-style: italic;">MNET_USE m
    
    OPEN #3,m2_con_512x256a0x0<BR></SPAN>
    Open an input channel covering the screen on station number
    2 in the MIDINET Network.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    See <A style="font-style: italic;" href="KeywordsM.html#MNET">MNET</A> and <A style="font-style: italic;" href="KeywordsM.html#MIDINET">MIDINET</A>.
    Refer also to<A style="font-style: italic;" href="KeywordsM.html#MNET_S%.">MNET_S%.</A>
    
<H3></H3>

<P>
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MOD" id="MOD"></A>MOD</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">x MOD y<BR></SPAN> Location: <SPAN style="font-style: italic;">QL ROM<BR></SPAN>
    This operator returns the value of <SPAN style="font-style: italic;">x</SPAN> to modulus <SPAN style="font-style: italic;">y</SPAN>. This is
    defined as <SPAN style="font-style: italic;">x-(x DIV y)*y</SPAN>. If <SPAN style="font-style: italic;">x</SPAN> or <SPAN style="font-style: italic;">y</SPAN> is not an integer value, then
    it is rounded to the nearest integer (compare <SPAN style="font-style: italic;">INT</SPAN>).
    
    On non-SMS implementations the answer and both parameters
    must lie within the range -32768...32767. On SMS, the answer
    and both parameters can lie anywhere within roughly -
    2e9...2e9.
    
    
<H3>Examples:</H3>

<P><SPAN style="font-style: italic;">PRINT 13 DIV 5<BR></SPAN>
    gives the result 3
    
    (<SPAN style="font-style: italic;">13 DIV 5</SPAN> is 2 - 2 multiplied by 5 is 10. 13 minus 10 is 3).
    <SPAN style="font-style: italic;">PRINT 13.4 MOD 1.5<BR></SPAN>
    gives the result 1 <SPAN style="font-style: italic;">(13 MOD 2)</SPAN>.
    
    
<H3>NOTE 1:</H3>

<P>
    <SPAN style="font-style: italic;">MOD</SPAN> has problems with the value -32768: <SPAN style="font-style: italic;">PRINT -32768 MOD -1</SPAN> gives
    the result -1 on most implementations. On Minerva v1.76 (or
    later) and SMS v2.77+ it gives the correct result, being 0.
    
    
<H3>NOTE 2:</H3>

<P>
    If you write a program for SMSQ/E which uses values outside
    the range -32768...32767, this will not work on non-SMSQ/E
    machines - instead of <SPAN style="font-style: italic;">PRINT x MOD y</SPAN> you will need to use:
    
    <SPAN style="font-style: italic;">PRINT x-(INT(x/y)*y)<BR></SPAN>
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsD.html#DIV">DIV</A> returns the integer part of <A style="font-style: italic;" href="Keywordsx.html#x">x</A> divided by <A style="font-style: italic;" href="Keywordsy.html#y">y</A>.
    
    Also please see the alternative version of <A style="font-style: italic;" href="KeywordsM.html#MOD">MOD</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MOD" id="MOD"></A>MOD</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MOD (x,y)<BR></SPAN> Location: <SPAN style="font-style: italic;">Math Package<BR></SPAN>
    The function <SPAN style="font-style: italic;">MOD</SPAN> returns the value <SPAN style="font-style: italic;">x-(DIV(x,y)*y)</SPAN>, ie. the value
    of <SPAN style="font-style: italic;">x</SPAN> to modulus <SPAN style="font-style: italic;">y</SPAN>, in a similar fashion to the ROM based
    operator <SPAN style="font-style: italic;">MOD</SPAN>. However, this version is not limited to a range
    of -32768 to 32767, but will accept parameters in the range
    -INTMAX to INTMAX.
    
    Because both versions of <SPAN style="font-style: italic;">MOD</SPAN> return the integer remainder of
    a division, <SPAN style="font-style: italic;">x MOD 0</SPAN> or <SPAN style="font-style: italic;">MOD(x,0)</SPAN> lead to an overflow error, because
    division by zero is undefined.
    
    
<H3>NOTE 1:</H3>

<P>
    Both versions of <SPAN style="font-style: italic;">MOD</SPAN> can be used in the same program,
    although the Turbo and Supercharge compilers will not accept
    this alternative form.
    
    
<H3>NOTE 2:</H3>

<P>
    If you try to use a program compiled under Turbo or
    Supercharge after loading the Math Package, if the program
    uses the normal SuperBASIC operator <SPAN style="font-style: italic;">MOD</SPAN> or <SPAN style="font-style: italic;">DIV</SPAN>, an error will be
    generated and the program will refuse to work!
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsD.html#DIV">DIV</A>
    <A style="font-style: italic;" href="KeywordsM.html#MOD">MOD</A> (ROM version)
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MODE" id="MODE"></A>MODE</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MODE mode%<BR></SPAN>
    or <SPAN style="font-style: italic;">MODE screen_mode</SPAN> [<SPAN style="font-style: italic;">,display_type</SPAN>]
    <SPAN style="font-style: italic;">
    (Minerva, Q-Emulator, Amiga-QDOS v3.23+)<BR></SPAN>
    or <SPAN style="font-style: italic;">MODE</SPAN> [<SPAN style="font-style: italic;">screen_mode</SPAN> [<SPAN style="font-style: italic;">,display_type</SPAN>]]<SPAN style="font-style: italic;">(PEX only)<BR></SPAN> Location: <SPAN style="font-style: italic;">QL ROM, PEX<BR></SPAN>
    The original QDOS operating system will only recognise two
    display modes: Low resolution and High resolution.
    
    However, the following <SPAN style="font-style: italic;">MODE</SPAN>s are currently set aside for use
    by QDOS compatible systems:
    
<H3><SPAN style="font-style: italic;">MODE</SPAN>ResolutionColours System</H3>

<P>2640 x 4002SMS-2
    4&lt;=1000 x 4004SMS-2
    4768 x 2804ST/QL, Ext. MODE 4
    4&lt;=1024 x 10244QVME
    4&lt;=800 x 6004QXL, QXL II, QPC
    4512 x 2564QDOS and others
    8256 x 2568QDOS and others
    8256 X 2564ST/QLs
    12256 x 25616THOR XVI
    
    The <SPAN style="font-style: italic;">MODE</SPAN> command is used to select the mode and redraw all
    windows. Without Qjump's Window Manager <SPAN style="font-style: italic;">WMAN</SPAN>, the screen mode is
    set globally, whereas if <SPAN style="font-style: italic;">WMAN</SPAN> (or SMSQ/E) is installed (this is
    highly recommended), <SPAN style="font-style: italic;">MODE</SPAN> will only affect the current job.
    
    The parameter <SPAN style="font-style: italic;">mode%</SPAN> can be any legal integer between <SPAN style="font-style: italic;">-32768 and
    32767</SPAN>. However, to ensure compatibility with other systems one
    of the above four values should be used. Normally if a system
    does not support the mode type selected, <SPAN style="font-style: italic;">MODE 4</SPAN> is selected.
    
    The <SPAN style="font-style: italic;">MODE</SPAN> command also resets the current status of <SPAN style="font-style: italic;">UNDER</SPAN>,
    <SPAN style="font-style: italic;">FLASH</SPAN>, <SPAN style="font-style: italic;">CSIZE</SPAN> and <SPAN style="font-style: italic;">OVER</SPAN>.
    
    Without specialised software, only one screen mode can be
    used at a time (even with the specialised software contained
    in the Quanta library, the screen can only be split in two
    horizontally).
    
    The second variant is supported on Minerva, Q-Emulator (for
    the MacIntosh), PEX and the Amiga QDOS Emulator (v3.23+) and
    allows you to dictate the type of display used. The <SPAN style="font-style: italic;">display_type<BR></SPAN> can be one of four values (the default is -1):
    
<H3><SPAN style="font-style: italic;">display_type</SPAN>effect</H3>

<P>0 Set to monitor mode
    1 Set to TV (625 lines) mode (European)
    2 Set to TV (525 lines) mode (American)
    -1 Leave display type as it is
    
    On the PEX variant, if you do not specify any parameters,
    <SPAN style="font-style: italic;">MODE</SPAN> will default to <SPAN style="font-style: italic;">MODE 4,0<BR></SPAN>
    
<H3></H3>

<P>
    
<H3>NOTE 1:</H3>

<P>
    Normally, High resolution is described as <SPAN style="font-style: italic;">MODE 4</SPAN> because this
    value represents a characteristic of the mode (4 colours) as
    well as setting it. Equally, <SPAN style="font-style: italic;">MODE 8</SPAN> stands for Low resolution.
    However, with the ability of QDOS to access much higher
    resolution screens, these terms now tend to be somewhat
    unecessary.
    
    
<H3>NOTE 2:</H3>

<P>
    Unfortunately for Minerva users who wish to run software in
    dual screen mode, current versions of the Pointer Interface do
    not allow you to have different <SPAN style="font-style: italic;">MODE</SPAN>s on each of the two screens
    (the pointer interface fails to recognise that a program is
    running on the second screen only and does not therefore
    affect the main display screen located at $20000). Speedscreen
    may also give problems in Minerva's dual screen mode unless
    the p version is used.
    
    
<H3>NOTE 3:</H3>

<P>
    If you want to make your programs appear more professional,
    you should always seek to cut out unnecessary <SPAN style="font-style: italic;">MODE</SPAN> commands (see
    <SPAN style="font-style: italic;">RMODE</SPAN>), also because of the fact that <SPAN style="font-style: italic;">MODE</SPAN> tends to re-draw all
    of the current windows (clearing them in their current paper
    and border colours as it works), it is always an idea to
    ensure that all currently opened windows are set to black
    paper and black (or no) border before issuing this command.
    
    
<H3>NOTE 4:</H3>

<P>
    On an American JSU QL (which was adapted for use with the
    American 525-line TV picture, as opposed to the British
    625-line TV picture), only 192 lines of pixels are allowed
    instead of the normal 256 in <SPAN style="font-style: italic;">MODE 4</SPAN> and <SPAN style="font-style: italic;">MODE 8</SPAN> (when the QL is
    linked to a TV). There are less and less users using their QL
    with a TV set nowadays and therefore this can be largely
    ignored. In any event, software should generally still run on
    an American QL without modification (the lower number of
    available lines on the TV screen ensures that pictures still
    appear to retain the same height/width ratio).
    
    
<H3>NOTE 5:</H3>

<P>
    If you are planning to use the dual screen mode, it is
    essential that you ensure that the current screen is also the
    displayed screen before opening windows or using the <SPAN style="font-style: italic;">MODE<BR></SPAN> command - see below.
    
    
<H3>NOTE 6:</H3>

<P>
    The standard screen modes are MODE 4 and MODE 8. MODE 8 is
    however only supported on a limited number of implementations.
    It is supported by the original QL, some early ST-QL Emulators
    and Amiga-QDOS (v3.23+).
    
    
<H3>DUAL SCREEN MODE:</H3>

<P>
    Minerva and some other implementations allow you to have
    two screens which can both be accessed by the user (and can be
    switched between by pressing &lt;CTRL&gt;&lt;TAB&gt;). Each of these two
    screens (if you are in dual screen mode), can support a
    different mode. In order to cater for these new features,
    <SPAN style="font-style: italic;">screen_mode</SPAN> is very complex, and to make it worse, it is important
    to know which screen is the default screen (see <SPAN style="font-style: italic;">DEFAULT_SCR</SPAN>).
    
    Programs which use the normal <SPAN style="font-style: italic;">MODE</SPAN> commands will still work
    under dual screen mode, since the new version of the <SPAN style="font-style: italic;">MODE<BR></SPAN> command will only work if the <SPAN style="font-style: italic;">display_type</SPAN> is specified.
    
    When the QL is first started, unless you choose &lt;F3&gt; or
    &lt;F4&gt; (on Minerva), only one screen will be available for use
    by programs, otherwise Minerva is placed into Dual Screen
    Mode.
    
    In the dual screen mode, after starting up the QL, the
    <SPAN style="font-style: italic;">default screen</SPAN> is <SPAN style="font-style: italic;">scr0</SPAN> (located at $20000 - the normal QL display
    screen). The second screen (<SPAN style="font-style: italic;">scr1</SPAN>) is located at $28000 and is
    known as the <SPAN style="font-style: italic;">Other Screen</SPAN>.
    
    To make matters worse, each job present in the QL's memory
    will be allocated its own <SPAN style="font-style: italic;">default screen</SPAN>, being the current
    default when it was started. A job can therefore alter its own
    current <SPAN style="font-style: italic;">default screen</SPAN> without upsetting the rest of the system.
    
    Before proceeding any further it is important to realise
    that the <SPAN style="font-style: italic;">Displayed Screen</SPAN> (what you can see on your TV/monitor)
    and the <SPAN style="font-style: italic;">Default Screen</SPAN> are not necessarily one and the same
    thing.
    
    Oh, it is also important to know that a screen can also be
    either <SPAN style="font-style: italic;">visible</SPAN> or <SPAN style="font-style: italic;">blank</SPAN> (this is so that work can be prepared on
    a screen without the user being able to see the process).
    Perhaps some definitions might help:
    
    <SPAN style="font-style: italic;">Displayed Screen:</SPAN>this is the screen which is currently in
    
    front of the user on his/her monitor or
    
    TV.
    
    <SPAN style="font-style: italic;">Default Screen:</SPAN>the screen on which a program's windows
    
    will be opened and upon which the normal
    
    <SPAN style="font-style: italic;">MODE 4</SPAN> and <SPAN style="font-style: italic;">MODE 8</SPAN> commands will have an
    
    effect.
    
    <SPAN style="font-style: italic;">Other Screen:</SPAN>the opposite to the <SPAN style="font-style: italic;">Default Screen</SPAN> (ie. if
    
    the <SPAN style="font-style: italic;">Default Screen</SPAN> is <SPAN style="font-style: italic;">scr0</SPAN>, then the <SPAN style="font-style: italic;">Other
    
    Screen</SPAN> will be <SPAN style="font-style: italic;">scr1</SPAN>).
    
    <SPAN style="font-style: italic;">Visible Screen:</SPAN>this means that the specified screen can
    
    actually be seen by the user.
    
    <SPAN style="font-style: italic;">Blank Screen:</SPAN>the specified screen is invisible to the
    
    user (allows background work to be carried
    
    out).
    
    <SPAN style="font-style: italic;">OPEN#3,scr_448x200a32x16<BR></SPAN>
    will open a new window on the current <SPAN style="font-style: italic;">Default Screen</SPAN>. After
    this, any subsequent commands using #3 will be shown on that
    screen (whether or not it is still the current <SPAN style="font-style: italic;">Default Screen</SPAN>).
    Problems may exist with some Toolkit functions which do not
    check to see where the screen starts for the given window, and
    just assume that the screen starts at $20000.
    
    Unfortunately, current versions of Lightning and the
    Pointer Interface introduce various problems to the Dual
    Screen Mode, the most important one of which is that the
    screen will not be re-drawn unless the current screen is also
    the <SPAN style="font-style: italic;">Displayed Screen</SPAN>.
    
    Another plus to the altered <SPAN style="font-style: italic;">MODE</SPAN> command is that there is no
    forced re-draw of all the current windows unless you specify
    that this must be carried out (or if you use the original <SPAN style="font-style: italic;">MODE<BR></SPAN> variants).
    
    In order to try and explain the new <SPAN style="font-style: italic;">display_mode</SPAN> parameters, it
    is easier to split it into two sections: toggling current
    values and setting absolute values.
    
    
<H3>Toggling the screen parameters</H3>

<P>
    This uses the format <SPAN style="font-style: italic;">MODE 64+n,-1</SPAN>, where:
    
<H3><SPAN style="font-style: italic;">n</SPAN>EffectFrom:To:</H3>

<P>1Toggle <SPAN style="font-style: italic;">Other Screen</SPAN>visibleblank
    2Toggle <SPAN style="font-style: italic;">Default Screen</SPAN>visibleblank
    4Toggle <SPAN style="font-style: italic;">Other Screen Mode</SPAN>4-colour8-colour
    8Toggle <SPAN style="font-style: italic;">Default Screen Mode</SPAN>4-colour8-colour
    16Toggle <SPAN style="font-style: italic;">Displayed Screen</SPAN>scr0scr1
    32Toggle <SPAN style="font-style: italic;">Default Screen</SPAN>scr0scr1
    
    Adding together different values of <SPAN style="font-style: italic;">n</SPAN> will combine these
    effects (although if one of the values is to be 32, the
    <SPAN style="font-style: italic;">default screen</SPAN> will be toggled before anything else is carried
    out).
    
    
<H3>Examples:</H3>

<P>
    <SPAN style="font-style: italic;">MODE 64+16,-1: PAUSE: MODE 64+16,-1<BR></SPAN>
    Show both screens.
    <SPAN style="font-style: italic;">
    MODE 64+4+8,-1<BR></SPAN>
    Toggle the mode of both screens
    
    Details of the values used to set absolute screen
    parameters appear on the next page.
    
    
<H3>Setting absolute screen parameters</H3>

<P>
    This uses the format
    
    <SPAN style="font-style: italic;">MODE -128 + m - 256 * t + c, -1<BR></SPAN>
    where:
    
    <SPAN style="font-style: italic;">m = k1*n1 + k2*n2 + k3*n3 +...<BR></SPAN>
    <SPAN style="font-style: italic;">t = n1 + n2 + n3 +...n<BR></SPAN>
    <SPAN style="font-style: italic;">c=</SPAN> (see below)
    <SPAN style="font-style: italic;">n</SPAN> can have the same values as above,
    depending on which effect is to be
    altered.
    <SPAN style="font-style: italic;">k1</SPAN>, <SPAN style="font-style: italic;">k2</SPAN>, <SPAN style="font-style: italic;">k3</SPAN> etc. have the following effect upon the
    corresponding values of <SPAN style="font-style: italic;">n1</SPAN>, <SPAN style="font-style: italic;">n2</SPAN>, <SPAN style="font-style: italic;">n3</SPAN>, etc.:
    
<H3><SPAN style="font-style: italic;">k</SPAN>Sets <SPAN style="font-style: italic;">n</SPAN> to:</H3>

<P>0the 'from..' column above
    1the 'to..' column above
    
<H3><SPAN style="font-style: italic;">c</SPAN>Effect</H3>

<P>0 Do not redraw any screens
    -16384 Re-draw the <SPAN style="font-style: italic;">Other Screen<BR></SPAN> 32768 Re-draw the <SPAN style="font-style: italic;">Default Screen<BR></SPAN> 16384 Re-draw both screens
    
    Again, different effects can now be combined with relevant
    values for each <SPAN style="font-style: italic;">n</SPAN> and <SPAN style="font-style: italic;">k</SPAN>. If you wish to toggle any effects at
    the same time, simply add the corresponding value of <SPAN style="font-style: italic;">n</SPAN> to the
    first parameter.
    
    Some Minerva manuals do not have the correct formula for
    calculating these values, which can lead to some peculiar
    results. Changing the <SPAN style="font-style: italic;">default screen</SPAN> will again take precedence
    to all other changes.
    
    
<H3>Dual Screen Examples:</H3>

<P>
    <SPAN style="font-style: italic;">MODE 4<BR></SPAN>
    change the <SPAN style="font-style: italic;">Default Screen</SPAN> to <SPAN style="font-style: italic;">MODE 4</SPAN> and re-draw all currently
    
    opened windows on the <SPAN style="font-style: italic;">Default Screen</SPAN>.
    
    <SPAN style="font-style: italic;">MODE 64+32,-1<BR></SPAN>
    toggle current <SPAN style="font-style: italic;">Default Screen</SPAN>.
    
    <SPAN style="font-style: italic;">MODE 64+32+16,-1<BR></SPAN>
    toggle current <SPAN style="font-style: italic;">Default Screen</SPAN> and show to user.
    
    <SPAN style="font-style: italic;">MODE-17791,-1<BR></SPAN>
    blank out <SPAN style="font-style: italic;">Other Screen</SPAN> and then force it into 4-colour mode,
    
    redrawing all windows:
    
    <SPAN style="font-style: italic;">t = 1 + 4
    
    m = 1*1 + 0*4
    
    c = -16384
    
    -17791 = -128 + m - 256*t + c<BR></SPAN>
    
<H3></H3>

<P>
    Care must however be taken when opening channels if the two
    screens are in different modes - on versions of Minerva
    earlier than v1.97, if you open a channel on the non-Displayed
    Screen, it will have the characteristics of a window opened in
    the mode of the Displayed Screen (although sadly this does not
    mean that you can have a <SPAN style="font-style: italic;">MODE 4</SPAN> window in the middle of a <SPAN style="font-style: italic;">MODE 8<BR></SPAN> screen). To ensure that the current Default Screen is the
    current Displayed Screen, use:
    <SPAN style="font-style: italic;">
    MODE -128 + DEFAULT_SCR * 16 - 256 * 16, -1<BR></SPAN>
    
<H3>Q-EMULATOR NOTE:</H3>

<P>
    Q-Emulator for the Apple MacIntosh computer supports
    Minerva's dual screen mode and the extended <SPAN style="font-style: italic;">MODE</SPAN> command.
    
    
<H3>AMIGA-QDOS NOTE:</H3>

<P>
    From v3.23, the Amiga-QDOS Emulator also supports Minerva's
    dual screen mode and the extended <SPAN style="font-style: italic;">MODE</SPAN> command.
    
    Before this version, it did not support <SPAN style="font-style: italic;">MODE 8</SPAN>. Even now,
    <SPAN style="font-style: italic;">FLASH</SPAN> is not supported in <SPAN style="font-style: italic;">MODE 8</SPAN>.
    
    
<H3>WARNING 1:</H3>

<P>
    Changing the <SPAN style="font-style: italic;">display_type</SPAN> may have odd effects, especially if
    Qjump's Button Frame (part of QPAC2) is present.
    
    
<H3>WARNING 2:</H3>

<P>
    On pre JS ROMs, if you open a screen (scr_) or console
    (con_) channel after a <SPAN style="font-style: italic;">MODE</SPAN> command, the ink and paper colours
    for the new channel could both be 0 (black).
    
    
<H3>WARNING 3:</H3>

<P>
    On pre Minerva ROMs, <SPAN style="font-style: italic;">MODE</SPAN> alters the value contained in the
    system variable SYS.DTYP (also known as SV.TMOD) which
    normally contains a value from 0...2 showing the type of
    TV/Monitor the QL is set up for. Speedscreen, the Pointer
    Environment and Lightning all fix this.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsR.html#RMODE">RMODE</A> can be used to read the current screen mode (and even
    whether the second screen is available) and <A style="font-style: italic;" href="KeywordsD.html#DEFAULT_SCR">DEFAULT_SCR</A> will tell
    you which is the current default screen.
    <A href="KeywordsS.html#SCREEN(#3)">SCREEN(#3)</A> will tell you the address of the start of the
    screen on which window #3 is situated.
    
    <A style="font-style: italic;" href="KeywordsD.html#DISP_SIZE">DISP_SIZE</A> can be used to set the size of the displayed screen
    on extended resolutions.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MORE" id="MORE"></A>MORE</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MORE</SPAN> [<SPAN style="font-style: italic;">#ch,</SPAN>] <SPAN style="font-style: italic;">filename<BR></SPAN> Location: <SPAN style="font-style: italic;">MORE (DIY Toolkit - Vol V)<BR></SPAN>
    This command adds quite a sophisticated file viewing
    facility to the QL which far surpasses the simple Toolkit II
    <SPAN style="font-style: italic;">VIEW</SPAN> command.
    
    In its simplest form, <SPAN style="font-style: italic;">MORE</SPAN> will open a channel to the
    specified <SPAN style="font-style: italic;">filename</SPAN> (adding the data default directory if the file
    does not exist) and display it in the specified window channel
    (default #1). If <SPAN style="font-style: italic;">#ch</SPAN> does not refer to a window or is #0, then
    bad parameter will be reported.
    
    The file will then be displayed in the specified channel,
    one window full at a time. #0 is used by the command to
    display the length of the file in bytes and the number of the
    last byte displayed in the window. You can move around the
    file by using the following keys:
    
    &lt;ENTER&gt;Allows you to enter a file position to look at
    (this will be the first byte displayed in the
    window).
    
    &lt;ALT&gt;&lt;UP&gt;This moves back up the file one page at a time.
    
    &lt;ALT&gt;&lt;DOWN&gt;This moves down the file one page at a time.
    
    &lt;DOWN&gt;Move down the file one line
    
    &lt;ESC&gt;Leave <SPAN style="font-style: italic;">MORE</SPAN>.
    
    <SPAN style="font-style: italic;">MORE</SPAN> can however, also be used to look at the QL's memory
    (or that on a networked computer) by using the <SPAN style="font-style: italic;">MEM</SPAN> device. In
    this mode, only the address of the last byte on screen is
    shown in #0 - there is no file length. For example:
    
    <SPAN style="font-style: italic;">MORE #2,MEM<BR></SPAN>
    will allow you to use <SPAN style="font-style: italic;">MORE</SPAN> to page through the whole of the
    QL's memory.
    <SPAN style="font-style: italic;">
    MORE #2,n2_MEM<BR></SPAN>
    allows you to page through the whole of another computer's
    memory.
    
    <SPAN style="font-style: italic;">OPEN #3,MEM7_60p:PRINT #3,'Hello World':CLOSE #3<BR></SPAN>
    creates a permanent buffer (MEM7) and stores two words in
    it.
    
    <SPAN style="font-style: italic;">MORE #2,MEM7<BR></SPAN>
    allows you to look at the contents of the buffer MEM7.
    
    
<H3>NOTE:</H3>

<P>
    Trying to use <SPAN style="font-style: italic;">MORE</SPAN> on anything other than files or <SPAN style="font-style: italic;">MEM<BR></SPAN> devices (for example on named pipes) will cause problems -
    press &lt;CTRL&gt;&lt;SPACE&gt; a few times to escape from this.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    Refer to the Devices Appendix for more details on <A style="font-style: italic;" href="KeywordsM.html#MEM">MEM</A>.
    
    Compare <A style="font-style: italic;" href="KeywordsC.html#COPY%20flp1_test_bas%20to%20SCR">COPY flp1_test_bas to SCR</A> and <A style="font-style: italic;" href="KeywordsV.html#VIEW">VIEW</A>.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MOVE" id="MOVE"></A>MOVE</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MOVE</SPAN> [<SPAN style="font-style: italic;">#ch,</SPAN>] <SPAN style="font-style: italic;">distance<BR></SPAN> Location: <SPAN style="font-style: italic;">QL ROM<BR></SPAN>
    The QL supports a simplified means of drawing pictures
    known as turtle graphics. This was based upon an early
    educational tool, whereby simple commands could be entered
    into a computer to drive a small robot turtle which moved
    around the floor and held a pen. This pen could either be up
    in which case the turtle would just move around, or down in
    which case a line would be left by the turtle on the floor as
    it moved.
    
    When a window is first opened, an invisible turtle appears
    at the graphics origin (altered with <SPAN style="font-style: italic;">SCALE</SPAN>) facing to the right,
    with its pen in the up position.
    
    The command <SPAN style="font-style: italic;">MOVE</SPAN> forces the turtle in the specified window
    (default #1) to move in the current direction by the specified
    <SPAN style="font-style: italic;">distance</SPAN>. The actual distance moved on screen depends on the
    current <SPAN style="font-style: italic;">SCALE</SPAN> applicable to that window. If <SPAN style="font-style: italic;">distance</SPAN> is negative,
    the turtle will move backwards.
    
    <SPAN style="font-style: italic;">MOVE</SPAN> always works from the current graphics cursor position,
    and after using this command, the current graphics cursor is
    placed at the turtle's position on screen.
    
    <SPAN style="font-style: italic;">MOVE</SPAN> is affected by the current <SPAN style="font-style: italic;">INK</SPAN> colour, <SPAN style="font-style: italic;">FILL</SPAN> and also <SPAN style="font-style: italic;">OVER</SPAN>,
    just like any other graphics command.
    
    
<H3>Example:</H3>

<P>
    A simple procedure to draw a shape of a set number of equal
    
    length sides:
    <SPAN style="font-style: italic;">100 DEFine PROCedure POLYGON (chan,sides,side_length)
    110 TURNTO #chan,0: PENDOWN #chan
    120 FOR k=1 TO sides
    130 MOVE #chan,side_length
    140 TURN #chan,360/sides
    150 END FOR k
    155 PENUP #chan
    160 END DEFine<BR></SPAN>
    Try for example, <SPAN style="font-style: italic;">POLYGON #2,5,10</SPAN>.
    
    
<H3>NOTE:</H3>

<P>
    The THOR XVI v6.40 tended to crash when using turtle
    graphics, especially if a channel number was specified.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsP.html#PENDOWN">PENDOWN</A> forces the pen into the down position, leaving a
    trail on screen.
    <A href="KeywordsP.html#PENUP">PENUP</A> allows the turtle to move without leaving a trail.
    <A href="KeywordsT.html#TURN">TURN</A> and <A style="font-style: italic;" href="KeywordsT.html#TURNTO">TURNTO</A> allow you to alter the direction of the
    turtle.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MRUN" id="MRUN"></A>MRUN</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MRUN device_filename<BR></SPAN>
    or <SPAN style="font-style: italic;">MRUN</SPAN> [<SPAN style="font-style: italic;">device_</SPAN>]<SPAN style="font-style: italic;">filename</SPAN> <SPAN style="font-style: italic;">(Toolkit II)<BR></SPAN> Location: <SPAN style="font-style: italic;">QL ROM, Toolkit II<BR></SPAN>
    This command is similar to <SPAN style="font-style: italic;">MERGE</SPAN> except that once the two
    programs have been merged, if <SPAN style="font-style: italic;">MRUN</SPAN> was issued as a direct
    command, then the merged program is <SPAN style="font-style: italic;">RUN</SPAN> from line 1. However,
    if <SPAN style="font-style: italic;">MRUN</SPAN> was used from within the program, the statement
    following the <SPAN style="font-style: italic;">MRUN</SPAN> statement is executed, thus making this
    command the same as <SPAN style="font-style: italic;">MERGE</SPAN> when used within a program.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    See <A style="font-style: italic;" href="KeywordsM.html#MERGE">MERGE</A>!
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MSEARCH" id="MSEARCH"></A>MSEARCH</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MSEARCH (add1 TO add2, tofind$)<BR></SPAN> Location: <SPAN style="font-style: italic;">MSEARCH (DIY Toolkit - Vol X)<BR></SPAN>
    This function is very similar to the Tiny Toolkit version
    of the <SPAN style="font-style: italic;">SEARCH</SPAN> function except that it performs an extremely fast
    case-independent search through memory (much more quickly than
    other implementations).
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    See <A style="font-style: italic;" href="KeywordsS.html#SEARCH">SEARCH</A> and <A style="font-style: italic;" href="KeywordsT.html#TTFINDM">TTFINDM</A> also.
    
    <A style="font-style: italic;" href="KeywordsS.html#SEARCH_MEM">SEARCH_MEM</A> is a variant on this version.
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MT" id="MT"></A>MT</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MT (i,n)<BR></SPAN> Location: <SPAN style="font-style: italic;">Toolfin<BR></SPAN>
    The function <SPAN style="font-style: italic;">MT</SPAN> returns the value of <SPAN style="font-style: italic;">(1+i)<SUP>n</SUP></SPAN> where <SPAN style="font-style: italic;">i</SPAN> and <SPAN style="font-style: italic;">n</SPAN> can
    be any floating point numbers. Instead of reporting an
    overflow error for values which cannot be computed (eg. <SPAN style="font-style: italic;">i=-1</SPAN>,
    <SPAN style="font-style: italic;">n=-1</SPAN>) <SPAN style="font-style: italic;">MT</SPAN> returns 1. If the returned value would be too large, a
    modulated value is returned. It is therefore imperative that
    the programmer takes care that the parameters are correct,
    otherwise the return values may not make much sense.
    
    
<H3>Example 1:</H3>

<P>
    <SPAN style="font-style: italic;">MT</SPAN> gives you a factor which indicates the increase (<SPAN style="font-style: italic;">i&gt;1</SPAN>) or
    
    decrease (<SPAN style="font-style: italic;">i&lt;1</SPAN>) of capital at an interest rate <SPAN style="font-style: italic;">i</SPAN> over a
    
    number of periods <SPAN style="font-style: italic;">n</SPAN>. The gain is known as compound
    
    interest. If you give any sum to a bank at an interest rate
    
    of five percent (ie. annual 5 per 100 increase) for (say)
    
    ten years, you will gain 62.9% because:
    
    <SPAN style="font-style: italic;">MT(0.05, 10) = 1.628895<BR></SPAN>
    
<H3>Example 2:</H3>

<P>
    <SPAN style="font-style: italic;">MT(1/n,n)</SPAN> approximates <SPAN style="font-style: italic;">EXP(1)</SPAN> for large values of <SPAN style="font-style: italic;">n</SPAN>.
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    <A style="font-style: italic;" href="KeywordsV.html#VA">VA</A>, <A style="font-style: italic;" href="KeywordsV.html#VFR">VFR</A>, <A style="font-style: italic;" href="KeywordsV.html#VAR">VAR</A>, <A style="font-style: italic;" href="KeywordsT.html#TCA">TCA</A>, <A style="font-style: italic;" href="KeywordsT.html#TNC">TNC</A>, <A style="font-style: italic;" href="KeywordsT.html#TEE">TEE</A>, <A style="font-style: italic;" href="KeywordsR.html#RAE">RAE</A>, <A style="font-style: italic;" href="KeywordsR.html#RAFE">RAFE</A>
    
<H3></H3>

<P>
    <HR style="width: 100%; height: 2px;">
    
<H1><A name="MTRAP" id="MTRAP"></A>MTRAP</H1>

<P>
    Syntax: <SPAN style="font-style: italic;">MTRAP key</SPAN> [<SPAN style="font-style: italic;">,d1</SPAN> [<SPAN style="font-style: italic;">,d2</SPAN> [<SPAN style="font-style: italic;">,d3</SPAN> [<SPAN style="font-style: italic;">,a0</SPAN> [<SPAN style="font-style: italic;">,a1</SPAN> ]]]]]
    
    or <SPAN style="font-style: italic;">MTRAP key\jobnr</SPAN> [<SPAN style="font-style: italic;">,d2</SPAN> [<SPAN style="font-style: italic;">,d3</SPAN> [<SPAN style="font-style: italic;">,a0</SPAN> [<SPAN style="font-style: italic;">,a1</SPAN> ]]]]] Location: <SPAN style="font-style: italic;">TRAPS (DIY Toolkit Vol T)<BR></SPAN>
    This command is similar to <SPAN style="font-style: italic;">QTRAP</SPAN> in that it allows you to
    access the machine code TRAP #1 system calls directly.
    
    Unless you are using the second variant, you will need to
    pass at least one parameter, the operation <SPAN style="font-style: italic;">key</SPAN> to be carried
    out (this is equivalent to the value in D0 when TRAP #1 is
    performed). The other parameters allow you to pass the
    various register values which may be required by the system
    calls.
    
    The second variant is useful for when you are using a
    TRAP #1 call which requires a job ID - you can merely pass the
    <SPAN style="font-style: italic;">jobnr</SPAN> of the required job, obtained from the <SPAN style="font-style: italic;">JOBS</SPAN> list (rather
    than having to set D1 to the Job ID).
    
    For example to force remove Job 12, use the command:
    
    <SPAN style="font-style: italic;">MTRAP 5\12,0,0<BR></SPAN>
    
<H3>WARNING:</H3>

<P>
    Several TRAP #1 calls can crash the computer - make certain
    that you know what you are doing!
    
    
<H3>CROSS-REFERENCE:</H3>

<P>
    See <A style="font-style: italic;" href="KeywordsI.html#IO_TRAP">IO_TRAP</A>, <A style="font-style: italic;" href="KeywordsQ.html#QTRAP">QTRAP</A> and <A style="font-style: italic;" href="KeywordsB.html#BTRAP">BTRAP</A>.
    
    <A style="font-style: italic;" href="KeywordsR.html#REMOVE_TASK">REMOVE_TASK</A> and <A style="font-style: italic;" href="KeywordsR.html#RJOB">RJOB</A> are better for removing Jobs.
    
    Any return parameters can be read with <A style="font-style: italic;" href="KeywordsD.html#DATAREG">DATAREG</A> and <A style="font-style: italic;" href="KeywordsA.html#ADDREG">ADDREG</A>.
    
    Refer to the QDOS/SMS Reference Manual (Section 15) for
    details of the various system TRAP #3 calls.
</BODY>
</HTML>
