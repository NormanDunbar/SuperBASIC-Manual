<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>  <!-- Tidied by Norman Dunbar -->
<HEAD>
  <META name="generator" content="HTML Tidy for HTML5 for Linux version 5.3.7">
  <META http-equiv="content-type" content="text/html; charset=utf-8">
  <LINK rel="stylesheet" type="text/css" href="Introduction_files/QLManualStyle.css" media="all">
  <TITLE>Sinclair QL SuperBASIC/SBASIC Reference Manual - Introduction</TITLE>
</HEAD>
<BODY>
  <DIV id="header">
    SBASIC/SuperBASIC Reference Manual Online (c) RWAP Software
    The Online Guide to programming the Sinclair QL Home Computer in SuperBASIC
  </DIV>
  <DIV id="sideBar">
    <UL>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Foreword.html">Foreword</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Introduction.html">Introduction</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Credits.html">Credits</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Structure.html">Structure</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/WritingPrograms.html">Writing Programs</A></LI>
      <HR>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsA.html">Keywords - A</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsB.html">Keywords - B</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsC.html">Keywords - C</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsD.html">Keywords - D</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsE.html">Keywords - E</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsF.html">Keywords - F</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsG.html">Keywords - G</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsH.html">Keywords - H</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsI.html">Keywords - I</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsJ.html">Keywords - J</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsK.html">Keywords - K</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsL.html">Keywords - L</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsM.html">Keywords - M</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsN.html">Keywords - N</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsO.html">Keywords - O</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsP.html">Keywords - P</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsQ.html">Keywords - Q</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsR.html">Keywords - R</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsS.html">Keywords - S</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsT.html">Keywords - T</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsU.html">Keywords - U</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsV.html">Keywords - V</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsW.html">Keywords - W</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsX.html">Keywords - X</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsY.html">Keywords - Y</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/KeywordsZ.html">Keywords - Z</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Keywords_.html">Keywords - Other</A></LI>
      <HR>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/AppendicesIntro.html">Appendices Introduction</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix01.html">Appendix 1 - Minerva</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix02.html">Appendix 2 - SMSQE</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix03.html">Appendix 3 - Emulators</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix04.html">Appendix 4 - THOR Computers</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix05.html">Appendix 5 - Expansion Boards</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix06.html">Appendix 6 - Compatability</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix07.html">Appendix 7 - Multiple BASICs</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix08.html">Appendix 8 - Error Messages</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix09.html">Appendix 9 - Character Set / Keyboard</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix10.html">Appendix 10 - Fonts</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix11.html">Appendix 11 - Mathematics</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix12.html">Appendix 12 - Device Drivers</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix13.html">Appendix 13 - Extended Pointer Environment</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix14.html">Appendix 14 - Coercion</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix15.html">Appendix 15 - Mouse Drivers</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix16.html">Appendix 16 - The QL Display</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix17.html">Appendix 17 - Networks</A></LI>
      <LI><A href="http://www.rwapsoftware.co.uk/SBASIC_reference_manual_online/Appendix18.html">Appendix 18 - Configuring Programs</A></LI>
    </UL>
  </DIV>
  <DIV id="mainText">
    
    
<H3>1 INTRODUCTION</H3>

<P>
    
<P>The <SPAN style="font-style: italic;">Sinclair QL</SPAN> was officially released during 1984, and since that date, has gone through several changes to both the hardware and the operating system. Unfortunately, when the rights to the QL were sold to <SPAN style="font-style: italic;">Amstrad</SPAN> it looked as if the end of the QL was near in view of the fact that <SPAN style="font-style: italic;">Alan Sugar</SPAN>, Managing Director of Amstrad decided that the QL should be withdrawn from the market.</P>
    
<P>Since that fateful day, several types of QL replacement have emerged, including new Hardware platforms such as the <SPAN style="font-style: italic;">THOR</SPAN> range of computers, the <SPAN style="font-style: italic;">AURORA</SPAN> replacement motherboard, the <SPAN style="font-style: italic;">ST/QL</SPAN> hardware emulators (including <SPAN style="font-style: italic;">QVME</SPAN> and the <SPAN style="font-style: italic;">Mode 4 Emulator</SPAN>), the Q40 and the <SPAN style="font-style: italic;">QXL</SPAN>, a hardware emulator that can be plugged into a <SPAN style="font-style: italic;">PC</SPAN>. Several software emulators have also been developed, allowing QL software to run on <SPAN style="font-style: italic;">PCs</SPAN>, <SPAN style="font-style: italic;">Amigas</SPAN>, <SPAN style="font-style: italic;">Apple</SPAN> <SPAN style="font-style: italic;">MacIntosh</SPAN> and <SPAN style="font-style: italic;">Unix</SPAN> based computers.</P>
    
<P>Some of these emulators are much faster than the original QL computer, which itself can be speeded up by the use of new operating systems (<SPAN style="font-style: italic;">SMSQ/E</SPAN> and <SPAN style="font-style: italic;">Minerva</SPAN>) and new, faster expansion boards (<SPAN style="font-style: italic;">Gold Card</SPAN> and <SPAN style="font-style: italic;">Super Gold Card</SPAN>).</P>
    
<P>The QL has also been further expanded by the ability of the emulators and the new <SPAN style="font-style: italic;">AURORA</SPAN> and Q40 motherboards to handle much higher resolutions (and more colours in the case of AURORA and Q40).</P>
    
<P>The QL is different from several other more popular computers in that it has a built-in programming language (<SPAN style="font-style: italic;">SuperBASIC</SPAN>) which has survived (mainly unchanged) since the QL was first released. Various assertions were made concerning the abilities of SuperBASIC when the QL was first launched many of which did not exist at the time. Most of those promises have now been fulfilled by third party toolkits. There are now even two multitasking versions of SuperBASIC, called <SPAN style="font-style: italic;">MultiBASIC</SPAN> which is built into Minerva and <SPAN style="font-style: italic;">SBASIC</SPAN> which forms part of the SMSQ/E operating system.</P>
    
<P>We, the authors of this book, think that SuperBASIC is a superb programming language for several reasons:</P>
    <UL>
      <LI>SuperBASIC is part of the QL, whose multitasking operating system QDOS (and now also SMSQ/E) is extremely powerful even when compared with more popular (and expensive) ones.</LI>
      <LI>SuperBASIC was originally implemented as an interpreter. This makes program development very fast. Several compilers are available which allow you to produce programs which can run easily and quickly on all versions the QL.</LI>
      <LI>The version of SuperBASIC provided with the SMSQ/E operating system is extremely quick; in many cases, faster than when compiled with Qliberator.</LI>
      <LI>SuperBASIC is designed to be extendable from SuperBASIC itself through user-defined PROCedures and FuNctions as well as from machine code via resident toolkits.</LI>
    </UL>
    
<P>The latter point was indeed the motivation to write this book. There are a lot of really useful toolkits available in the public domain which can be used by a programmer in his or her programs and freely distributed as part of it.</P>
    
<P>Not only is there a vast range of toolkits available to the SuperBASIC programmer, but the QL's Operating System has also undergone various changes, and with new QL compatible computers and emulators being released, as well as the Minerva replacement ROM and SMSQ/E replacement operating system, it is important that any programmer should know where problems may occur in the use of each SuperBASIC command.</P>
    
<P>We have therefore attempted to cover each command in sufficient detail, with useful examples, and a commentary on bugs and incompatibilities. No doubt as each new implementation of SuperBASIC comes to light, so will further problems and we will try to keep abreast of these. We would refer you in general to the Appendix on compatibility, which contains various guidelines for ensuring that programs should remain compatible with future operating systems. More specific detail is contained in the description for each command where problems are known to exist.</P>
    
<P>We have covered the commands contained in the following sources:</P>
    <UL>
      <LI>The standard QL ROM
      �&nbsp;Sinclair Research Limited / Amstrad plc.</LI>
      <LI>The THOR ARGOS Operating System
      �&nbsp;CST and DANSOFT</LI>
      <LI>The Minerva ROM
      � Minerva and TF Services</LI>
      <LI>Super Gold Card, Gold Card, QXL and Trump Card
      � Miracle Systems Ltd.</LI>
      <LI>SMSQ/E, SMSQ Operating Systems
      �&nbsp;Tony Tebby</LI>
      <LI>Toolkit II and Hotkey System II
      �&nbsp;Tony Tebby</LI>
      <LI>SERMouse
      �&nbsp;Albin Hessler Software</LI>
      <LI>DIY Toolkit (sold as Cardware)
      �&nbsp;Simon Goodwin</LI>
      <LI>AtariDOS and ATARI_REXT
      � Jochen Merz Software</LI>
      <LI>Turbo Toolkit (freeware)
      �&nbsp;The Turbo Team, David Gilham &amp; Mark Knight</LI>
      <LI>As many Public Domain Toolkits as we can find and understand.</LI>
    </UL>
    
<P>We have covered the Toolkit II and Hotkey System II because it is a standard addition to a QL operating system and included on several add-on expansion boards.</P>
    
<P>As you look at the range of toolkits already available, you will notice that several commands appear in more than one toolkit. Unfortunately, a command with the same name in two toolkits, may in fact have a different syntax or even a different function! It is therefore our hope that with the aid of this book, any future toolkits will remain compatible with earlier ones, and existing toolkits will be amended to resolve these incompatibilities.</P>
    
<P>If you do come across further incompatibilities, operating system commands or public domain toolkits which are not noted in the manual, then please do contact us as soon as possible so that we may investigate the situation and incorporate them in the book. We may even find ways of correcting the errors!</P>
    
<P>In the meantime enjoy SuperBASIC !</P>
    
<P>CONTRIBUTING AUTHORS (alphabetically)</P>
    
<P>Franz Herrmann
    Peter Jager
    Rich Mellor</P>
    
<H3>1.1 INSTALLING TOOLKITS</H3>

<P>
    
<P>Most toolkits can be loaded and linked into the QL's operating system as an addition to the existing SuperBASIC (or SBASIC) keywords simply by using a command similar to one of the following three examples:</P>
    
<P>(1) <SPAN style="font-style: italic;">LRESPR flp1_Toolkit_bin</SPAN></P>
    
<P>(2) <SPAN style="font-style: italic;">A=RESPR (x) : LBYTES flp1_Toolkit_bin,A: CALL A</SPAN></P>
    
<P>(3) <SPAN style="font-style: italic;">B=ALCHP (x) : LBYTES flp1_Toolkit_bin,B: CALL B</SPAN></P>
    
<P>(where <SPAN style="font-style: italic;">x</SPAN> is the length of the toolkit code).</P>
    
<P>Some toolkits include additional device drivers and must be loaded into the resident procedure area of memory and therefore the third example above must not be used, and the toolkit must be linked in before any jobs are <SPAN style="font-style: italic;">EXEC</SPAN>uted (or else the toolkit can crash your system). We have tried to include a reference in this book where this is the case.</P>
    
<P>The normal sequence of events for loading toolkits and other extensions to the operating system is set out on the next page:</P>
    <OL>
      <LI>Link in any speed enhancements (such as Lightning or Speedscreen) &lt;--- not needed on SMSQ/E</LI>
      <LI>Load any additional device drivers (such as Mem or History) &lt;--- check which ones are already included in SMSQ/E</LI>
      <LI>Link in all required toolkits (those which contain device drivers should be linked in first).</LI>
      <LI>Load the Pointer Environment (if required) &lt;--- not needed on SMSQ/E</LI>
      <LI>Load a secondary program to carry on setting up the system - this is because on pre-JS ROMs, any keywords added by toolkits are not available for use in the same program which linked them in.</LI>
      <LI>Start up any required Jobs (such as <SPAN style="font-style: italic;">ALTKEY</SPAN>, <SPAN style="font-style: italic;">FSERVE</SPAN> or the Buttons provided by the Pointer Environment).</LI>
      <LI>Use <SPAN style="font-style: italic;">HOT_GO</SPAN> if you use the Hotkey System II.</LI>
    </OL>
    
<P>However, some toolkits insist that you enter a command before you can actually use any of the other keywords provided by that toolkit. The following toolkits need this:</P>
    
<P>Toolkit II- You will need to enter the command <SPAN style="font-style: italic;">TK2_EXT</SPAN>, unless Toolkit II is built into your operating system (such as SMSQ/E) or you have used the commands <SPAN style="font-style: italic;">AUTO_TK2F1</SPAN> or <SPAN style="font-style: italic;">AUTO_TK2F2<BR></SPAN></P>
    
<P>BeuleTools- You need to enter the command <SPAN style="font-style: italic;">Beule_EXT</SPAN></P>
    
<P>BTools- You need to enter the command <SPAN style="font-style: italic;">BTOOL_EXT</SPAN></P>
    
<P>Tiny Toolkit- You need to enter the command <SPAN style="font-style: italic;">TINY_EXT</SPAN></P>
    
<P>ATARI_REXT- You need to enter the command <SPAN style="font-style: italic;">ATARI_EXT</SPAN></P>
    
<P>Hotkey System- You need to enter the command <SPAN style="font-style: italic;">HOT_GO</SPAN>for any of the <SPAN style="font-style: italic;">ALTKEY</SPAN> (or other <SPAN style="font-style: italic;">HOT_</SPAN>xxx) keywords to work.</P>
    
<P>(See the individual commands listed above for further details).</P>
  </DIV>
</BODY>
</HTML>
