<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html xmlns:v="urn:schemas-microsoft-com:vml">
  <head>
    <meta http-equiv="content-type" content="text/html;
      charset=ISO-8859-1">
    <link rel="stylesheet" type="text/css" href="css/QLManualStyle.css" media="all" />
    <title>Sinclair QL SuperBASIC/SBASIC Reference Manual - Keywords M</title>
</head>
<body>
<div id="header">
  SBASIC/SuperBASIC Reference Manual Online (c) RWAP Software
  <br />
  The Online Guide to programming the Sinclair QL Home Computer in SuperBASIC
</div>
<div id="sideBar">
    <ul>
        <li><a href="Foreword.html">Foreword</a></li>
        <li><a href="Introduction.html">Introduction</a></li>
        <li><a href="Credits.html">Credits</a></li>        
        <li><a href="Structure.html">Structure</a></li>
        <li><a href="WritingPrograms.html">Writing Programs</a></li>
        <hr></hr>
        <li><a href="KeywordsA.html">Keywords - A</a></li>
        <li><a href="KeywordsB.html">Keywords - B</a></li>
        <li><a href="KeywordsC.html">Keywords - C</a></li>
        <li><a href="KeywordsD.html">Keywords - D</a></li>
        <li><a href="KeywordsE.html">Keywords - E</a></li>
        <li><a href="KeywordsF.html">Keywords - F</a></li>
        <li><a href="KeywordsG.html">Keywords - G</a></li>
        <li><a href="KeywordsH.html">Keywords - H</a></li>
        <li><a href="KeywordsI.html">Keywords - I</a></li>
        <li><a href="KeywordsJ.html">Keywords - J</a></li>
        <li><a href="KeywordsK.html">Keywords - K</a></li>
        <li><a href="KeywordsL.html">Keywords - L</a></li>
        <li><a href="KeywordsM.html">Keywords - M</a></li>
        <li><a href="KeywordsN.html">Keywords - N</a></li>
        <li><a href="KeywordsO.html">Keywords - O</a></li>
        <li><a href="KeywordsP.html">Keywords - P</a></li>
        <li><a href="KeywordsQ.html">Keywords - Q</a></li>
        <li><a href="KeywordsR.html">Keywords - R</a></li>
        <li><a href="KeywordsS.html">Keywords - S</a></li>
        <li><a href="KeywordsT.html">Keywords - T</a></li>
        <li><a href="KeywordsU.html">Keywords - U</a></li>
        <li><a href="KeywordsV.html">Keywords - V</a></li>
        <li><a href="KeywordsW.html">Keywords - W</a></li>
        <li><a href="KeywordsX.html">Keywords - X</a></li>
        <li><a href="KeywordsY.html">Keywords - Y</a></li>
        <li><a href="KeywordsZ.html">Keywords - Z</a></li>
        <li><a href="Keywords_.html">Keywords - Other</a></li>
        <hr></hr>
        <li><a href="AppendicesIntro.html">Appendices Introduction</a></li>
        <li><a href="Appendix01.html">Appendix 1 - Minerva</a></li>
        <li><a href="Appendix02.html">Appendix 2 - SMSQE</a></li>
        <li><a href="Appendix03.html">Appendix 3 - Emulators</a></li>
        <li><a href="Appendix04.html">Appendix 4 - THOR Computers</a></li>
        <li><a href="Appendix05.html">Appendix 5 - Expansion Boards</a></li>
        <li><a href="Appendix06.html">Appendix 6 - Compatability</a></li>
        <li><a href="Appendix07.html">Appendix 7 - Multiple BASICs</a></li>
        <li><a href="Appendix08.html">Appendix 8 - Error Messages</a></li>
        <li><a href="Appendix09.html">Appendix 9 - Character Set / Keyboard</a></li>
        <li><a href="Appendix10.html">Appendix 10 - Fonts</a></li>
        <li><a href="Appendix11.html">Appendix 11 - Mathematics</a></li>
        <li><a href="Appendix12.html">Appendix 12 - Device Drivers</a></li>
        <li><a href="Appendix13.html">Appendix 13 - Extended Pointer Environment</a></li>
        <li><a href="Appendix14.html">Appendix 14 - Coercion</a></li>
        <li><a href="Appendix15.html">Appendix 15 - Mouse Drivers</a></li>
        <li><a href="Appendix16.html">Appendix 16 - The QL Display</a></li>
        <li><a href="Appendix17.html">Appendix 17 - Networks</a></li>
        <li><a href="Appendix18.html">Appendix 18 - Configuring Programs</a></li>
    </ul>
</div>
<div id="mainText">
<h1><a name="MACHINE"></a>MACHINE</h1><br>Syntax: <span style="font-style: italic;">MACHINE
<br></span>Location: <span style="font-style: italic;">SMSQ/E
<br></span><br>This function returns a value corresponding to the type of
<br>system on which SuperBASIC is running.
<br><br>The values currently returned are:
<br><br><h3><span style="font-style: italic;">MACHINE</span>Machine Type
<br></h3><br>0 ATARI ST / STM / STF / STFM
<br><br>1ORDINARY STE (1040) - NOT SUPPORTED!!!
<br><br>2 MEGA ST or ST / STM / STF / STFM with REAL-TIME
<br>CLOCK
<br><br>4 ATARI STACY
<br><br>6 ATARI STE
<br><br>8 MEGA STE
<br><br>10 GOLD CARD
<br><br>12 SUPER GOLD CARD
<br><br>16 FALCON
<br><br>24 ATARI TT 030
<br><br>28 QXL
<br><br>30 QPC
<br><br>On Standard QLs, <span style="font-style: italic;">MACHINE</span> returns the above value plus 1 if
<br>HERMES is fitted.
<br><br>On ATARI Computers, <span style="font-style: italic;">MACHINE</span> returns the above value plus 1 is
<br>a BLITTER CHIP is fitted.
<br><br>Users without SMSQ/E can use the command:
<br><br><span style="font-style: italic;">PRINT PEEK (SYS_VARS+HEX('a7')) && BIN ('0011111')
<br></span><br>This should return the same values (except that 0 will also
<br>be returned on a standard QL without any expansion board or a
<br>THOR computer).  You can test for a THOR by using:
<br><br><span style="font-style: italic;">PRINT PEEK (SYS_VARS+HEX('84'))
<br></span><br>which will be 0 on any other implementation.  We do not
<br>know what it returns on the THOR range of computers.
<br><br><h3>Example:
<br></h3><br>A program to test for the actual machine on which the
<br>program is running, as well as other interesting data:
<br><span style="font-style: italic;">100 v$=VER$:q$=QDOS$
<br>110 processor$='00':FPU=0:em_type=0
<br>120 IF v$&lt;&gt;'HBA'
<br>130   m_type=PEEK(SYS_BASE+HEX('A7'))
<br>140   em_type=m_type && BIN('11100000')
<br>150   m_type=m_type && BIN('00011111')
<br>160   SELect ON em_type
<br>170     =1:em_type=3
<br>180     =2:em_type=1
<br>190     =4:em_type=2
<br>200   END SELect
<br>210   IF v$='JSL1'
<br>220     PRINT 'MINERVA FITTED'
<br></span><br><h3>
<br></h3><span style="font-style: italic;">230     m_type=100 : processor$='08'
<br>240   ELSE
<br>250     IF m_type=0
<br>260       IF PEEK (SYS_BASE+HEX('84'))&lt;&gt;0
<br>270         IF q$(1)='4':PRINT 'THOR 1 Computer';
<br>280         IF q$(1)='5':PRINT 'THOR 20 Computer';
<br>290         IF q$(1)='6':PRINT 'THOR XVI Computer';
<br>300         IF q$(1) INSTR '456'=0:PRINT 'UNKNOWN THOR Computer'
<br>310         PRINT ' v';q$:STOP
<br>320       END IF
<br>330     END IF
<br>340   END IF
<br>350 ELSE
<br>360   m_type=MACHINE:processor$=PROCESSOR
<br>370   FPU=processor$(2):processor$=processor$(1)&'0'
<br>380   em_type=DISP_TYPE
<br>390 END IF
<br>400 extra_chip=m_type MOD 2
<br>410 m_type=(m_type DIV 2)*2
<br>420 SELect ON m_type
<br>430   =0: IF v$='HBA'
<br>440     PRINT 'ATARI ST / STM / STF / STFM';
<br>450     ELSE :PRINT 'STANDARD QL - ROM VERSION ';v$ : processor$='08'
<br>460     END IF
<br>470   =2: PRINT 'MEGA ST or ST / STM / STF / STFM with REAL-TIME CLOCK';
<br>480   =4: PRINT 'ATARI STACY';
<br>490   =6: PRINT 'ATARI STE';
<br>500   =8: PRINT 'MEGA STE';
<br>510   =10: PRINT 'GOLD CARD';
<br>520   =12: PRINT 'SUPER GOLD CARD';
<br>530   =16: PRINT 'FALCON';
<br>540   =24: PRINT 'ATARI TT 030';
<br>550   =28: PRINT 'QXL'
<br>560   =30: PRINT 'QPC'
<br>570 END SELect
<br>580 SELect ON extra_chip
<br>590 =0: PRINT
<br>600 =1:
<br>610   SELect ON m_type
<br>620   =0,2,4,6,8,16,24:PRINT ' with BLITTER'
<br>630     SELect ON em_type
<br>640       =0: PRINT 'Original QL Emulator FITTED'
<br>650       =1: PRINT 'Extended Mode 4 Emulator FITTED'
<br>660       =2: PRINT 'QVME Emulator FITTED'
<br>670       =3: PRINT 'Monochrome Display Only'
<br>680     END SELect
<br>690   =REMAINDER :PRINT ' with HERMES'
<br>700   END SELect
<br>710 END SELect
<br>720 PRINT 'ROM VERSION - ';v$
<br>730 PRINT 'OS VERSION - ';q$
<br>735 IF m_type&lt;&gt;30
<br>740   PRINT 'PROCESSOR - 680';processor$;
<br>745 ELSE
<br>750   PRINT 'INTEL PROCESSOR';
<br>755 END IF
<br>760 SELect ON FPU
<br>765   =0 : PRINT
<br></span><br><h3>
<br></h3><span style="font-style: italic;">770   =1 : PRINT 'with Internal MMU'
<br>780   =2 : PRINT 'with 68851 MMU'
<br>790   =4 : PRINT 'with Internal FPU'
<br>800   =8 : PRINT 'with 68881 or 68882 FPU'
<br>810 END SELect
<br></span><br><h3>NOTE 1:
<br><br></h3>The machine type was only stored with on the ST/QL on Level
<br>E-20 drivers onwards. E-Init v1.07+ is also required.
<br><br><h3>NOTE 1:
<br><br></h3>The wrong value was returned for the Mega ST prior to v1.33
<br>of E-Init.
<br><br><h3>CROSS-REFERENCE:<br><br></h3>See <a style="font-style: italic;" href="KeywordsP.html#PROCESSOR">PROCESSOR</a>, <a style="font-style: italic;" href="KeywordsD.html#DISP_TYPE">DISP_TYPE</a>, <a style="font-style: italic;" href="KeywordsV.html#VER$">VER$</a> and <a style="font-style: italic;" href="KeywordsQ.html#QDOS$">QDOS$</a>.
<br><br><a style="font-style: italic;" href="KeywordsV.html#VER$(1)">VER$(1)</a> and <a style="font-style: italic;" href="KeywordsS.html#SYS_BASE">SYS_BASE</a> replace <a style="font-style: italic;" href="KeywordsS.html#SYS_VARS">SYS_VARS</a>.
<br><br>See also <a style="font-style: italic;" href="KeywordsA.html#A_MACHINE">A_MACHINE</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MAKE_DIR"></a>MAKE_DIR</h1><br>Syntax: <span style="font-style: italic;">MAKE_DIR subdirectory
<br></span>Location: <span style="font-style: italic;">Level-2 and Level-3 Drivers, THOR XVI
<br></span><br>The command <span style="font-style: italic;">MAKE_DIR</span> creates a sub-directory which allows a
<br>group of files to be regarded as one unit when the contents of
<br>a medium are listed. Operations other than the standard <span style="font-style: italic;">DIR</span>,
<br><span style="font-style: italic;">WDIR</span>, <span style="font-style: italic;">WSTAT</span> and <span style="font-style: italic;">WDEL</span>, are not affected.
<br><br>A file belongs to a sub-directory if the sub-directory's
<br>name appears as a prefix of the file, whether the file was
<br>created before or after the sub-directory.
<br><br>Sub-directories are only supported on Level-2 (or higher)
<br>floppy disks, hard disks and ramdisks. A sub-directory name
<br>can be any name but any underscore at its end will be ignored
<br>by <span style="font-style: italic;">MAKE_DIR</span>.
<br><br>If there is no medium in the given device, or if you do not
<br>specify a device name, the current default data device will be
<br>used (see <span style="font-style: italic;">DATAD$</span>).
<br><br>Sub-directories are identified by a "->" in directory
<br>listings and programs can identify them by examining their
<br>file type (255). Empty sub-directories can be deleted as
<br>normal files, but a sub-directory which is not empty, cannot
<br>be deleted: error -9 (in use) will be reported.
<br><br>Actually, sub-directories are normal files which hold a
<br>list of the files which are contained within them. The list
<br>consists of the standard file headers of these files, each
<br>being 64 bytes long. A sub-directory file never decreases in
<br>length if a file in the sub-directory has been deleted,
<br>instead, the file header is just marked as deleted by setting
<br>the name to a zero string.
<br><br>All normal operations are allowed on sub-directory files
<br>(except <span style="font-style: italic;">RENAME</span>), and they can be accessed using <span style="font-style: italic;">OPEN_DIR</span> and <span style="font-style: italic;">FOP_DIR</span>.
<br><br><h3>Example:
<br></h3><br>If FLP1_ contains an empty disk and we then save the
<br><br>current SuperBASIC program as <span style="font-style: italic;">flp1_my_prog_bas</span> and a backup as
<br><br><span style="font-style: italic;">flp1_backup_bas:
<br></span><br><span style="font-style: italic;">SAVE flp1_my_prog_bas
<br><br>SAVE flp1_backup_bas
<br></span><br>a directory of flp1_, produced with <span style="font-style: italic;">WDIR flp1_</span> (for example),
<br><br>shows the following contents:
<br><br>my_prog_bas
<br><br>backup_bas
<br><br>Now, we create the sub-directory my (or my_) with
<br><br><span style="font-style: italic;">MAKE_DIR flp1_my_
<br></span><br><h3>
<br></h3><br>or
<br><br><span style="font-style: italic;">MAKE_DIR flp1_my
<br></span><br>(both forms are equivalent) and look at the directory
<br><br>again:
<br><br>my ->
<br><br>backup_bas
<br><br><span style="font-style: italic;">MAKE_DIR</span> created a new file "my" (not "my ->") which is
<br><br>marked as a sub-directory with the "->" sign by the <span style="font-style: italic;">DIR</span>, <span style="font-style: italic;">WDIR
<br></span><br>and <span style="font-style: italic;">WSTAT</span> commands. The file type of my is 255,
<br><br><span style="font-style: italic;">PRINT FTYP(\flp1_my)
<br></span><br>will return that. But where is my_prog_bas? It was moved
<br><br>into the sub-directory <span style="font-style: italic;">my_</span> and <span style="font-style: italic;">DIR flp1_my_</span> will show it again.
<br><br><h3>NOTE 1:
<br></h3><br>The QUBIDE interface does not allow you to use <span style="font-style: italic;">MAKE_DIR</span> to
<br>create a sub-directory if any files already exist which would
<br>fall into that sub-directory.
<br><br><h3>NOTE 2:
<br></h3><br>The level-2 device drivers introduced a new standard for
<br>subdirectories - other methods which were implemented in the
<br>past are not be recognised in this book.
<br><br><h3>NOTE 3:
<br></h3><br>If a disk with a sub-directory is read by a level-1 device
<br>driver, the sub-directory appears as just another file and
<br>files which have been added to a sub-directory after its
<br>creation cannot be accessed or seen by the system.  However,
<br>if a file had been created before the sub-directory, the
<br>level-1  device  driver  finds  this  file  just  as  if  the
<br>sub-directory did not exist.  So, if you prepare a disk which
<br>should also be readable on level-1 device drivers, either
<br>don't use sub-directories or create them after everything
<br>else.
<br><br><h3>NOTE 4:
<br></h3><br>Sub-directory names longer than 27 characters on Toolkit II
<br>may  hang  up the SuperBASIC interpreter. Since the system
<br>does not treat nested sub-directories differently, the above
<br>warning  applies  to  long  sub-directory  prefixes  as  well.
<br>However, this lock up will only occur when  creating sub-
<br>directories not when using them.
<br><br>This problem is fixed on SMS v2.85.
<br><br><h3>NOTE 5:
<br></h3><br>A filename cannot be longer than 36 characters and as
<br>described above, sub-directories are prefixes which reduce the
<br>maximum possible length of a filename. If you try to create a
<br>file (eg. <span style="font-style: italic;">SAVE</span>) in a sub-directory so that the combined length
<br>of  the  file  name  and  sub-directory  are  longer  than  36
<br>characters, a 'not found' error will be returned.
<br><br><h3>WARNING 1:
<br></h3><br>It is possible to create a sub-directory so that it cannot
<br>be removed any more (do  not  try  this  on  a  hard  disk,
<br>you  have  been  warned):
<br><br><span style="font-style: italic;">SAVE test_
<br><br>MAKE_DIR test
<br></span><br>The file <span style="font-style: italic;">test_</span> has been moved into the <span style="font-style: italic;">test</span> directory, but it
<br>cannot be deleted to empty <span style="font-style: italic;">test</span>. - This has been fixed in
<br>drivers later than version 2.28.
<br><br><h3>WARNING 2:
<br></h3><br><span style="font-style: italic;">MAKE_DIR net_</span>, <span style="font-style: italic;">MAKE_DIR "net"</span> and similar commands lock-up the
<br>machine, so if you want you create a sub-directory called
<br>'net' in the current directory, use <span style="font-style: italic;">MAKE_DIR DATAD$ & "net"</span>.
<br><br><h3>WARNING 3:
<br></h3><br><span style="font-style: italic;">MAKE_DIR flp1__</span>, or <span style="font-style: italic;">MAKE_DIR flp1___</span> and similar commands could
<br>create recursive directories until this was fixed in SMS
<br>v2.77.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsF.html#FMAKE_DIR">FMAKE_DIR</a> is a syntactical variation of <a style="font-style: italic;" href="KeywordsM.html#MAKE_DIR">MAKE_DIR</a>.
<br><br><a style="font-style: italic;" href="KeywordsO.html#OPEN_DIR">OPEN_DIR</a> and <a style="font-style: italic;" href="KeywordsF.html#FOP_DIR">FOP_DIR</a> allow you to read directories of disks as
<br>well as sub-directories on level-2 drivers.
<br><br>The <a style="font-style: italic;" href="KeywordsD.html#DUP">DUP</a>, <a style="font-style: italic;" href="KeywordsD.html#DDOWN">DDOWN</a>, <a style="font-style: italic;" href="KeywordsD.html#DNEXT">DNEXT</a> and <a style="font-style: italic;" href="KeywordsD.html#DATA_USE">DATA_USE</a> commands are used to move
<br>around in a sub-directory tree.
<br><br>See <a style="font-style: italic;" href="KeywordsF.html#FOP_DIR">FOP_DIR</a> for a program which lists a sub-directory tree.
<br><br>To enable programs to read sub-directories which have not
<br>been written for that purpose, the <a style="font-style: italic;" href="KeywordsD.html#DEV_">DEV_</a> device exists (see
<br><a style="font-style: italic;" href="KeywordsD.html#DEV_USE">DEV_USE</a>).
<br><br>The only legal way of identifying a sub-directory is by
<br>examining its file type as returned by <a style="font-style: italic;" href="KeywordsF.html#FTYP">FTYP</a> or <a style="font-style: italic;" href="KeywordsF.html#FILE_TYP">FILE_TYP</a> for
<br>example.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATADD"></a>MATADD</h1><br>Syntax: <span style="font-style: italic;">MATADD sum,matrix1,matrix2
<br></span>Location: <span style="font-style: italic;">Math package
<br></span><br>The command <span style="font-style: italic;">MATADD</span> adds the two matrices contained in the
<br>arrays <span style="font-style: italic;">matrix1</span> and <span style="font-style: italic;">matrix2</span>, setting the result in the array <span style="font-style: italic;">sum</span>.
<br><br>The parameters, <span style="font-style: italic;">matrix1</span>, <span style="font-style: italic;">matrix2</span> and <span style="font-style: italic;">sum</span>, must all be arrays of
<br>the same dimensions, the same size and the  same type. They
<br>can be of any number type, viz. floating point or integer (%
<br>suffix), but not string and (we must stress this point)
<br>floating point and integer arguments  must not be mixed.
<br><br>If these conditions are not satisfied, then <span style="font-style: italic;">MATADD</span> will break
<br>with a 'bad parameter' error (-15).
<br><br>Provided that the parameters follow this rule, the command
<br><span style="font-style: italic;">MATADD</span> sets all of the elements of the <span style="font-style: italic;">sum</span> array to the sum of
<br>the respective elements of the two other arrays, <span style="font-style: italic;">matrix1</span> and
<br><span style="font-style: italic;">matrix2</span>.
<br><br><h3>Example:
<br></h3><span style="font-style: italic;">100 DIM a%(10,10,80), b%(10,10,80), c%(10,10,80)
<br>110 MATRND a%,-5 TO 5: MATSEQ b%
<br>120 MATADD c%,a%,b%
<br></span><br><h3>CROSS-REFERENCE:<br></h3><br>If you run this short example program (8000 internal
<br>loops!), you will notice the extraordinary speed of <a style="font-style: italic;" href="KeywordsM.html#MATADD">MATADD</a> which
<br>is representative of the other <a style="font-style: italic;" href="KeywordsM.html#MAT">MAT</a>... functions; <a style="font-style: italic;" href="KeywordsM.html#MATSUB">MATSUB</a> is almost
<br>equivalent to <a style="font-style: italic;" href="KeywordsM.html#MATADD">MATADD</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATCOUNT"></a>MATCOUNT</h1><br>Syntax: <span style="font-style: italic;">MATCOUNT (array, value)
<br></span><br>or <span style="font-style: italic;">MATCOUNT (array1, array2)
<br></span>Location: <span style="font-style: italic;">Math Package
<br></span><br><span style="font-style: italic;">MATCOUNT</span> is a function which counts how often a certain
<br>value appears in the given <span style="font-style: italic;">array</span> where <span style="font-style: italic;">array</span> and <span style="font-style: italic;">value</span> can be of
<br>any type (even strings) as long as they are of the  same type.
<br><br>The second syntax allows you to pass two arrays <span style="font-style: italic;">array1</span> and
<br><span style="font-style: italic;">array2</span> of the same type and dimensions, <span style="font-style: italic;">MATCOUNT</span> will then compare
<br>these two arrays and return the number of different elements.
<br><br><h3>Example:
<br></h3><br>The following programs compares two random integer arrays
<br><br>and will always print something around 33%:
<br><span style="font-style: italic;">100 DIM x%(1000), y%(1000)
<br>110 MATRND x%,2: MATRND y%,2
<br>120 PRINT MATCOUNT(x%,y%)/10;"%"
<br></span><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATCOUNT">MATCOUNT</a> comparisons are exact in that two numbers a and b
<br>are only regarded as equal if a=b in SuperBASIC terms. The
<br>same is true for strings, it means that their comparison is
<br>case-sensitive.
<br><br><a style="font-style: italic;" href="KeywordsM.html#MATCOUNT1">MATCOUNT1</a> differs from <a style="font-style: italic;" href="KeywordsM.html#MATCOUNT">MATCOUNT</a> (see below) only in the fact
<br>that comparisons are based on the SuperBASIC operator ==
<br>instead of =.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATCOUNT1"></a>MATCOUNT1</h1><br>Syntax: <span style="font-style: italic;">MATCOUNT1 (array, value)
<br></span><br>or <span style="font-style: italic;">MATCOUNT1 (array1, array2)
<br></span>Location: <span style="font-style: italic;">Math Package
<br></span><br>The function <span style="font-style: italic;">MATCOUNT1</span> is just a variation of <span style="font-style: italic;">MATCOUNT</span> which
<br>performs comparisons not as exact as <span style="font-style: italic;">MATCOUNT</span>. Numbers must only
<br>be almost equal, the absolute difference must be smaller than
<br>the absolute of the second number divided by 107:
<br><span style="font-style: italic;"><br>ABS (a-b) < ABS (b / 1E7)</span>.
<br><br>This is the case if a==b.
<br><br><span style="font-style: italic;">MATCOUNT1</span> is therefore the same as <span style="font-style: italic;">MATCOUNT</span> if integers are
<br>being dealt with.
<br><br>Comparison of strings is not case-sensitive, again this is
<br>analogous  to  the  ==  operator:  "QL"=="Ql"  is  true  while
<br>"QL"="Ql" is not.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATCOUNT">MATCOUNT</a>, <a style="font-style: italic;" href="KeywordsM.html#MATEQU">MATEQU</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATEQU"></a>MATEQU</h1><br>Syntax: <span style="font-style: italic;">MATEQU array1,</span> {<span style="font-style: italic;">array2 </span>|<span style="font-style: italic;"> value</span>}
Location: <span style="font-style: italic;">Math Package
<br></span><br>The  command<span style="font-style: italic;">  MATEQU  </span>sets  up  <span style="font-style: italic;">array1</span>  in  two  different  ways
<br>depending on the type of the second parameter:
<br><br>(1) If another array <span style="font-style: italic;">array2</span> of the same dimensions is
<br>supplied then each element of <span style="font-style: italic;">array1</span> is set to the corresponding
<br>element of <span style="font-style: italic;">array2</span>; or
<br><br>(2) If the second parameter is not an array but a constant,
<br>variable or expression then each element of <span style="font-style: italic;">array1</span> is set to the
<br>given <span style="font-style: italic;">value</span>.
<br><br><span style="font-style: italic;">array1</span>, <span style="font-style: italic;">array2</span> and <span style="font-style: italic;">value</span> can be of any type: integer, floating
<br>point or string. <span style="font-style: italic;">array1</span> and <span style="font-style: italic;">array2</span> must however be of the same
<br>type and have the same number of dimensions.
<br><br><h3>Examples:
<br></h3><span style="font-style: italic;">DIM a$(4,8), a%(2,2,2,2,2), a(0), b$(4,8)
<br>MATEQU a$,"Hi there"
<br>MATEQU a%,6
<br>MATEQU a%,-PI
<br>test$=9.5: MATEQU a%,test$
<br>MATEQU a,9.5
<br>MATEQU a$,b$
<br></span><br><h3>NOTE:
<br></h3><br>Supercharge and Turbo users... sorry!
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATRND">MATRND</a>, <a style="font-style: italic;" href="KeywordsM.html#MATIDN
">MATIDN
</a><hr style="width: 100%; height: 2px;"><h1><a name="MATDEV"></a>MATDEV</h1><br>Syntax: <span style="font-style: italic;">MATDEV array</span>[<span style="font-style: italic;">%</span>]
Location: <span style="font-style: italic;">Math Package
<br></span><br>This function takes any numeric array and calculates a
<br>number from its values which gives information about their
<br>standard deviation.
<br><br><h3>Example:
<br></h3><br><span style="font-style: italic;">10 DIM x(10)
<br><br>20 PRINT MATDEV (x)
<br></span><br>gives 0 because all elements of <span style="font-style: italic;">x</span> are equal. Add:
<br><span style="font-style: italic;"><br>15 MATRND x,10
<br></span><br>and the result be be around 3.2.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATMEAN
">MATMEAN
</a><br><h3>
<br></h3><hr style="width: 100%; height: 2px;"><h1><a name="MATIDN"></a>MATIDN</h1><br>Syntax: <span style="font-style: italic;">MATIDN matrix
<br></span>Location: <span style="font-style: italic;">Math Package
<br></span><br>This command forces the  square numeric array <span style="font-style: italic;">matrix</span> to be
<br>initialised so that the matrix is given the algebraic identity
<br>for matrices of that size. This gives the matrix the following
<br>format:
<br><br>1 0 0 . . . 0 0 0
<br><br>0 1 0 . . . 0 0 0
<br><br>0 0 1 . . . 0 0 0
<br><br>. . .       . . .
<br><br>. . .       . . .
<br><br>. . .       . . .
<br><br>0 0 0 . . . 1 0 0
<br><br>0 0 0 . . . 0 1 0
<br><br>0 0 0 . . . 0 0 1
<br><br>All elements on the diagonal line from the top left corner
<br>to the bottom right corner are set to 1 and all other elements
<br>are set to 0. This forms the identity matrix, which means that
<br>when a matrix of the same size is multiplied by this, the
<br>resultant matrix is the same as the original matrix, ie.
<br>matrix1 * matrix = matrix1.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATMULT">MATMULT</a> multiplies matrices.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATINPUT"></a>MATINPUT</h1><br>Syntax: <span style="font-style: italic;">MATINPUT array </span>[{<span style="font-style: italic;">\</span> | <span style="font-style: italic;">,</span> |<span style="font-style: italic;"> ;</span> |<span style="font-style: italic;"> !</span>}]
Location: <span style="font-style: italic;">Math Package
<br></span><br>The command <span style="font-style: italic;">MATINPUT</span> reads each element of an <span style="font-style: italic;">array</span> in turn
<br>from #1, so that you have to type them all in.
<br><br>The modifiers '<span style="font-style: italic;">;</span>' and '<span style="font-style: italic;">!</span>' place the cursor behind the last
<br>entry whilst '<span style="font-style: italic;">,</span>' moves it to the next tab position. The default
<br>is '<span style="font-style: italic;">\</span>' which forces a new line between entries - the '<span style="font-style: italic;">\</span>' can be
<br>omitted.
<br><br><h3>Example:
<br></h3><span style="font-style: italic;">100 DIM a(1,2)
<br>110 MATINPUT a,
<br></span><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATREAD">MATREAD</a>, <a style="font-style: italic;" href="KeywordsM.html#MATRND">MATRND</a>, <a style="font-style: italic;" href="KeywordsF.html#FOR
">FOR
</a><br><h3>
<br></h3><hr style="width: 100%; height: 2px;"><h1><a name="MATINV"></a>MATINV</h1><br>Syntax: <span style="font-style: italic;">MATINV matrix2,matrix1
<br></span>Location: <span style="font-style: italic;">Math Package
<br></span><br>The command <span style="font-style: italic;">MATINV</span> takes the array <span style="font-style: italic;">matrix1</span>, inverts it and
<br>stores the result in <span style="font-style: italic;">matrix2</span>.
<br><br>Inverting is a mathematical term and produces a result from
<br>a matrix which is similar to finding the reciprocal of a
<br>number, namely, the relation is expressed by the fact that the
<br>product of a number and its reciprocal is one and the product
<br>of a matrix and its inverse matrix is the identity matrix:
<br><span style="font-style: italic;">n=10: DIM A(n,n), B(n,n), C(n,n)
<br>MATRND A
<br></span><br><span style="font-style: italic;">A</span> is a random matrix
<br><span style="font-style: italic;">MATINV A,B
<br></span><br>make <span style="font-style: italic;">B</span> the inverted matrix of <span style="font-style: italic;">A
<br></span><span style="font-style: italic;">MATMULT C,A,B
<br></span><br>multiply <span style="font-style: italic;">A</span> with <span style="font-style: italic;">B</span> and store the result in <span style="font-style: italic;">C
<br></span><br><span style="font-style: italic;">C</span> will be almost identical to the matrix <span style="font-style: italic;">ONE</span> defined with:
<br><span style="font-style: italic;">DIM ONE(n,n): MATIDN ONE
<br></span><br><span style="font-style: italic;">C</span> and <span style="font-style: italic;">ONE</span> do not have exactly the same values because of the
<br>limited precision of the QL maths package.
<br><br>Two conditions are absolutely necessary for <span style="font-style: italic;">MATINV</span> to work:
<br><br>(a) <span style="font-style: italic;">DET (matrix1) &lt;&gt; 0
<br></span><br>(b) <span style="font-style: italic;">matrix1</span> and <span style="font-style: italic;">matrix2</span> must be square matrices
<br><br><h3>Example:
<br></h3><br>A matrix <span style="font-style: italic;">A</span> and an array <span style="font-style: italic;">b</span> form a so-called "linear equation
<br><br>system" which has a solution <span style="font-style: italic;">x</span> which is an array like <span style="font-style: italic;">b</span>.
<br><br>This example will find the solutions <span style="font-style: italic;">x(i)</span> of the system, for
<br><br>any positive value of <span style="font-style: italic;">n</span> (the size of the matrix):
<br><span style="font-style: italic;">100 n=5
<br>110 DIM A(n,n), AINV(n,n), b(n), x(n)
<br>120 MATRND A: MATRND b
<br>130 :
<br>140 MATINV A,AINV
<br>150 MATSCALM AINV,b TO x
<br>160 PRINT "Solutions:"\x
<br>170 IF ABS(DET)<1E-6 THEN PRINT "(dubious results)"
<br>180 :
<br>190 DEFine PROCedure MATSCALM (matrix,array1,array2)
<br>200  LOCal i,j
<br>210  FOR i=0 TO DIMN(matrix,1)
<br>220    array2(i)=0
<br>230    FOR j=0 TO DIMN(matrix,2)
<br>240      array2(i)=array2(i)+array1(j)*matrix(i,j)
<br>250    END FOR j
<br>260  END FOR i
<br>270 END DEFine MATSCALM
<br></span><br><h3>
<br></h3><br>The  method  of  solving  a  linear  equation  system  by
<br><br>calculating the inverted matrix is known as Cramer's Rule.
<br><br>The advantage is that if the matrix <span style="font-style: italic;">A</span> is constant and only
<br><br>the array <span style="font-style: italic;">b</span> varies for other situations, <span style="font-style: italic;">MATINV</span> needs only be
<br><br>called once and not afterwards for each value of the array
<br><br><span style="font-style: italic;">b</span>.
<br><br><h3>NOTE:
<br></h3><br>Calculation time takes longer as the size of the matrix
<br>increases eg. the above example will take nearly an hour to
<br>calculate <span style="font-style: italic;">n=100</span>.
<br><br><span style="font-style: italic;">MATINV</span> cannot be stopped with &lt;CTRL&gt;&lt;SPACE&gt; whilst number
<br>crunching.
<br><br><h3>CROSS-REFERENCE:<br></h3><br>It is highly recommended to check if <a style="font-style: italic;" href="KeywordsD.html#DET">DET</a> is very close to
<br>zero after <a style="font-style: italic;" href="KeywordsM.html#MATINV">MATINV</a> has been executed, if this is the case,  <a style="font-style: italic;" href="KeywordsM.html#MATINV
">MATINV
</a>may have found a result which does not exist:
<br><br><a style="font-style: italic;" href="KeywordsI.html#IF ABS(DET) ">IF ABS(DET) <a style="font-style: italic;" href="KeywordsI.html#IF ABS(DET) ">IF ABS(DET) < 1E-6 THEN PRINT "dubious result"
">< 1E-6 THEN PRINT "dubious result"
</a><br>This works because <a style="font-style: italic;" href="KeywordsM.html#MATINV">MATINV</a> calls <a style="font-style: italic;" href="KeywordsD.html#DET">DET</a> internally.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATMAX"></a>MATMAX</h1><br>Syntax: <span style="font-style: italic;">MATMAX (array</span>[<span style="font-style: italic;">%</span>]<span style="font-style: italic;">)
<br></span>Location: <span style="font-style: italic;">Math Package
<br></span><br>This function finds the largest value contained in an
<br>integer or floating point array.
<br><br><h3>NOTE:
<br></h3><br>This cannot be compiled with Supercharge or Turbo.
<br><br><h3>WARNING:
<br></h3><br>A string array makes <span style="font-style: italic;">MATMAX</span> hang the system.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATMIN">MATMIN</a> is the complementary function.
<br><br>See also <a style="font-style: italic;" href="KeywordsM.html#MAXIMUM">MAXIMUM</a> and <a style="font-style: italic;" href="KeywordsM.html#MAXIMUM%">MAXIMUM%</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATMEAN"></a>MATMEAN</h1><br>Syntax: <span style="font-style: italic;">MATMEAN (array</span>[<span style="font-style: italic;">%</span>]<span style="font-style: italic;">)
<br></span>Location: <span style="font-style: italic;">Math Package
<br></span><br>This function returns the average of the array's elements,
<br>calculated by the sum of the elements divided by the number of
<br>elements.
<br><br><h3>NOTE:
<br></h3><br>Don't compile with Supercharge or Turbo.
<br><br><h3>WARNING:
<br></h3><br>Avoid string parameters!
<br><br><h3>CROSS-REFERENCE:<br></h3><br>See <a style="font-style: italic;" href="KeywordsM.html#MATSUM">MATSUM</a> for an example.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATMIN"></a>MATMIN</h1><br>Syntax: <span style="font-style: italic;">MATMIN (array</span>[<span style="font-style: italic;">%</span>]<span style="font-style: italic;">)
<br></span>Location: <span style="font-style: italic;">Math Package
<br></span><br>This function finds the smallest element in an integer or
<br>floating point array.
<br><br><h3>NOTE:
<br></h3><br>Cannot be compiled with Supercharge or Turbo.
<br><br><h3>WARNING:
<br></h3><br>A string array makes <span style="font-style: italic;">MATMIN</span> hang the system.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATMAX">MATMAX</a> is the opposite function.
<br><br>Refer also to <a style="font-style: italic;" href="KeywordsM.html#MINIMUM">MINIMUM</a> and <a style="font-style: italic;" href="KeywordsM.html#MINMUM%">MINMUM%</a> which are even quicker.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATMULT"></a>MATMULT</h1><br>Syntax: <span style="font-style: italic;">MATMULT product, matrix1, matrix2
<br></span>Location: <span style="font-style: italic;">Math Package
<br></span><br>The command <span style="font-style: italic;">MATMULT</span> performs multiplication on matrices of
<br>floating point type. The <span style="font-style: italic;">matrix1</span> is multiplied with <span style="font-style: italic;">matrix2</span> and the
<br>result stored in <span style="font-style: italic;">product</span>.
<br><br>Since a n x m matrix represents a linear transformation
<br>which takes n-dimensional vectors and produces m-dimensional
<br>vectors from them, the following conditions must be satisfied
<br>by the three matrices supplied to <span style="font-style: italic;">MATMULT</span>:
<br><br>(1) All matrices must be two-dimensional.
<br><br>(2) <span style="font-style: italic;">DIMN (matrix1, 2) = DIMN (matrix2, 1)
<br></span><br>(3) <span style="font-style: italic;">DIMN (matrix1, 1) = DIMN (product, 1)
<br></span><br>(4) <span style="font-style: italic;">DIMN (matrix2, 2) = DIMN (product, 2)
<br></span><br>The latter three conditions are obviously satisfied by
<br>square matrices.
<br><br><h3>Example:
<br></h3><br>Multiplication of two matrices means that their effect on a
<br><br>vector is combined into one matrix.  The following program
<br><br>demonstrates this on a simple square.  The square <span style="font-style: italic;">x</span> is a
<br><br>list of four vectors.  <span style="font-style: italic;">x</span> is first rotated with <span style="font-style: italic;">ROT</span> by 45ø,
<br><br>the rotated square is stored in <span style="font-style: italic;">y</span>. Now this <span style="font-style: italic;">y</span> is squeezed
<br><br>in size by one half with <span style="font-style: italic;">SQZ</span> and stored in <span style="font-style: italic;">z</span>. Lines 240 to
<br><br>280 perform all this and show the process.
<br><br>After a keystroke, the matrix <span style="font-style: italic;">ROTSQZ</span> will be created as the
<br><br>product  of  <span style="font-style: italic;">ROT</span>  and  <span style="font-style: italic;">SQZ</span>.  Again  the  original  square  is
<br><br>transformed  but  this  time  by  <span style="font-style: italic;">ROTSQZ</span>  which  rotates  and
<br><br>squeezes in one go. This is done by lines 300 to 350.
<br><br>Lines 100 to 220 initialise the matrices and set up the
<br><br>window for drawing. Due to the design of QL graphics, line
<br><br>100 can be freely omitted. At the bottom of the listing are
<br><br>three   PROCedures:
<br><br><span style="font-style: italic;">MATVEC</span> multiplies a vector with a matrix (ie. the vector is
<br><br>transformed by this matrix) and
<br><br><span style="font-style: italic;">MATVECS</span> does the same for a list of vectors, just calling
<br><br><span style="font-style: italic;">MATVEC</span> for each individual vector. <span style="font-style: italic;">MATVEC(S)</span> is written in a
<br><br>dimension independent way, just to show how that can be
<br><br>done; there is no check on the parameters, just to save
<br><br>space.
<br><br><span style="font-style: italic;">POLYDRAW</span> draws a closed polygon from a supplied list of
<br><br>two-dimensional points.
<br><br>The program appears on the next page.
<br><span style="font-style: italic;">100 WINDOW 448,200,32,16
<br>110 SCALE 8,-5,-4: PAPER 0: CLS
<br>120 :
<br>130 DIM ROT(2,2): rc=1/SQRT(2)
<br>140 ROT(1,1)=rc:  ROT(1,2)=rc
<br>150 ROT(2,1)=-rc: ROT(2,2)=rc
<br>160 DIM SQZ(2,2): SQZ(1,1)=.5: SQZ(2,2)=.5
<br>170 :
<br>180 DIM x(4,2), y(4,2), z(4,2)
<br>190 x(1,1)=-1: x(1,2)= 1
<br>200 x(2,1)= 1: x(2,2)= 1
<br>210 x(3,1)= 1: x(3,2)=-1
<br>220 x(4,1)=-1: x(4,2)=-1
<br>230 :
<br>240 INK 5: POLYDRAW x
<br>250 MATVECS y,ROT,x
<br>260 INK 3: POLYDRAW y
<br>270 MATVECS z,SQZ,y
<br>280 INK 7: POLYDRAW z
<br>290 :
<br>300 PAUSE: CLS
<br>310 DIM ROTSQZ(2,2)
<br>320 INK 5: POLYDRAW x
<br>330 MATMULT ROTSQZ,ROT,SQZ
<br>340 MATVECS z,ROTSQZ,x
<br>350 INK 7: POLYDRAW z
<br>360 :
<br>370 :
<br>380 DEFine PROCedure MATVECS (vectors2, matrix, vectors1)
<br>390  LOCal i
<br>400  FOR i=1 TO DIMN(vectors1)
<br>410    MATVEC vectors2(i),matrix,vectors1(i)
<br>420  END FOR i
<br>430 END DEFine MATVECS
<br>440 :
<br>450 DEFine PROCedure MATVEC (vector2, matrix, vector1)
<br>460  REMark vector2 = matrix * vector1
<br>470  LOCal i,j
<br>480  FOR i=1 TO DIMN(vector2)
<br>490    vector2(i)=0
<br>500    FOR j=1 TO DIMN(matrix,2)
<br>510      vector2(i)=vector2(i)+matrix(i,j)*vector1(j)
<br>520    END FOR j
<br>530  END FOR i
<br>540 END DEFine MATVEC
<br>550 :
<br>560 DEFine PROCedure POLYDRAW (vectors)
<br>570  LOCal i
<br>580  POINT vectors(1,1),vectors(1,2)
<br>590  FOR i=2 TO DIMN(vectors), 1
<br>600    LINE TO vectors(i,1),vectors(i,2)
<br>610  END FOR i
<br>620 END DEFine POLYDRAW
<br></span><br><h3>NOTE:
<br></h3><br>Normally the product of two matrices A*B is not the same as
<br>B*A, however, the matrices <span style="font-style: italic;">ROT</span> and <span style="font-style: italic;">SQZ</span> in the above example are
<br>an exception to this rule. Replace line 330 with:
<br><span style="font-style: italic;">330 MATMULT ROTSQZ,SQZ,ROT
<br></span><br>and nothing will change.
<br><br><h3>CROSS-REFERENCE:<br></h3><br>See <a style="font-style: italic;" href="KeywordsM.html#MATINV">MATINV</a> for another example of using <a style="font-style: italic;" href="KeywordsM.html#MATMULT">MATMULT</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATPLOT"></a>MATPLOT</h1><br>Syntax: <span style="font-style: italic;">MATPLOT array </span>[{<span style="font-style: italic;">, </span>|<span style="font-style: italic;"> ;</span>}]
Location: <span style="font-style: italic;">Math Package
<br></span><br>This command takes a two-dimensional <span style="font-style: italic;">array</span> and draws the
<br>points set out by the <span style="font-style: italic;">array</span> (the first dimension identifies the
<br>number of points and the second the co-ordinates) to the
<br>default window used by <span style="font-style: italic;">LINE</span> (normally #1). The array must be
<br>declared in the following way (an array which does not fall
<br>into this category will cause an error):
<br><br><span style="font-style: italic;">DIM array (points,1)
<br></span><br><span style="font-style: italic;">points</span> is the total number of points (less one) set out in
<br>the <span style="font-style: italic;">array</span>, with <span style="font-style: italic;">array(p,0)</span> the x-coordinate and <span style="font-style: italic;">array(p,1)</span> the y-
<br>coordinate of point number <span style="font-style: italic;">p-1</span>.
<br><br>If a comma (<span style="font-style: italic;">,</span>) appears after the name of the array <span style="font-style: italic;">MATPLOT
<br></span>will connect each point with its successor by a line.  On the
<br>other hand, if a semicolon (<span style="font-style: italic;">;</span>) appears after the name of the
<br><span style="font-style: italic;">array</span>, an additional line is drawn between the first point and
<br>the last point. These lines are drawn using the QDOS line
<br>drawing routine and therefore suffer from the same problems as
<br>the <span style="font-style: italic;">LINE</span> command.
<br><br>For those of you still uncertain of the possible uses of
<br>this command, a little hint: the addition of a semicolon to
<br>the the parameter will always enclose the set of lines which
<br>have been set out, thereby making this command ideal for
<br>creating all types of shapes (for example dodecahedrons)!
<br><br><span style="font-style: italic;">MATPLOT</span> supports <span style="font-style: italic;">INK</span>, <span style="font-style: italic;">PAPER</span>, <span style="font-style: italic;">OVER</span> and <span style="font-style: italic;">FILL</span>.
<br><br><h3>Example:
<br></h3><br>The following fractal generator was written by John de
<br><br>Rivaz in SuperBASIC and optimised by Simon N. Goodwin.
<br><br>Originally, both the calculation and drawing was done in
<br><br>one loop which was a bit faster (10-20%) than the following
<br><br>version (this calculates all points in one loop and then
<br><br>uses <span style="font-style: italic;">MATPLOT</span> to draw them quickly, creating a second internal
<br><br>loop).  Another  disadvantage  compared  to  the  original
<br><br>version is the increase in memory usage because all points
<br><br>have to be stored:
<br><span style="font-style: italic;">100 MODE 4: WINDOW 512,256,0,0: PAPER 0: CLS
<br>110 SCALE 20,-14,-10: iterations=10000
<br>120 DIM pts(iterations-1,1): x=0: y=0
<br>130 FOR loop=0 TO iterations-1
<br>140   pts(loop,0)=x: pts(loop,1)=y
<br>150   sy=0: IF x<0 THEN sy=-1: ELSE IF x THEN sy=1
<br>160   xx=y-sy*(ABS(x-.9))^.5: y=1.01-x: x=xx
<br>170 END FOR loop
<br>180 INK 7: MATPLOT pts
<br></span><br>A nice modification of the above example would be to:
<br><br>(1) replace <span style="font-style: italic;">MODE 4</span> with <span style="font-style: italic;">MODE 8</span> in line 100;
<br><br>(2) delete line 180; and
<br><br>(3) add the block
<br><span style="font-style: italic;">180 REPeat loop
<br>190   FOR n=1 TO 7
<br>200     INK n
<br>210     MATPLOT pts
<br>220   END FOR n
<br>230 END REPeat loop
<br></span><br>It's up to you to produce more variants!
<br><br><h3>NOTE:
<br></h3><br>The output of <span style="font-style: italic;">MATPLOT</span> cannot be redirected to any other
<br>window and specifically any program which uses <span style="font-style: italic;">MATPLOT</span> (eg. the
<br>above example) cannot be compiled. So it is perhaps best to
<br>forget about <span style="font-style: italic;">MATPLOT</span>.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATPLOT_R">MATPLOT_R</a> draws the figure relative to the graphic cursor.
<br><br href="KeywordsP.html#POINT">POINT</a> draws a single point to any screen, <a style="font-style: italic;" href="KeywordsB.html#BLOCK">BLOCK</a> can also be
<br>used to plot points, especially of variable size.
<br><br href="KeywordsP.html#PLOT">PLOT</a>, <a style="font-style: italic;" href="KeywordsA.html#APOINT">APOINT</a> and <a style="font-style: italic;" href="KeywordsP.html#POINT_ABS">POINT_ABS</a> plot points in absolute co-ordinates,
<br>directly to screen memory, ignoring windows.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATPLOT_R"></a>MATPLOT_R</h1><br>Syntax: <span style="font-style: italic;">MATPLOT_R array </span>[{<span style="font-style: italic;">, </span>|<span style="font-style: italic;"> ;</span>}]
Location: <span style="font-style: italic;">Math Package
<br></span><br>This command is the same as <span style="font-style: italic;">MATPLOT</span> except that the output is
<br>drawn relative to the graphic cursor.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsP.html#POINT">POINT</a> and all other commands related to graphics move the
<br>graphic cursor.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATPROD"></a>MATPROD</h1><br>Syntax: <span style="font-style: italic;">MATPROD (array)
<br></span>Location: <span style="font-style: italic;">Math Package
<br></span><br>The function <span style="font-style: italic;">MATPROD</span> returns the product of the <span style="font-style: italic;">array</span>'s values,
<br>so <span style="font-style: italic;">array</span> is not allowed to be a string array.
<br><br><h3>Example:
<br></h3><br>Can you see why <span style="font-style: italic;">MATPROD</span> and <span style="font-style: italic;">FACT</span> return the same number for
<br><br>every <span style="font-style: italic;">n</span>?
<br><span style="font-style: italic;">100 n=8: DIM a%(n)
<br>110 MATSEQ a%
<br>120 PRINT MATPROD(a%) ;" = ";
<br>130 PRINT FACT(n+1)
<br></span><br><h3>NOTE:
<br></h3><br><span style="font-style: italic;">MATPROD</span> is not compatible with Turbo and Supercharge.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATPROD">MATPROD</a> is almost identical to <a style="font-style: italic;" href="KeywordsM.html#MATSUM">MATSUM</a> except that it returns
<br>the product rather than the elements' sum; so have a look at
<br><a style="font-style: italic;" href="KeywordsM.html#MATSUM">MATSUM</a> which is also more useful.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATREAD"></a>MATREAD</h1><br>Syntax: <span style="font-style: italic;">MATREAD array
<br></span>Location: <span style="font-style: italic;">Math Package
<br></span><br>The command <span style="font-style: italic;">MATREAD</span> initialises the <span style="font-style: italic;">array</span> (of any type) by
<br>reading each element from <span style="font-style: italic;">DATA</span> lines. Since <span style="font-style: italic;">MATREAD</span> does the same
<br>as the following routine:
<br><span style="font-style: italic;">FOR i1=0 TO DIMN(array,1)
<br>FOR i2=0 TO DIMN(array,2)
<br>...
<br>READ array(i1, i2)
<br>...
<br>END FOR i2
<br>END FOR i1
<br></span><br>all of the normal errors of <span style="font-style: italic;">READ</span> may occur.
<br><br><h3>Example:
<br></h3><span style="font-style: italic;">100 DIM a%(3,2)
<br>110 MATREAD a%
<br>120 :
<br>130 DATA 1, 2, 3, 4
<br>140 DATA 5, 6, 7, 8
<br>150 DATA 9,10,11,12
<br></span><br>is identical to <span style="font-style: italic;">MATSEQ a%</span>.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATINPUT
">MATINPUT
</a><br><h3>
<br></h3><hr style="width: 100%; height: 2px;"><h1><a name="MATRND"></a>MATRND</h1><br>Syntax: <span style="font-style: italic;">MATRND array
<br></span><br>or <span style="font-style: italic;">MATRND array% </span>[[<span style="font-style: italic;"> ,minval%</span>]<span style="font-style: italic;"> ,maxval%</span>]
Location: <span style="font-style: italic;">Math Package
<br></span><br>This command initialises all of the elements of an integer
<br>or floating point <span style="font-style: italic;">array</span> with random numbers. Their default range
<br>depends on the type of array: for integer arrays, the values
<br>range from -32768 to 32767, whereas for floating point they
<br>range between 0 and 1.
<br><br><span style="font-style: italic;">MATRND</span>  selects  the  range  itself  if  there  is  just  one
<br>parameter, but for integer arrays only, an extended syntax
<br>allows  you  to  specify  another  range  (as  in  the  second
<br>variant). If just a maximum value <span style="font-style: italic;">maxval%</span> is specified then
<br>values range from <span style="font-style: italic;">0 to maxval%</span>, if a minimum <span style="font-style: italic;">minval%</span> is additionally
<br>given then values range from <span style="font-style: italic;">minval% to maxval%</span>.
<br><br><span style="font-style: italic;">MATRND</span> will reject any non-integer parameters for the second
<br>syntax.
<br><br><h3>Examples:
<br></h3><span style="font-style: italic;">DIM array%(4,3,2), array(1,2): min%=10
<br>MATRND array
<br>MATRND array%
<br>MATRND array%,100
<br>MATRND array%,min%,100
<br></span><br><h3>NOTE:
<br></h3><br>Like all other <span style="font-style: italic;">MAT</span>... commands, <span style="font-style: italic;">MATRND</span> cannot be compiled with
<br>Supercharge or Turbo.
<br><br><h3>WARNING:
<br></h3><br><span style="font-style: italic;">MATRND</span> allows a string array as a parameter. This leads to
<br>odd results and can possibly hang the machine.
<br><br><h3>CROSS-REFERENCE:<br></h3><br>The random values chosen by <a style="font-style: italic;" href="KeywordsM.html#MATRND">MATRND</a> can be influenced by
<br><a style="font-style: italic;" href="KeywordsR.html#RANDOMISE">RANDOMISE</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATSEQ"></a>MATSEQ</h1><br>Syntax: <span style="font-style: italic;">MATSEQ array
<br></span>Location: <span style="font-style: italic;">Math Package
<br></span><br>The command <span style="font-style: italic;">MATSEQ</span> initialises the <span style="font-style: italic;">array</span> (which must be a
<br>numeric array) with a constantly increasing set of integer
<br>numbers: 1 2 3 4 5 6... There is not really much use for <span style="font-style: italic;">MATSEQ
<br></span>except for demonstration.
<br><br><span style="font-style: italic;">array</span> can be either a floating point or integer variable.
<br>No strings are allowed.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATIDN">MATIDN</a> is a useful means of initialising an array, <a style="font-style: italic;" href="KeywordsM.html#MATEQU">MATEQU</a> can
<br>be used to set all elements of an array to a certain value. It
<br>is worth noting that any square matrix created with <a style="font-style: italic;" href="KeywordsM.html#MATSEQ
">MATSEQ
</a>cannot be inverted with <a style="font-style: italic;" href="KeywordsM.html#MATINV">MATINV</a> because the determinant <a style="font-style: italic;" href="KeywordsD.html#DET">DET</a> of
<br>that matrix is always zero:
<br><br><a style="font-style: italic;" href="Keywords1.html#100 n=30: DIM m(n,n), minv(n,n)
">100 n=30: DIM m(n,n), minv(n,n)
<br href="Keywords1.html#110 MATSEQ m
">110 MATSEQ m
<br href="Keywords1.html#120 MATINV minv,m
">120 MATINV minv,m
</a><br>always fails at line 120 because <a style="font-style: italic;" href="KeywordsD.html#DET(m)=0">DET(m)=0</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATSUB"></a>MATSUB</h1><br>Syntax: <span style="font-style: italic;">MATSUB difference,matrix1,matrix2
<br></span>Location: <span style="font-style: italic;">Math Package
<br></span><br>Provided that the parameters of the command <span style="font-style: italic;">MATSUB</span> fulfil the
<br>same conditions as for <span style="font-style: italic;">MATADD</span>, <span style="font-style: italic;">MATSUB</span> will store the difference
<br>between  <span style="font-style: italic;">matrix1</span>  and  <span style="font-style: italic;">matrix2</span>  in  <span style="font-style: italic;">difference</span>  {ie.  <span style="font-style: italic;">difference</span>(...)  =
<br><span style="font-style: italic;">matrix1</span>(...) - <span style="font-style: italic;">matrix2</span>(...)}.
<br><br>Two or all of the parameters can be identical, so:
<br><br><span style="font-style: italic;">MATSUB a,a,a
<br></span><br>and
<br><br><span style="font-style: italic;">MATSUB a,b,a
<br></span><br>etc. are valid.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATADD">MATADD</a>!
<br><hr style="width: 100%; height: 2px;"><h1><a name="MATSUM"></a>MATSUM</h1><br>Syntax: <span style="font-style: italic;">MATSUM (array</span>[<span style="font-style: italic;">%</span>]<span style="font-style: italic;">)
<br></span>Location: <span style="font-style: italic;">Math Package
<br></span><br>This function calculates the sum of all of the elements of
<br>the supplied <span style="font-style: italic;">array</span>.
<br><span style="font-style: italic;"><br>array</span> can be any floating point or integer array, but  not a
<br>string array.  The latter leads to error -15 (bad parameter).
<br><br><span style="font-style: italic;">array</span>  can  be  any  number  of  dimensions,  although  the
<br>following example uses just one dimension for demonstration
<br>reasons.
<br><br><h3>Example:
<br></h3><br>If you stored a lot of values, eg. temperatures, in an
<br><br>array and want to find the average temperature, you have to
<br><br>divide the sum of the temperatures by the number of values.
<br><br>Obviously the operation of adding temperatures can take
<br><br>quite some time for a large data base, so this is a point
<br><br>where <span style="font-style: italic;">MATSUM</span> helps:
<br><span style="font-style: italic;">100 values% = 200: DIM temp%(values%)
<br>110 :
<br>120 PRINT#0,"random initialisation..."
<br>130 MATRND temp%,-20,30
<br>140 PRINT#0,"equalising";
<br>150 FOR equalize = 1 TO 10
<br>160   FOR i = 0 TO values%-1
<br>170     temp%(i) = ( temp%(i) + temp%(i+1) ) / 2
<br>180   END FOR i
<br>190   PRINT#0,".";
<br>200 END FOR equalize
<br>210 :
<br>220 PRINT#0\\"drawing..."
<br>230 WINDOW 448,200,32,16: SCALE 100,0,0
<br>240 PAPER 3: CLS: INK 7: OVER 0
<br>250 dist = 160 / values%: yoff = 50
<br>260 FOR i = 0 TO values%-1
<br>270   x1 = i*dist: x2 = x1+dist
<br>280   y1 = temp%(i) + yoff: y2 = temp%(i+1) + yoff
<br>290   LINE x1,y1 TO x2,y2
<br>300 END FOR i
<br>310 :
<br>320 PRINT#0,"find medium..."
<br>330 tmed = MATSUM(temp%) / values%
<br>340 INK 3: OVER -1
<br>350 LINE 0,tmed+yoff TO x2,tmed+yoff
<br></span><br>The important line is 330 where <span style="font-style: italic;">MATSUM</span> is used. Lines 150 to
<br><br>200  transform  the  random  values  to  more  realistic
<br><br>temperatures: you won't find any country where outside
<br><br>temperature jumps from -20 to +30 degrees Celsius in one
<br><br>day! The number of <span style="font-style: italic;">equalize</span> loops can be freely chosen.  This
<br><br>is also true for <span style="font-style: italic;">values%</span>, the figure adapts itself to the
<br><br>number of values (see <span style="font-style: italic;">dist</span> in line 250).
<br><br><h3>NOTE:
<br></h3><br>A program using <span style="font-style: italic;">MATSUM</span> cannot be compiled with Turbo or
<br>Super-charge.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATRND">MATRND</a> initialises an array with random values.
<br><br href="KeywordsM.html#MATPROD">MATPROD</a> is very similar to <a style="font-style: italic;" href="KeywordsM.html#MATSUM">MATSUM</a> except that it finds the
<br>product of an array's elements.
<br><br href="KeywordsM.html#MATMEAN">MATMEAN</a> finds the mean value of a matrix's values directly,
<br>so line 330 could be replaced with
<br><br><a style="font-style: italic;" href="Keywords3.html#330 tmed = MATMEAN(temp%)
">330 tmed = MATMEAN(temp%)
</a><hr style="width: 100%; height: 2px;"><h1><a name="MATTRN"></a>MATTRN</h1><br>Syntax: <span style="font-style: italic;">MATTRN array1, array2
<br></span>Location: <span style="font-style: italic;">Math Package
<br></span><br>The command <span style="font-style: italic;">MATTRN</span> takes numeric arrays of two dimensions or
<br>string arrays of three dimensions and reads each row of <span style="font-style: italic;">array2</span>,
<br>placing it in the corresponding column of <span style="font-style: italic;">array1</span>.
<br><br>It is obligatory that both arrays have the same type and
<br>are exactly <span style="font-style: italic;">DIM</span>ed to the needs of <span style="font-style: italic;">MATTRN</span>. The first dimension of
<br><span style="font-style: italic;">array1</span> must be equal to the second of <span style="font-style: italic;">array2</span> and the first
<br>dimension of <span style="font-style: italic;">array2</span> must be equal to the second of <span style="font-style: italic;">array1</span>.
<br><br>For strings, additionally, the third dimensions of both
<br>arrays have to be equal:
<br><br><span style="font-style: italic;">DIM array1(x,y), array2(y,x)
<br><br>DIM array1%(x,y), array2%(y,x)
<br><br>DIM array1$(x,y,z), array2$(y,x,z)
<br></span><br>So <span style="font-style: italic;">array1</span> and <span style="font-style: italic;">array2</span> can only be of identical dimensions for
<br>square matrices. In all other cases the contents of <span style="font-style: italic;">array1</span> are
<br>not modified.
<br><br><h3>Example:
<br></h3><span style="font-style: italic;">100 DIM A%(2,3), B%(3,2)
<br>110 MATRND B%,9: PRINT B%!\
<br>120 MATTRN A%,B%: PRINT A%!\
<br>130 MATTRN B%,A%: PRINT B%!\
<br></span><br><h3>
<br></h3><hr style="width: 100%; height: 2px;"><h1><a name="MAX"></a>MAX</h1><br>Syntax: <span style="font-style: italic;">MAX (x</span><sup>1</sup><span style="font-style: italic;"> </span><sup>*</sup>[<span style="font-style: italic;">,x</span><sup>i</sup>]<sup>*</sup>)
Location: <span style="font-style: italic;">Math Package, MINMAX2
<br></span><br>This function must be given at least one number as a
<br>parameter - it will then return the highest value out of the
<br>given list of parameters.
<br><br><h3>Example:
<br></h3><br><span style="font-style: italic;">PRINT MAX ( 2, 5, -10, 3.2 )
<br></span><br>will print 5.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MIN">MIN</a>.
<br><br>See also <a style="font-style: italic;" href="KeywordsM.html#MAXIMUM">MAXIMUM</a> and <a style="font-style: italic;" href="KeywordsM.html#MATMAX">MATMAX</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MAXIMUM"></a>MAXIMUM</h1><br>Syntax: <span style="font-style: italic;">MAXIMUM </span>[<span style="font-style: italic;"> ( array )</span> ]
<br><br>or <span style="font-style: italic;">MAXIMUM ( </span><sup>*</sup>[<span style="font-style: italic;"> value</span> ]<sup>*</sup><span style="font-style: italic;"> )
<br></span>Location: <span style="font-style: italic;">Minmax (DIY Toolkit - Vol Z)
<br></span><br>The effect of this function depends on the parameter
<br>supplied.  It is however an extremely fast way of comparing
<br>values.
<br><br>If no parameter is supplied, then the greatest possible
<br>floating point number supported by the QL is returned - this
<br>is equivalent to 1.61585 e616.
<br><br>If a single parameter is supplied which is a single
<br>dimensional floating point array, then <span style="font-style: italic;">MAXIMUM</span> will return the
<br>value of the largest number stored within that array.  If you
<br>want to compare the values of an integer array, then use
<br><span style="font-style: italic;">MAXIMUM%</span> (a 'bad parameter' is generated with this function).
<br><br>If, however, you use the second variant to pass a list of
<br>values (either numbers or variables), then the highest value
<br>out of those parameters will be returned.  Please note that
<br>you cannot pass an array in this instance - it is therefore
<br>the same as <span style="font-style: italic;">MAX</span>.
<br><br><h3>Example:
<br></h3><span style="font-style: italic;">PRINT MAXIMUM
<br></span><br>Returns 1.61585e616
<br><span style="font-style: italic;">DIM x(3):x(0)=10:x(1)=200:x(2)=2.5:x(3)=50.4
<br>PRINT MAXIMUM (x)
<br></span><br>Returns 200
<br><span style="font-style: italic;">PRINT MAXIMUM (100, ax ,21*10+ac)
<br></span><br>Returns the highest value.
<br><br><h3>NOTE:
<br></h3><br>This function cannot be compiled with Supercharge or Turbo
<br>if you intend to pass an array as the parameter.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATMAX">MATMAX</a>, <a style="font-style: italic;" href="KeywordsM.html#MAXIMUM%">MAXIMUM%</a> and <a style="font-style: italic;" href="KeywordsM.html#MAX">MAX</a> are similar.
<br><br>Refer also to <a style="font-style: italic;" href="KeywordsM.html#MINIMUM">MINIMUM</a> and <a style="font-style: italic;" href="KeywordsM.html#MINIMUM%">MINIMUM%</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MAXIMUM%"></a>MAXIMUM%</h1><br>Syntax: <span style="font-style: italic;">MAXIMUM% </span>[<span style="font-style: italic;"> ( array% )</span> ]
<br><br>or <span style="font-style: italic;">MAXIMUM% ( </span><sup>*</sup>[<span style="font-style: italic;"> value</span> ]<sup>*</sup><span style="font-style: italic;"> )
<br></span>Location: <span style="font-style: italic;">Minmax (DIY Toolkit - Vol Z)
<br></span><br>This function is exactly the same as <span style="font-style: italic;">MAXIMUM</span> except that it
<br>only accepts integer parameters and is therefore able to work
<br>much more quickly.
<br><br>As with <span style="font-style: italic;">MAXIMUM</span>, you can use this function to find the
<br>highest value in an array, provided that the first variant is
<br>used, and the array is a single dimensional integer array.
<br><br>If no parameter is supplied, then the greatest possible
<br>integer number supported by the QL is returned - this is
<br>equivalent to 32767.
<br><br><h3>Example:
<br></h3><span style="font-style: italic;">PRINT MAXIMUM%
<br></span><br>Returns 32767
<br><span style="font-style: italic;">DIM x%(3):x%(0)=10:x%(1)=200:x%(2)=2:x%(3)=50
<br>PRINT MAXIMUM% (x%)
<br></span><br>Returns 200
<br><span style="font-style: italic;">PRINT MAXIMUM% (100, ax ,21*10+ac)
<br></span><br>Returns the highest value as an integer.
<br><br><h3>NOTE:
<br></h3><br>This function cannot be compiled with Supercharge or Turbo
<br>if you intend to pass an array as the parameter.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATMAX">MATMAX</a>, <a style="font-style: italic;" href="KeywordsM.html#MAXIMUM">MAXIMUM</a> and <a style="font-style: italic;" href="KeywordsM.html#MAX">MAX</a> are similar.
<br><br>Refer also to <a style="font-style: italic;" href="KeywordsM.html#MINIMUM%">MINIMUM%</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MB"></a>MB</h1><br>Syntax: <span style="font-style: italic;">MB
<br></span>Location: <span style="font-style: italic;">Minerva
<br></span><br>Early versions of Minerva (pre v1.97) did not have built-in
<br>MultiBASICs and they had to be <span style="font-style: italic;">EXEC</span>uted from disk.  However, you
<br>could make them resident by linking in the file Mulib_rext
<br>with the <span style="font-style: italic;">LRESPR</span> command and then this command, <span style="font-style: italic;">MB</span> would be
<br>available to start up MultiBASIC interpreters.
<br><br>This is not a very convenient way of starting MultiBASICs
<br>as you cannot pass parameters to the MultiBASIC, nor can you
<br>use the command to run filter programs.
<br><br><h3>NOTE:
<br></h3><br>This  command  is  redudant  on  Minerva  v1.97+,  whereby
<br>MultiBASICs can be started up using <span style="font-style: italic;">EXEC pipep</span>.
<br><br><h3>CROSS-REFERENCE:<br></h3><br>See <a style="font-style: italic;" href="KeywordsS.html#SBASIC">SBASIC</a> and <a style="font-style: italic;" href="KeywordsE.html#EW">EW</a>.
<br><br>Also see <a style="font-style: italic;" href="KeywordsQ.html#QUIT">QUIT</a>.
<br><br>Check out the appendix on Multiple BASICs.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MD"></a>MD</h1><br>Syntax: <span style="font-style: italic;">MD subdir
<br></span>Location: <span style="font-style: italic;">Beuletools (Needs Level-2 Drivers)
<br></span><br>This command is just used as an abbreviation for the <span style="font-style: italic;">MAKE_DIR
<br></span>command on Level-2 (and higher) floppy/ winchester/ ramdisk
<br>drivers.
<br><br><h3>CROSS-REFERENCE:<br></h3><br>An alternative would be to rename <a style="font-style: italic;" href="KeywordsM.html#MAKE_DIR">MAKE_DIR</a> with:
<br><br><a style="font-style: italic;" href="KeywordsN.html#NEW_NAME "MAKE_DIR","MD"
">NEW_NAME "MAKE_DIR","MD"
</a><br>See <a style="font-style: italic;" href="KeywordsM.html#MAKE_DIR">MAKE_DIR</a> !
<br><hr style="width: 100%; height: 2px;"><h1><a name="MERGE"></a>MERGE</h1><br>Syntax: <span style="font-style: italic;">MERGE device_filename
<br></span><br>or <span style="font-style: italic;">MERGE </span>[<span style="font-style: italic;">device_</span>]<span style="font-style: italic;">filename</span>   <span style="font-style: italic;">(Toolkit II)
<br></span>Location: <span style="font-style: italic;">QL ROM, Toolkit II
<br></span><br>This command is similar to <span style="font-style: italic;">LOAD</span> except that it does not
<br>clear the current program and variables out of memory prior to
<br>loading the  given  program  file.   Neither  is  the  screen
<br>cleared, which enables loading pictures to be shown on screen
<br>whilst the main program loads.  This means that any line
<br>numbers which appear in the program currently in memory and
<br>which are repeated in the program file will be overwritten by
<br>the lines in the program file, whereas any new lines will be
<br>inserted into the program in memory.
<br><br>Again, any lines without line numbers are automatically
<br>executed as they are loaded into memory.  This could therefore
<br>be used within a program to execute a 'command file' stored on
<br>a directory device (however, see below).
<br><br><h3>Example:
<br></h3><br>A short program - when typed in, save this using the
<br><br>command:
<br><br><span style="font-style: italic;">SAVE mdv1_test1_bas:
<br></span><span style="font-style: italic;">10 REMark Test1
<br>20 PRINT 'The Sinclair QL'
<br></span><br>Now, type <span style="font-style: italic;">NEW</span> and enter the following short program:
<br><span style="font-style: italic;">5 REMark Test
<br>20 PRINT 'An old program line'
<br>30 PRINT 'SuperComputer'
<br></span><br>Now, enter the command:
<br><span style="font-style: italic;">MERGE mdv1_test1_bas
<br></span><br>followed by:
<br><span style="font-style: italic;">LIST
<br></span><br>and the following will now form the program in memory:
<br><span style="font-style: italic;">5 REMark Test
<br>10 REMark Test1
<br>20 PRINT 'The Sinclair QL'
<br>30 PRINT 'SuperComputer'
<br></span><br><h3>NOTE 1:
<br></h3><br>Unfortunately, if you <span style="font-style: italic;">MERGE</span> a file of direct commands (ie. a
<br>program file without line numbers), only the first line will
<br>be read and the file will be left open, making it impossible
<br>to  change  the  disk/microdrive  cartridge.  Some  compilers
<br>provide commands to ensure that the file is closed and all of
<br>the commands executed. Minerva and Toolkit II close the file,
<br>but still only the first command is executed, unless the  <span style="font-style: italic;">MERGE
<br></span>command is used from within a program (in which case, the
<br>whole of the command file is executed).
<br><br>SMS ensures that <span style="font-style: italic;">MERGE</span> works in both of these circumstances.
<br><br><h3>NOTE 2:
<br></h3><br>When writing command files, ensure that the lines are all
<br>checked  thoroughly  before  saving  them  without  the  line
<br>numbers, since a 'bad line' error on such a file may crash the
<br>QL. However, if Toolkit II is present, this makes a safe
<br>recovery, reporting 'bad line'.
<br><br><h3>NOTE 3:
<br></h3><br><span style="font-style: italic;">MERGE</span> can become confused if used from within a <span style="font-style: italic;">PROCedure</span> or
<br><span style="font-style: italic;">FuNction</span>. Minerva and Toolkit II both report 'Not Implemented'.
<br><br><h3>NOTE 4:
<br></h3><br>On Minerva v1.86, <span style="font-style: italic;">MERGE</span> could become a little confused when
<br>used within a program.
<br><br><h3>NOTE 5:
<br></h3><br>When used within a program <span style="font-style: italic;">MERGE</span> and <span style="font-style: italic;">MRUN</span> are the same.
<br><br><h3>NOTE 6:
<br></h3><br>Since Toolkit II v2.22 (and on the Minerva version), <span style="font-style: italic;">MERGE
<br></span>has refused to try and load a file which does not have a file
<br>type of 0 - see <span style="font-style: italic;">FTYP</span>.
<br><br><h3>SMS NOTE:
<br></h3><br><span style="font-style: italic;">MERGE</span> follows the same rules for finding a program name as
<br>the <span style="font-style: italic;">LOAD</span> command.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MRUN">MRUN</a> is very similar. See <a style="font-style: italic;" href="KeywordsL.html#LOAD">LOAD</a> and <a style="font-style: italic;" href="KeywordsS.html#SAVE">SAVE</a>. <a style="font-style: italic;" href="KeywordsD.html#DO">DO</a> is also very
<br>similar to <a style="font-style: italic;" href="KeywordsM.html#MERGE">MERGE</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MIDINET"></a>MIDINET</h1><br>Syntax: <span style="font-style: italic;">MIDINET
<br></span>Location: <span style="font-style: italic;">SMSQ/E, ATARI Emulators
<br></span><br>A  file  MIDINET_rext  is  provided  with  SMSQ/E  and  the
<br>Emulators for the Atari computers which allows you to set up a
<br>Network using the MIDI ports provided on the Atari computers.
<br><br>Once the Network has been set up with the necessary leads,
<br>and MIDINET_rext been loaded on all computers in the Network,
<br>the command <span style="font-style: italic;">MIDINET</span> should be issued to start up the fileserver
<br>Job on each computer.  This creates a background Job called
<br>'MIDINET' which is similar to the 'Server' Job created by
<br><span style="font-style: italic;">FSERVE</span>.
<br><br>The two fileservers are very similar in operation in that
<br>they both allow other computers to access the resources of the
<br>Master machine over the Network.
<br><br>However, MIDINET has built-in protection for files which
<br>can prevent other users in a Network accessing sensitive
<br>files.  This is implemented by means of recognising files
<br>which start with a specific series of characters:
<br><h3>Characters at start
<br>of filename:Effect
<br></h3>*H or *hThese files cannot be accessed over the
<br>Network.  Any attempt to use these files by
<br>a Slave Machine will return 'Not Found'
<br>errors.
<br>*RThese files are Read Only over the Network.
<br>*DThese files cannot be accessed over the
<br>Network and will return 'Not Implemented' -
<br>this prevents direct sector access.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MNET">MNET</a> is needed to control the Network.
<br><br>See also <a style="font-style: italic;" href="KeywordsF.html#FSERVE">FSERVE</a> and <a style="font-style: italic;" href="KeywordsS.html#SERNET">SERNET</a>.
<br><br>See the Appendix on Networks for further details.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MIN"></a>MIN</h1><br>Syntax: <span style="font-style: italic;">MIN (x</span><sup>1</sup><span style="font-style: italic;"> </span><sup>*</sup>[<span style="font-style: italic;">,x</span><sup>i</sup>]<sup>*</sup><span style="font-style: italic;">)
<br></span>Location: <span style="font-style: italic;">Math Package, MINMAX2
<br></span><br>This function must be given at least one number as a
<br>parameter - it will then return the lowest value out of the
<br>given list of parameters.
<br><br><h3>Example:
<br></h3><span style="font-style: italic;">100 INPUT "a ="!a
<br>110 INPUT "b ="!b
<br>120 FOR x=MIN(a,b) TO MAX(a,b): PRINT x
<br></span><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MAX">MAX</a> is <a style="font-style: italic;" href="KeywordsM.html#MIN">MIN</a>'s counterpart.
<br><br>Compare <a style="font-style: italic;" href="KeywordsM.html#MINIMUM">MINIMUM</a> and <a style="font-style: italic;" href="KeywordsM.html#MATMIN">MATMIN</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MINIMUM"></a>MINIMUM</h1><br>Syntax: <span style="font-style: italic;">MINIMUM </span>[<span style="font-style: italic;"> ( array )</span> ]
<br><br>or <span style="font-style: italic;">MINIMUM ( </span><sup>*</sup>[<span style="font-style: italic;"> value</span> ]<sup>*</sup><span style="font-style: italic;"> )
<br></span>Location: <span style="font-style: italic;">Minmax (DIY Toolkit - Vol Z)
<br></span><br>The effect of this function depends on the parameter
<br>supplied.  It is however an extremely fast way of comparing
<br>values.
<br><br>If no parameter is supplied, then the smallest possible
<br>floating point number supported by the QL is returned - this
<br>is equivalent to -1e614.
<br><br>If a single parameter is supplied which is a single
<br>dimensional floating point array, then <span style="font-style: italic;">MINIMUM</span> will return the
<br>value of the smallest number stored within that array.  If you
<br>want to compare the values of an integer array, then use <span style="font-style: italic;">MINIMUM%
<br></span>(a 'bad parameter' is generated with this function).
<br><br>If, however, you use the second variant to pass a list of
<br>values (either numbers or variables), then the smallest value
<br>out of those parameters will be returned.  Please note that
<br>you cannot pass an array in this instance - it is therefore
<br>the same as <span style="font-style: italic;">MIN</span>.
<br><br><h3>Example:
<br></h3><span style="font-style: italic;">DIM x(3):x(0)=10:x(1)=200:x(2)=2.5:x(3)=50.4
<br>PRINT MINIMUM (x)
<br></span><br>Returns 2.5
<br><br><h3>NOTE:
<br></h3><br>This function cannot be compiled with Supercharge or Turbo
<br>if you intend to pass an array as the parameter.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATMIN">MATMIN</a>, <a style="font-style: italic;" href="KeywordsM.html#MINIMUM%">MINIMUM%</a> and <a style="font-style: italic;" href="KeywordsM.html#MIN">MIN</a> are similar.
<br><br>Refer also to <a style="font-style: italic;" href="KeywordsM.html#MAXIMUM">MAXIMUM</a> and <a style="font-style: italic;" href="KeywordsM.html#MAXIMUM%">MAXIMUM%</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MINIMUM%"></a>MINIMUM%</h1><br>Syntax: <span style="font-style: italic;">MINIMUM% </span>[<span style="font-style: italic;"> ( array% )</span> ]
<br><br>or <span style="font-style: italic;">MINIMUM% ( </span><sup>*</sup>[<span style="font-style: italic;"> value</span> ]<sup>*</sup><span style="font-style: italic;"> )
<br></span>Location: <span style="font-style: italic;">Minmax (DIY Toolkit - Vol Z)
<br></span><br>This function is exactly the same as <span style="font-style: italic;">MINIMUM</span> except that it
<br>only accepts integer parameters and is therefore able to work
<br>much more quickly.
<br><br>As with <span style="font-style: italic;">MINIMUM</span>, you can use this function to find the
<br>smallest value in an array, provided that the first variant is
<br>used, and the array is a single dimensional integer array.
<br><br>If no parameter is supplied, then the smallest possible
<br>integer number supported by the QL is returned - this is
<br>equivalent to -32768.
<br><br><h3>NOTE:
<br></h3><br>This function cannot be compiled with Supercharge or Turbo
<br>if you intend to pass an array as the parameter.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsM.html#MATMIN">MATMIN</a>, <a style="font-style: italic;" href="KeywordsM.html#MINIMUM">MINIMUM</a> and <a style="font-style: italic;" href="KeywordsM.html#MIN">MIN</a> are similar.
<br><br>Refer also to <a style="font-style: italic;" href="KeywordsM.html#MAXIMUM%">MAXIMUM%</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MISTake"></a>MISTake</h1><br>Syntax: <span style="font-style: italic;">MISTake
<br></span>Location: <span style="font-style: italic;">QL ROM
<br></span><br><span style="font-style: italic;">MISTake</span> is a keyword which will only rarely ever be found. It
<br>cannot be inserted into a program from the keyboard. Instead,
<br>it is generated internally whenever <span style="font-style: italic;">LOAD</span>, <span style="font-style: italic;">LRUN</span>, <span style="font-style: italic;">MERGE</span> or <span style="font-style: italic;">MRUN
<br></span>commands are used and a line in the file being loaded cannot
<br>be parsed (ie. if it would generate a 'bad line' error if
<br>typed in at the keyboard).
<br><br>Rather than reporting an error and stopping the loading
<br>process, the word <span style="font-style: italic;">MISTake</span> is inserted in the offending line after
<br>the line number. If you then try to <span style="font-style: italic;">RUN</span> the offending line, a
<br>'Bad Line' error will be generated (under SMS the error
<br>'MISTake in program' is reported.
<br><br>You can however <span style="font-style: italic;">EDIT</span> the offending line - you must delete
<br>the word <span style="font-style: italic;">MISTake</span> as well as correcting the error before the line
<br>will be accepted by the parser. Once this is done, then the
<br>program should run as normal.
<br><br><h3>NOTE:
<br></h3><br>Unfortunately, QREF (from Liberation Software) cannot find
<br>lines containing <span style="font-style: italic;">MISTake</span> - in order to do this, you need a much
<br>more  complex  system  such  as  MasterBasic+  (from  Ergon
<br>Development).
<br><br><h3>CROSS-REFERENCE:<br></h3><br>Please see <a style="font-style: italic;" href="KeywordsL.html#LOAD">LOAD</a> and <a style="font-style: italic;" href="KeywordsM.html#MERGE">MERGE</a> about loading a SuperBASIC program
<br>in general.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MKF$"></a>MKF$</h1><br>Syntax: <span style="font-style: italic;">MKF$ (float)
<br></span>Location: <span style="font-style: italic;">BTool
<br></span><br>This function returns a string containing the internal
<br>representation of a floating point number (which is stored as
<br>six bytes).
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsC.html#CVF">CVF</a>, <a style="font-style: italic;" href="KeywordsM.html#MKI$">MKI$</a>, <a style="font-style: italic;" href="KeywordsM.html#MKS$">MKS$</a>, <a style="font-style: italic;" href="KeywordsM.html#MKL$">MKL$</a>, <a style="font-style: italic;" href="KeywordsP.html#PEEK_F">PEEK_F</a>, <a style="font-style: italic;" href="KeywordsP.html#POKE_F
">POKE_F
</a><br><h3>
<br></h3><hr style="width: 100%; height: 2px;"><h1><a name="MKI$"></a>MKI$</h1><br>Syntax: <span style="font-style: italic;">MKI$ (integer%)</span>      <span style="font-style: italic;">integer%=-32768...32767
<br></span>Location: <span style="font-style: italic;">BTool
<br></span><br>The function <span style="font-style: italic;">MKI$</span> returns a string containing the internal
<br>representation of an integer number (which is stored as two
<br>bytes).
<br><br><h3>Example:
<br></h3><br><span style="font-style: italic;">MKI$(11111)="+g"
<br></span><br>because
<br><br><span style="font-style: italic;">CODE("+")*256 + CODE("g")=11111
<br></span><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsC.html#CVI%">CVI%</a> is the opposite function.
<br><br href="KeywordsM.html#MKF$">MKF$</a>, <a style="font-style: italic;" href="KeywordsM.html#MKL$">MKL$</a>, <a style="font-style: italic;" href="KeywordsM.html#MKS$
">MKS$
</a><hr style="width: 100%; height: 2px;"><h1><a name="MKL$"></a>MKL$</h1><br>Syntax: <span style="font-style: italic;">MKL$ (longint)      </span> <span style="font-style: italic;">longint=-2*INTMAX-1...2*INTMAX+1
<br></span>Location: <span style="font-style: italic;">BTool
<br></span><br>This function returns a string containing the internal
<br>format of a long integer number (which is stored as four
<br>bytes).
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsC.html#CVL">CVL</a> is the complementary function.
<br><br href="KeywordsM.html#MKI$">MKI$</a>, <a style="font-style: italic;" href="KeywordsM.html#MKF$">MKF$</a>, <a style="font-style: italic;" href="KeywordsM.html#MKS$
">MKS$
</a><hr style="width: 100%; height: 2px;"><h1><a name="MKS$"></a>MKS$</h1><br>Syntax: <span style="font-style: italic;">MKS$ (string$)
<br></span>Location: <span style="font-style: italic;">BTool
<br></span><br>This function returns a string containing the internal
<br>format of a string {which is stored as two bytes indicating
<br>the length of the string (as returned by <span style="font-style: italic;">MKI$</span>) and the string
<br>itself}.
<br><br><h3>Example:
<br></h3><br><span style="font-style: italic;">MKS$("Test") = CHR$(0)&CHR$(4) & "Test"
<br></span><br>because
<br><span style="font-style: italic;"><br>MKI$ (4)= CHR$(0)&CHR$(4)
<br></span><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsC.html#CVS$">CVS$</a>, <a style="font-style: italic;" href="KeywordsM.html#MKI$">MKI$</a>, <a style="font-style: italic;" href="KeywordsM.html#MKF$">MKF$</a>, <a style="font-style: italic;" href="KeywordsM.html#MKL$
">MKL$
</a><br><h3>
<br></h3><hr style="width: 100%; height: 2px;"><h1><a name="MNET"></a>MNET</h1><br>Syntax: <span style="font-style: italic;">MNET station
<br></span>Location: <span style="font-style: italic;">SMSQ/E, ATARI Emulators
<br></span><br>This command is similar to the <span style="font-style: italic;">NET</span> command in that it sets
<br>the Network Station number of the machine on which it is
<br>issued.  The only difference is that here it sets the station
<br>number for the MIDINET Network (as opposed to QNET).
<br><br><h3>CROSS-REFERENCE:<br></h3><br>See <a style="font-style: italic;" href="KeywordsM.html#MNET%">MNET%</a>, <a style="font-style: italic;" href="KeywordsM.html#MNET_USE">MNET_USE</a> and <a style="font-style: italic;" href="KeywordsN.html#NET">NET</a>.
<br><br>Also please see <a style="font-style: italic;" href="KeywordsM.html#MIDINET">MIDINET</a>, <a style="font-style: italic;" href="KeywordsS.html#SERNET">SERNET</a> and <a style="font-style: italic;" href="KeywordsF.html#FSERVE">FSERVE</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MNET%"></a>MNET%</h1><br>Syntax: <span style="font-style: italic;">MNET%
<br></span>Location: <span style="font-style: italic;">SMSQ/E, ATARI Emulators
<br></span><br>This function returns the current station number of the
<br>computer as set with <span style="font-style: italic;">MNET</span>.
<br><br><h3>CROSS-REFERENCE:<br></h3><br>See <a style="font-style: italic;" href="KeywordsM.html#MNET">MNET</a>.
<br><br href="KeywordsN.html#NET_ID">NET_ID</a> is similar.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MNET_OFF"></a>MNET_OFF</h1><br>Syntax: <span style="font-style: italic;">MNET_OFF
<br></span>Location: <span style="font-style: italic;">SMSQ/E, ATARI Emulators
<br></span><br>This command turns the MIDINET driver off temporarily so
<br>that you can use the MIDI ports independently.
<br><br><h3>CROSS-REFERENCE:<br></h3><br>See <a style="font-style: italic;" href="KeywordsM.html#MNET_ON">MNET_ON</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MNET_ON"></a>MNET_ON</h1><br>Syntax: <span style="font-style: italic;">MNET_ON
<br></span>Location: <span style="font-style: italic;">SMSQ/E, ATARI Emulators
<br></span><br>This command switches the MIDINET driver back on after it
<br>has been disabled with <span style="font-style: italic;">MNET_OFF</span>.
<br><br><h3>CROSS-REFERENCE:<br></h3><br>See <a style="font-style: italic;" href="KeywordsM.html#MNET_OFF">MNET_OFF</a>.
<br></a>Also see <a style="font-style: italic;" href="KeywordsM.html#MIDINET">MIDINET</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MNET_S%"></a>MNET_S%</h1><br>Syntax: <span style="font-style: italic;">MNET_S% (station)
<br></span>Location: <span style="font-style: italic;">SMSQ/E, ATARI Emulators
<br></span><br>This function enables you to check whether a machine with
<br>the specified <span style="font-style: italic;">station</span> number is connected to the MIDINET.  This
<br>can be useful to prevent the problem of the Network retrying
<br>several times before failing when asked to send or read data
<br>from a Network station which does not exist.
<br><br><h3>CROSS-REFERENCE:<br></h3><br>See <a style="font-style: italic;" href="KeywordsM.html#MNET">MNET</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MNET_USE"></a>MNET_USE</h1><br>Syntax: <span style="font-style: italic;">MNET_USE id
<br></span>Location: <span style="font-style: italic;">SMSQ/E, ATARI Emulators
<br></span><br>Due to the fact that MIDINET Networks can be run on
<br>computers alongside SERNET Networks and even QNET Networks, it
<br>may be necessary to alter the identification letter used to
<br>access facilties on other computers in the Network.
<br><br>The default letter <span style="font-style: italic;">id</span> is <span style="font-style: italic;">n</span> (as with <span style="font-style: italic;">FSERVE</span>), but this can be
<br>set  to  any  other  single  letter  by  using  this  command.
<br>However, you should avoid letters which already appear as the
<br>first letter in another device driver (see <span style="font-style: italic;">DEVLIST</span>).
<br><br><h3>Example:
<br></h3><br><span style="font-style: italic;">MNET_USE m
<br><br>OPEN #3,m2_con_512x256a0x0
<br></span><br>Open an input channel covering the screen on station number
<br>2 in the MIDINET Network.
<br><br><h3>CROSS-REFERENCE:<br></h3><br>See <a style="font-style: italic;" href="KeywordsM.html#MNET">MNET</a> and <a style="font-style: italic;" href="KeywordsM.html#MIDINET">MIDINET</a>.
<br></a>Refer also to<a style="font-style: italic;" href="KeywordsM.html#MNET_S%.
">MNET_S%.
</a><br><h3>
<br></h3><hr style="width: 100%; height: 2px;"><h1><a name="MOD"></a>MOD</h1><br>Syntax: <span style="font-style: italic;">x MOD y
<br></span>Location: <span style="font-style: italic;">QL ROM
<br></span><br>This operator returns the value of <span style="font-style: italic;">x</span> to modulus <span style="font-style: italic;">y</span>. This is
<br>defined as <span style="font-style: italic;">x-(x DIV y)*y</span>. If <span style="font-style: italic;">x</span> or <span style="font-style: italic;">y</span> is not an integer value, then
<br>it is rounded to the nearest integer (compare <span style="font-style: italic;">INT</span>).
<br><br>On non-SMS implementations the answer and both parameters
<br>must lie within the range -32768...32767.  On SMS, the answer
<br>and  both  parameters  can  lie  anywhere  within  roughly  -
<br>2e9...2e9.
<br><br><h3>Examples:
<br></h3><span style="font-style: italic;">PRINT 13 DIV 5
<br></span><br>gives the result 3
<br><br>(<span style="font-style: italic;">13 DIV 5</span> is 2 - 2 multiplied by 5 is 10. 13 minus 10 is 3).
<br><span style="font-style: italic;">PRINT 13.4 MOD 1.5
<br></span><br>gives the result 1 <span style="font-style: italic;">(13 MOD 2)</span>.
<br><br><h3>NOTE 1:
<br></h3><br><span style="font-style: italic;">MOD</span> has problems with the value -32768: <span style="font-style: italic;">PRINT -32768 MOD -1</span> gives
<br>the result -1 on most implementations. On Minerva v1.76 (or
<br>later) and SMS v2.77+ it gives the correct result, being 0.
<br><br><h3>NOTE 2:
<br></h3><br>If you write a program for SMSQ/E which uses values outside
<br>the range -32768...32767, this will not work on non-SMSQ/E
<br>machines - instead of <span style="font-style: italic;">PRINT x MOD y</span> you will need to use:
<br><br><span style="font-style: italic;">PRINT x-(INT(x/y)*y)
<br></span><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsD.html#DIV">DIV</a> returns the integer part of <a style="font-style: italic;" href="Keywordsx.html#x">x</a> divided by <a style="font-style: italic;" href="Keywordsy.html#y">y</a>.
<br><br>Also please see the alternative version of <a style="font-style: italic;" href="KeywordsM.html#MOD">MOD</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MOD"></a>MOD</h1><br>Syntax: <span style="font-style: italic;">MOD (x,y)
<br></span>Location: <span style="font-style: italic;">Math Package
<br></span><br>The function <span style="font-style: italic;">MOD</span> returns the value <span style="font-style: italic;">x-(DIV(x,y)*y)</span>, ie. the value
<br>of <span style="font-style: italic;">x</span> to modulus <span style="font-style: italic;">y</span>, in a similar fashion to the ROM based
<br>operator <span style="font-style: italic;">MOD</span>. However, this version is not limited to a range
<br>of -32768 to 32767, but will accept parameters in the range
<br>-INTMAX to INTMAX.
<br><br>Because both versions of <span style="font-style: italic;">MOD</span> return the integer remainder of
<br>a division, <span style="font-style: italic;">x MOD 0</span> or <span style="font-style: italic;">MOD(x,0)</span> lead to an overflow error, because
<br>division by zero is undefined.
<br><br><h3>NOTE 1:
<br></h3><br>Both versions of <span style="font-style: italic;">MOD</span> can be used in the same program,
<br>although the Turbo and Supercharge compilers will not accept
<br>this alternative form.
<br><br><h3>NOTE 2:
<br></h3><br>If you try to use a program compiled under Turbo or
<br>Supercharge after loading the Math Package, if the program
<br>uses the normal SuperBASIC operator <span style="font-style: italic;">MOD</span> or <span style="font-style: italic;">DIV</span>, an error will be
<br>generated and the program will refuse to work!
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsD.html#DIV
">DIV
</a><br><a style="font-style: italic;" href="KeywordsM.html#MOD">MOD</a> (ROM version)
<br><hr style="width: 100%; height: 2px;"><h1><a name="MODE"></a>MODE</h1><br>Syntax: <span style="font-style: italic;">MODE mode%
<br></span><br>or <span style="font-style: italic;">MODE screen_mode </span>[<span style="font-style: italic;">,display_type</span>]
<br><span style="font-style: italic;"><br>       (Minerva, Q-Emulator, Amiga-QDOS v3.23+)
<br></span><br>or <span style="font-style: italic;">MODE </span>[<span style="font-style: italic;">screen_mode </span>[<span style="font-style: italic;">,display_type</span>]]<span style="font-style: italic;">(PEX only)
<br></span>Location: <span style="font-style: italic;">QL ROM, PEX
<br></span><br>The original QDOS operating system will only recognise two
<br>display modes: Low resolution and High resolution.
<br><br>However, the following <span style="font-style: italic;">MODE</span>s are currently set aside for use
<br>by QDOS compatible systems:
<br><h3><span style="font-style: italic;">MODE</span>ResolutionColours  System
<br></h3>2640 x 4002SMS-2
<br>4<=1000 x 4004SMS-2
<br>4768 x 2804ST/QL, Ext. MODE 4
<br>4<=1024 x 10244QVME
<br>4<=800 x 6004QXL, QXL II, QPC
<br>4512 x 2564QDOS and others
<br>8256 x 2568QDOS and others
<br>8256 X 2564ST/QLs
<br>12256 x 25616THOR XVI
<br><br>The <span style="font-style: italic;">MODE</span> command is used to select the mode and redraw all
<br>windows. Without Qjump's Window Manager <span style="font-style: italic;">WMAN</span>, the screen mode is
<br>set globally, whereas if <span style="font-style: italic;">WMAN</span> (or SMSQ/E) is installed (this is
<br>highly recommended), <span style="font-style: italic;">MODE</span> will only affect the current job.
<br><br>The parameter <span style="font-style: italic;">mode%</span> can be any legal integer between <span style="font-style: italic;">-32768 and
<br>32767</span>. However, to ensure compatibility with other systems one
<br>of the above four values should be used.  Normally if a system
<br>does not support the mode type selected, <span style="font-style: italic;">MODE 4</span> is selected.
<br><br>The <span style="font-style: italic;">MODE</span> command also resets the current status of <span style="font-style: italic;">UNDER</span>,
<br><span style="font-style: italic;">FLASH</span>, <span style="font-style: italic;">CSIZE</span> and <span style="font-style: italic;">OVER</span>.
<br><br>Without specialised software, only one screen mode can be
<br>used at a time (even with the specialised software contained
<br>in the Quanta library, the screen can only be split in two
<br>horizontally).
<br><br>The second variant is supported on Minerva, Q-Emulator (for
<br>the MacIntosh), PEX and the Amiga QDOS Emulator (v3.23+) and
<br>allows you to dictate the type of display used.  The <span style="font-style: italic;">display_type
<br></span>can be one of four values (the default is -1):
<br><h3><span style="font-style: italic;">display_type</span>effect
<br></h3>0          Set to monitor mode
<br>1          Set to TV (625 lines) mode (European)
<br>2          Set to TV (525 lines) mode (American)
<br>-1          Leave display type as it is
<br><br>On the PEX variant, if you do not specify any parameters,
<br><span style="font-style: italic;">MODE</span> will default to <span style="font-style: italic;">MODE 4,0
<br></span><br><h3>
<br></h3><br><h3>NOTE 1:
<br></h3><br>Normally, High resolution is described as <span style="font-style: italic;">MODE 4</span> because this
<br>value represents a characteristic of the mode (4 colours) as
<br>well as setting it. Equally, <span style="font-style: italic;">MODE 8</span> stands for Low resolution.
<br>However, with the ability of QDOS to access much higher
<br>resolution screens,  these  terms  now tend  to  be  somewhat
<br>unecessary.
<br><br><h3>NOTE 2:
<br></h3><br>Unfortunately for Minerva users who wish to run software in
<br>dual screen mode, current versions of the Pointer Interface do
<br>not allow you to have different <span style="font-style: italic;">MODE</span>s on each of the two screens
<br>(the pointer interface fails to recognise that a program is
<br>running on the second screen only and does not therefore
<br>affect the main display screen located at $20000). Speedscreen
<br>may also give problems in Minerva's dual screen mode unless
<br>the p version is used.
<br><br><h3>NOTE 3:
<br></h3><br>If you want to make your programs appear more professional,
<br>you should always seek to cut out unnecessary <span style="font-style: italic;">MODE</span> commands (see
<br><span style="font-style: italic;">RMODE</span>), also because of the fact that <span style="font-style: italic;">MODE</span> tends to re-draw all
<br>of the current windows (clearing them in their current paper
<br>and border colours as it works), it is always an idea to
<br>ensure that all currently opened windows are set to black
<br>paper and black (or no) border before issuing this command.
<br><br><h3>NOTE 4:
<br></h3><br>On an American JSU QL (which was adapted for use with the
<br>American 525-line  TV  picture,  as opposed  to  the  British
<br>625-line TV picture), only 192 lines of pixels are allowed
<br>instead of the normal 256 in <span style="font-style: italic;">MODE 4</span> and <span style="font-style: italic;">MODE 8</span> (when the QL is
<br>linked to a TV). There are less and less users using their QL
<br>with a TV set nowadays and therefore this can be largely
<br>ignored. In any event, software should generally still run on
<br>an American QL without modification (the lower number of
<br>available lines on the TV screen ensures that pictures still
<br>appear to retain the same height/width ratio).
<br><br><h3>NOTE 5:
<br></h3><br>If you are planning to use the dual screen mode, it is
<br>essential that you ensure that the current screen is also the
<br>displayed screen before opening windows or using the <span style="font-style: italic;">MODE
<br></span>command - see below.
<br><br><h3>NOTE 6:
<br></h3><br>The standard screen modes are MODE 4 and MODE 8.  MODE 8 is
<br>however only supported on a limited number of implementations.
<br>It is supported by the original QL, some early ST-QL Emulators
<br>and Amiga-QDOS (v3.23+).
<br><br><h3>DUAL SCREEN MODE:
<br></h3><br>Minerva and some other implementations allow you to have
<br>two screens which can both be accessed by the user (and can be
<br>switched between by pressing &lt;CTRL&gt;&lt;TAB&gt;). Each of these two
<br>screens (if you are in dual screen mode), can support a
<br>different mode. In order to cater for these new features,
<br><span style="font-style: italic;">screen_mode</span> is very complex, and to make it worse, it is important
<br>to know which screen is the default screen (see <span style="font-style: italic;">DEFAULT_SCR</span>).
<br><br>Programs which use the normal <span style="font-style: italic;">MODE</span> commands will still work
<br>under dual screen mode, since the new version of the <span style="font-style: italic;">MODE
<br></span>command will only work if the <span style="font-style: italic;">display_type</span> is specified.
<br><br>When the QL is first started, unless you choose &lt;F3&gt; or
<br>&lt;F4&gt; (on Minerva), only one screen will be available for use
<br>by programs, otherwise Minerva is placed into Dual Screen
<br>Mode.
<br><br>In the dual screen mode, after starting up the QL, the
<br><span style="font-style: italic;">default screen</span> is <span style="font-style: italic;">scr0</span> (located at $20000 - the normal QL display
<br>screen). The second screen (<span style="font-style: italic;">scr1</span>) is located at $28000 and is
<br>known as the <span style="font-style: italic;">Other Screen</span>.
<br><br>To make matters worse, each job present in the QL's memory
<br>will be allocated its own <span style="font-style: italic;">default screen</span>, being the current
<br>default when it was started. A job can therefore alter its own
<br>current <span style="font-style: italic;">default screen</span> without upsetting the rest of the system.
<br><br>Before proceeding any further it is important to realise
<br>that the <span style="font-style: italic;">Displayed Screen</span> (what you can see on your TV/monitor)
<br>and the <span style="font-style: italic;">Default Screen</span> are not necessarily one and the same
<br>thing.
<br><br>Oh, it is also important to know that a screen can also be
<br>either <span style="font-style: italic;">visible</span> or <span style="font-style: italic;">blank</span> (this is so that work can be prepared on
<br>a screen without the user being able to see the process).
<br>Perhaps some definitions might help:
<br><br><span style="font-style: italic;">Displayed Screen:</span>this is the screen which is currently in
<br><br>front of the user on his/her monitor or
<br><br>TV.
<br><br><span style="font-style: italic;">Default Screen:</span>the screen on which a program's windows
<br><br>will be opened and upon which the normal
<br><br><span style="font-style: italic;">MODE  4</span>  and  <span style="font-style: italic;">MODE  8</span>  commands  will  have  an
<br><br>effect.
<br><br><span style="font-style: italic;">Other Screen:</span>the opposite to the <span style="font-style: italic;">Default Screen</span> (ie. if
<br><br>the <span style="font-style: italic;">Default Screen</span> is <span style="font-style: italic;">scr0</span>, then the <span style="font-style: italic;">Other
<br><br>Screen</span> will be <span style="font-style: italic;">scr1</span>).
<br><br><span style="font-style: italic;">Visible Screen:</span>this means that the specified screen can
<br><br>actually be seen by the user.
<br><br><span style="font-style: italic;">Blank Screen:</span>the specified screen is invisible to the
<br><br>user (allows background work to be carried
<br><br>out).
<br><br><span style="font-style: italic;">OPEN#3,scr_448x200a32x16
<br></span><br>will open a new window on the current <span style="font-style: italic;">Default Screen</span>. After
<br>this, any subsequent commands using #3 will be shown on that
<br>screen (whether or not it is still the current <span style="font-style: italic;">Default Screen</span>).
<br>Problems may exist with some Toolkit functions which do not
<br>check to see where the screen starts for the given window, and
<br>just assume that the screen starts at $20000.
<br><br>Unfortunately,  current  versions  of  Lightning  and  the
<br>Pointer Interface  introduce  various problems  to  the  Dual
<br>Screen Mode, the most important one of which is that the
<br>screen will not be re-drawn unless the current screen is also
<br>the <span style="font-style: italic;">Displayed Screen</span>.
<br><br>Another plus to the altered <span style="font-style: italic;">MODE</span> command is that there is no
<br>forced re-draw of all the current windows unless you specify
<br>that this must be carried out (or if you use the original <span style="font-style: italic;">MODE
<br></span>variants).
<br><br>In order to try and explain the new <span style="font-style: italic;">display_mode</span> parameters, it
<br>is easier to split it into two sections: toggling current
<br>values and setting absolute values. 
<br><br><h3>Toggling the screen parameters
<br></h3><br>This uses the format <span style="font-style: italic;">MODE 64+n,-1</span>, where:
<br><h3><span style="font-style: italic;">n</span>EffectFrom:To:
<br></h3>1Toggle <span style="font-style: italic;">Other Screen</span>visibleblank
<br>2Toggle <span style="font-style: italic;">Default Screen</span>visibleblank
<br>4Toggle <span style="font-style: italic;">Other Screen Mode</span>4-colour8-colour
<br>8Toggle <span style="font-style: italic;">Default Screen Mode</span>4-colour8-colour
<br>16Toggle <span style="font-style: italic;">Displayed Screen</span>scr0scr1
<br>32Toggle <span style="font-style: italic;">Default Screen</span>scr0scr1
<br><br>Adding together different values of <span style="font-style: italic;">n</span> will combine these
<br>effects (although if one of the values is to be 32, the
<br><span style="font-style: italic;">default screen</span> will be toggled before anything else is carried
<br>out).
<br><br><h3>Examples:
<br></h3><br><span style="font-style: italic;">MODE 64+16,-1: PAUSE: MODE 64+16,-1
<br></span><br>Show both screens.
<br><span style="font-style: italic;"><br>MODE 64+4+8,-1
<br></span><br>Toggle the mode of both screens
<br><br>Details  of  the  values  used  to  set  absolute  screen
<br>parameters appear on the next page.
<br><br><h3>Setting absolute screen parameters
<br></h3><br>This uses the format
<br><br><span style="font-style: italic;">MODE -128 + m - 256 * t + c, -1
<br></span><br>where:
<br><br><span style="font-style: italic;">m = k1*n1 + k2*n2 + k3*n3 +...
<br></span><br><span style="font-style: italic;">t = n1 + n2 + n3 +...n
<br></span><br><span style="font-style: italic;">c=</span> (see below)
<br><span style="font-style: italic;">n</span> can have the same values as above,
<br>depending on which effect is to be
<br>altered.
<br><span style="font-style: italic;">k1</span>, <span style="font-style: italic;">k2</span>, <span style="font-style: italic;">k3</span> etc. have the following effect upon the
<br>corresponding values of <span style="font-style: italic;">n1</span>, <span style="font-style: italic;">n2</span>, <span style="font-style: italic;">n3</span>, etc.:
<br><h3><span style="font-style: italic;">k</span>Sets <span style="font-style: italic;">n</span> to:
<br></h3>0the 'from..' column above
<br>1the 'to..' column above    
<br><h3><span style="font-style: italic;">c</span>Effect
<br></h3>0        Do not redraw any screens
<br>-16384   Re-draw the <span style="font-style: italic;">Other Screen
<br></span>32768    Re-draw the <span style="font-style: italic;">Default Screen
<br></span>16384    Re-draw both screens
<br><br>Again, different effects can now be combined with relevant
<br>values for each <span style="font-style: italic;">n</span> and <span style="font-style: italic;">k</span>.  If you wish to toggle any effects at
<br>the same time, simply add the corresponding value of <span style="font-style: italic;">n</span> to the
<br>first parameter.
<br><br>Some Minerva manuals do not have the correct formula for
<br>calculating these values, which can lead to some peculiar
<br>results.  Changing the <span style="font-style: italic;">default screen</span> will again take precedence
<br>to all other changes.
<br><br><h3>Dual Screen Examples:
<br></h3><br><span style="font-style: italic;">MODE 4
<br></span><br>change the <span style="font-style: italic;">Default Screen</span> to <span style="font-style: italic;">MODE 4</span> and re-draw all currently
<br><br>opened windows on the <span style="font-style: italic;">Default Screen</span>.
<br><br><span style="font-style: italic;">MODE 64+32,-1
<br></span><br>toggle current <span style="font-style: italic;">Default Screen</span>.
<br><br><span style="font-style: italic;">MODE 64+32+16,-1
<br></span><br>toggle current <span style="font-style: italic;">Default Screen</span> and show to user.
<br><br><span style="font-style: italic;">MODE-17791,-1
<br></span><br>blank out <span style="font-style: italic;">Other Screen</span> and then force it into 4-colour mode,
<br><br>redrawing all windows:
<br><br><span style="font-style: italic;">t = 1 + 4
<br><br>m = 1*1 + 0*4
<br><br>c = -16384
<br><br>-17791 = -128 + m - 256*t + c
<br></span><br><h3>
<br></h3><br>Care must however be taken when opening channels if the two
<br>screens are in different modes - on versions of Minerva
<br>earlier than v1.97, if you open a channel on the non-Displayed
<br>Screen, it will have the characteristics of a window opened in
<br>the mode of the Displayed Screen (although sadly this does not
<br>mean that you can have a <span style="font-style: italic;">MODE 4</span> window in the middle of a <span style="font-style: italic;">MODE 8
<br></span>screen). To ensure that the current Default Screen is the
<br>current Displayed Screen, use:
<br><span style="font-style: italic;"><br>MODE -128 + DEFAULT_SCR * 16 - 256 * 16, -1
<br></span><br><h3>Q-EMULATOR NOTE:
<br></h3><br>Q-Emulator  for  the  Apple  MacIntosh  computer  supports
<br>Minerva's dual screen mode and the extended <span style="font-style: italic;">MODE</span> command.
<br><br><h3>AMIGA-QDOS NOTE:
<br></h3><br>From v3.23, the Amiga-QDOS Emulator also supports Minerva's
<br>dual screen mode and the extended <span style="font-style: italic;">MODE</span> command.
<br><br>Before this version, it did not support <span style="font-style: italic;">MODE 8</span>.  Even now,
<br><span style="font-style: italic;">FLASH</span> is not supported in <span style="font-style: italic;">MODE 8</span>.
<br><br><h3>WARNING 1:
<br></h3><br>Changing the <span style="font-style: italic;">display_type</span> may have odd effects, especially if
<br>Qjump's Button Frame (part of QPAC2) is present.
<br><br><h3>WARNING 2:
<br></h3><br>On pre JS ROMs, if you open a screen (scr_) or console
<br>(con_) channel after a <span style="font-style: italic;">MODE</span> command, the ink and paper colours
<br>for the new channel could both be 0 (black).
<br><br><h3>WARNING 3:
<br></h3><br>On pre Minerva ROMs, <span style="font-style: italic;">MODE</span> alters the value contained in the
<br>system  variable  SYS.DTYP  (also  known  as  SV.TMOD)  which
<br>normally contains a value from 0...2 showing the type of
<br>TV/Monitor the QL is set up for. Speedscreen, the Pointer
<br>Environment and Lightning all fix this.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsR.html#RMODE">RMODE</a> can be used to read the current screen mode (and even
<br>whether the second screen is available) and <a style="font-style: italic;" href="KeywordsD.html#DEFAULT_SCR">DEFAULT_SCR</a> will tell
<br>you which is the current default screen.
<br><br href="KeywordsS.html#SCREEN(#3)">SCREEN(#3)</a> will tell you the address of the start of the
<br>screen on which window #3 is situated.
<br><br><a style="font-style: italic;" href="KeywordsD.html#DISP_SIZE">DISP_SIZE</a> can be used to set the size of the displayed screen
<br>on extended resolutions.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MORE"></a>MORE</h1><br>Syntax: <span style="font-style: italic;">MORE</span> [<span style="font-style: italic;">#ch,</span>] <span style="font-style: italic;">filename
<br></span>Location: <span style="font-style: italic;">MORE (DIY Toolkit - Vol V)
<br></span><br>This  command  adds  quite  a  sophisticated  file  viewing
<br>facility to the QL which far surpasses the simple Toolkit II
<br><span style="font-style: italic;">VIEW</span> command.
<br><br>In its simplest form, <span style="font-style: italic;">MORE</span> will open a channel to the
<br>specified <span style="font-style: italic;">filename</span> (adding the data default directory if the file
<br>does not exist) and display it in the specified window channel
<br>(default #1).  If <span style="font-style: italic;">#ch</span> does not refer to a window or is #0, then
<br>bad parameter will be reported.
<br><br>The file will then be displayed in the specified channel,
<br>one window full at a time.  #0 is used by the command to
<br>display the length of the file in bytes and the number of the
<br>last byte displayed in the window.  You can move around the
<br>file by using the following keys:
<br><br>&lt;ENTER&gt;Allows you to enter a file position to look at
<br>(this will be the first byte displayed in the
<br>window).
<br><br>&lt;ALT&gt;&lt;UP&gt;This moves back up the file one page at a time.
<br><br>&lt;ALT&gt;&lt;DOWN&gt;This moves down the file one page at a time.
<br><br>&lt;DOWN&gt;Move down the file one line
<br><br>&lt;ESC&gt;Leave <span style="font-style: italic;">MORE</span>.
<br><br><span style="font-style: italic;">MORE</span> can however, also be used to look at the QL's memory
<br>(or that on a networked computer) by using the <span style="font-style: italic;">MEM</span> device. In
<br>this mode, only the address of the last byte on screen is
<br>shown in #0 - there is no file length. For example:
<br><br><span style="font-style: italic;">MORE #2,MEM
<br></span><br>will allow you to use <span style="font-style: italic;">MORE</span> to page through the whole of the
<br>QL's memory.
<br><span style="font-style: italic;"><br>MORE #2,n2_MEM
<br></span><br>allows you to page through the whole of another computer's
<br>memory.
<br><br><span style="font-style: italic;">OPEN #3,MEM7_60p:PRINT #3,'Hello World':CLOSE #3
<br></span><br>creates a permanent buffer (MEM7) and stores two words in
<br>it.
<br><br><span style="font-style: italic;">MORE #2,MEM7
<br></span><br>allows you to look at the contents of the buffer MEM7.
<br><br><h3>NOTE:
<br></h3><br>Trying to use <span style="font-style: italic;">MORE</span> on anything other than files or <span style="font-style: italic;">MEM
<br></span>devices (for example on named pipes) will cause problems -
<br>press &lt;CTRL&gt;&lt;SPACE&gt; a few times to escape from this.
<br><br><h3>CROSS-REFERENCE:<br></h3><br>Refer to the Devices Appendix for more details on <a style="font-style: italic;" href="KeywordsM.html#MEM">MEM</a>.
<br><br>Compare <a style="font-style: italic;" href="KeywordsC.html#COPY flp1_test_bas to SCR">COPY flp1_test_bas to SCR</a> and <a style="font-style: italic;" href="KeywordsV.html#VIEW">VIEW</a>.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MOVE"></a>MOVE</h1><br>Syntax: <span style="font-style: italic;">MOVE</span> [<span style="font-style: italic;">#ch,</span>] <span style="font-style: italic;">distance
<br></span>Location: <span style="font-style: italic;">QL ROM
<br></span><br>The QL supports a simplified means of drawing pictures
<br>known as  turtle  graphics.  This was  based  upon  an  early
<br>educational tool, whereby simple commands could be entered
<br>into a computer to drive a small robot turtle which moved
<br>around the floor and held a pen. This pen could either be up
<br>in which case the turtle would just move around, or down in
<br>which case a line would be left by the turtle on the floor as
<br>it moved.
<br><br>When a window is first opened, an invisible turtle appears
<br>at the graphics origin (altered with <span style="font-style: italic;">SCALE</span>) facing to the right,
<br>with its pen in the up position.
<br><br>The command <span style="font-style: italic;">MOVE</span> forces the turtle in the specified window
<br>(default #1) to move in the current direction by the specified
<br><span style="font-style: italic;">distance</span>. The actual distance moved on screen depends on the
<br>current <span style="font-style: italic;">SCALE</span> applicable to that window. If <span style="font-style: italic;">distance</span> is negative,
<br>the turtle will move backwards.
<br><br><span style="font-style: italic;">MOVE</span> always works from the current graphics cursor position,
<br>and after using this command, the current graphics cursor is
<br>placed at the turtle's position on screen.
<br><br><span style="font-style: italic;">MOVE</span> is affected by the current <span style="font-style: italic;">INK</span> colour, <span style="font-style: italic;">FILL</span> and also <span style="font-style: italic;">OVER</span>,
<br>just like any other graphics command.
<br><br><h3>Example:
<br></h3><br>A simple procedure to draw a shape of a set number of equal
<br><br>length sides:
<br><span style="font-style: italic;">100 DEFine PROCedure POLYGON (chan,sides,side_length)
<br>110  TURNTO #chan,0: PENDOWN #chan
<br>120  FOR k=1 TO sides
<br>130    MOVE #chan,side_length
<br>140    TURN #chan,360/sides
<br>150  END FOR k
<br>155  PENUP #chan
<br>160 END DEFine
<br></span><br>Try for example, <span style="font-style: italic;">POLYGON #2,5,10</span>.
<br><br><h3>NOTE:
<br></h3><br>The THOR XVI v6.40 tended to crash when using turtle
<br>graphics, especially if a channel number was specified.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsP.html#PENDOWN">PENDOWN</a> forces the pen into the down position, leaving a
<br>trail on screen.
<br><br href="KeywordsP.html#PENUP">PENUP</a> allows the turtle to move without leaving a trail.
<br><br href="KeywordsT.html#TURN">TURN</a> and <a style="font-style: italic;" href="KeywordsT.html#TURNTO">TURNTO</a> allow you to alter the direction of the
<br>turtle.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MRUN"></a>MRUN</h1><br>Syntax: <span style="font-style: italic;">MRUN device_filename
<br></span><br>or <span style="font-style: italic;">MRUN </span>[<span style="font-style: italic;">device_</span>]<span style="font-style: italic;">filename</span> <span style="font-style: italic;">(Toolkit II)
<br></span>Location: <span style="font-style: italic;">QL ROM, Toolkit II
<br></span><br>This command is similar to <span style="font-style: italic;">MERGE</span> except that once the two
<br>programs have been merged, if <span style="font-style: italic;">MRUN</span> was issued as a direct
<br>command, then the merged program is <span style="font-style: italic;">RUN</span> from line 1. However,
<br>if  <span style="font-style: italic;">MRUN</span>  was  used  from  within  the  program,  the  statement
<br>following the <span style="font-style: italic;">MRUN</span> statement is executed, thus making this
<br>command the same as <span style="font-style: italic;">MERGE</span> when used within a program.
<br><br><h3>CROSS-REFERENCE:<br></h3><br>See <a style="font-style: italic;" href="KeywordsM.html#MERGE">MERGE</a>!
<br><hr style="width: 100%; height: 2px;"><h1><a name="MSEARCH"></a>MSEARCH</h1><br>Syntax: <span style="font-style: italic;">MSEARCH (add1 TO add2, tofind$)
<br></span>Location: <span style="font-style: italic;">MSEARCH (DIY Toolkit - Vol X)
<br></span><br>This function is very similar to the Tiny Toolkit version
<br>of the <span style="font-style: italic;">SEARCH</span> function except that it performs an extremely fast
<br>case-independent search through memory (much more quickly than
<br>other implementations).
<br><br><h3>CROSS-REFERENCE:<br></h3><br>See <a style="font-style: italic;" href="KeywordsS.html#SEARCH">SEARCH</a> and <a style="font-style: italic;" href="KeywordsT.html#TTFINDM">TTFINDM</a> also.
<br><br><a style="font-style: italic;" href="KeywordsS.html#SEARCH_MEM">SEARCH_MEM</a> is a variant on this version.
<br><hr style="width: 100%; height: 2px;"><h1><a name="MT"></a>MT</h1><br>Syntax: <span style="font-style: italic;">MT (i,n)
<br></span>Location: <span style="font-style: italic;">Toolfin
<br></span><br>The function <span style="font-style: italic;">MT</span> returns the value of <span style="font-style: italic;">(1+i)<sup>n</span></sup> where <span style="font-style: italic;">i</span> and <span style="font-style: italic;">n</span> can
<br>be  any  floating  point  numbers.  Instead  of  reporting  an
<br>overflow error for values which cannot be computed (eg. <span style="font-style: italic;">i=-1</span>,
<br><span style="font-style: italic;">n=-1</span>) <span style="font-style: italic;">MT</span> returns 1. If the returned value would be too large, a
<br>modulated value is returned. It is therefore imperative that
<br>the programmer takes care that the parameters are correct,
<br>otherwise the return values may not make much sense.
<br><br><h3>Example 1:
<br></h3><br><span style="font-style: italic;">MT</span> gives you a factor which indicates the increase (<span style="font-style: italic;">i>1</span>) or
<br><br>decrease (<span style="font-style: italic;">i<1</span>) of capital at an interest rate <span style="font-style: italic;">i</span> over a
<br><br>number  of  periods  <span style="font-style: italic;">n</span>.  The  gain  is  known  as  compound
<br><br>interest. If you give any sum to a bank at an interest rate
<br><br>of five percent (ie. annual 5 per 100 increase) for (say)
<br><br>ten years, you will gain 62.9% because:
<br><br><span style="font-style: italic;">MT(0.05, 10) = 1.628895
<br></span><br><h3>Example 2:
<br></h3><br><span style="font-style: italic;">MT(1/n,n)</span> approximates <span style="font-style: italic;">EXP(1)</span> for large values of <span style="font-style: italic;">n</span>.
<br><br><h3>CROSS-REFERENCE:<br></h3><br><a style="font-style: italic;" href="KeywordsV.html#VA">VA</a>, <a style="font-style: italic;" href="KeywordsV.html#VFR">VFR</a>, <a style="font-style: italic;" href="KeywordsV.html#VAR">VAR</a>, <a style="font-style: italic;" href="KeywordsT.html#TCA">TCA</a>, <a style="font-style: italic;" href="KeywordsT.html#TNC">TNC</a>, <a style="font-style: italic;" href="KeywordsT.html#TEE">TEE</a>, <a style="font-style: italic;" href="KeywordsR.html#RAE">RAE</a>, <a style="font-style: italic;" href="KeywordsR.html#RAFE
">RAFE
</a><br><h3>
<br></h3><hr style="width: 100%; height: 2px;"><h1><a name="MTRAP"></a>MTRAP</h1><br>Syntax: <span style="font-style: italic;">MTRAP key </span>[<span style="font-style: italic;">,d1 </span>[<span style="font-style: italic;">,d2 </span>[<span style="font-style: italic;">,d3 </span>[<span style="font-style: italic;">,a0 </span>[<span style="font-style: italic;">,a1 </span>]]]]]
<br><br>or <span style="font-style: italic;">MTRAP key\jobnr </span>[<span style="font-style: italic;">,d2 </span>[<span style="font-style: italic;">,d3 </span>[<span style="font-style: italic;">,a0 </span>[<span style="font-style: italic;">,a1 </span>]]]]]
Location: <span style="font-style: italic;">TRAPS (DIY Toolkit Vol T)
<br></span><br>This command is similar to <span style="font-style: italic;">QTRAP</span> in that it allows you to
<br>access the machine code TRAP #1 system calls directly.
<br><br>Unless you are using the second variant, you will need to
<br>pass at least one parameter, the operation <span style="font-style: italic;">key</span> to be carried
<br>out (this is equivalent to the value in D0 when TRAP #1 is
<br>performed).  The other parameters allow you to pass the
<br>various register values which may be required by the system
<br>calls.
<br><br>The second variant is useful for when you are using a
<br>TRAP #1 call which requires a job ID - you can merely pass the
<br><span style="font-style: italic;">jobnr</span> of the required job, obtained from the <span style="font-style: italic;">JOBS</span> list (rather
<br>than having to set D1 to the Job ID).
<br><br>For example to force remove Job 12, use the command:
<br><br><span style="font-style: italic;">MTRAP 5\12,0,0
<br></span><br><h3>WARNING:
<br></h3><br>Several TRAP #1 calls can crash the computer - make certain
<br>that you know what you are doing!
<br><br><h3>CROSS-REFERENCE:<br></h3><br>See <a style="font-style: italic;" href="KeywordsI.html#IO_TRAP">IO_TRAP</a>, <a style="font-style: italic;" href="KeywordsQ.html#QTRAP">QTRAP</a> and <a style="font-style: italic;" href="KeywordsB.html#BTRAP">BTRAP</a>.
<br><br><a style="font-style: italic;" href="KeywordsR.html#REMOVE_TASK">REMOVE_TASK</a> and <a style="font-style: italic;" href="KeywordsR.html#RJOB">RJOB</a> are better for removing Jobs.
<br><br>Any return parameters can be read with <a style="font-style: italic;" href="KeywordsD.html#DATAREG">DATAREG</a> and <a style="font-style: italic;" href="KeywordsA.html#ADDREG">ADDREG</a>.
<br><br>Refer to the QDOS/SMS Reference Manual (Section 15) for
<br>details of the various system TRAP #3 calls.
<br></div>
</body>
</html>
